(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@keyframes react-loading-skeleton{to{transform:translate(100%)}}.react-loading-skeleton{--base-color: #ebebeb;--highlight-color: #f5f5f5;--animation-duration: 1.5s;--animation-direction: normal;--pseudo-element-display: block;background-color:var(--base-color);width:100%;border-radius:.25rem;display:inline-flex;line-height:1;position:relative;-webkit-user-select:none;user-select:none;overflow:hidden}.react-loading-skeleton:after{content:" ";display:var(--pseudo-element-display);position:absolute;top:0;left:0;right:0;height:100%;background-repeat:no-repeat;background-image:var( --custom-highlight-background, linear-gradient( 90deg, var(--base-color) 0%, var(--highlight-color) 50%, var(--base-color) 100% ) );transform:translate(-100%);animation-name:react-loading-skeleton;animation-direction:var(--animation-direction);animation-duration:var(--animation-duration);animation-timing-function:ease-in-out;animation-iteration-count:infinite}@media (prefers-reduced-motion){.react-loading-skeleton{--pseudo-element-display: none}}')),document.head.appendChild(e)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();
var A_=Object.defineProperty;var C_=(e,t,n)=>t in e?A_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var y=(e,t,n)=>C_(e,typeof t!="symbol"?t+"":t,n);function E_(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const ey="warmly-widget",k_=ey,Pl="1.1";async function fd(e,t,n){n!=null&&n.remote}class O_{constructor(t,n){y(this,"uiLogger");y(this,"logLevel");y(this,"debug",(...t)=>{this.extractOptions(t);const n=this.extractData(t);oo(this.logLevel,"debug")&&this.uiLogger.debug(...n)});y(this,"log",(...t)=>{this.extractOptions(t);const n=this.extractData(t);oo(this.logLevel,"log")&&this.uiLogger.log(...n)});y(this,"info",(...t)=>{const n=this.extractOptions(t),i=this.extractData(t);oo(this.logLevel,"info")&&(this.uiLogger.info(...i),fd("info",i,n))});y(this,"warn",(...t)=>{const n=this.extractOptions(t),i=this.extractData(t);oo(this.logLevel,"warn")&&(this.uiLogger.warn(...i),fd("warn",i,n))});y(this,"error",(...t)=>{const n=this.extractOptions(t),i=this.extractData(t);oo(this.logLevel,"error")&&(this.uiLogger.error(...i),fd("error",i,n))});this.uiLogger=t,this.logLevel=n}extractOptions(t){if(t.length===0)return;const n=t[t.length-1];if(typeof n=="object"&&n!==null&&"remote"in n)return n}extractData(t){if(t.length===0)return[];const n=t[t.length-1];return typeof n=="object"&&n!==null&&"remote"in n?t.slice(0,-1):t}}const oo=(e,t)=>{if(t==="error")return!0;switch(e){case"verbose":case"debug":return!0;case"log":return t!=="debug";case"info":return t!=="debug"&&t!=="log";case"warn":return t==="warn";case"error":default:return!1}},ie=new O_(console,"verbose"),Io={black:"#000",white:"#fff"},Ki={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Qi={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Yi={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Xi={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ji={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},ao={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},I_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ci(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const x_=Object.freeze(Object.defineProperty({__proto__:null,default:ci},Symbol.toStringTag,{value:"Module"}));function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ut.apply(null,arguments)}function hs(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ty(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ny(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var hd={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function T_(){if(gm)return _e;gm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function _(C){return C===null||typeof C!="object"?null:(C=S&&C[S]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function V(C,D,me){this.props=C,this.context=D,this.refs=E,this.updater=me||x}V.prototype.isReactComponent={},V.prototype.setState=function(C,D){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,D,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Q(){}Q.prototype=V.prototype;function G(C,D,me){this.props=C,this.context=D,this.refs=E,this.updater=me||x}var Y=G.prototype=new Q;Y.constructor=G,T(Y,V.prototype),Y.isPureReactComponent=!0;var re=Array.isArray,ue=Object.prototype.hasOwnProperty,Se={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function L(C,D,me){var pe,he={},we=null,Ve=null;if(D!=null)for(pe in D.ref!==void 0&&(Ve=D.ref),D.key!==void 0&&(we=""+D.key),D)ue.call(D,pe)&&!R.hasOwnProperty(pe)&&(he[pe]=D[pe]);var ke=arguments.length-2;if(ke===1)he.children=me;else if(1<ke){for(var Le=Array(ke),vt=0;vt<ke;vt++)Le[vt]=arguments[vt+2];he.children=Le}if(C&&C.defaultProps)for(pe in ke=C.defaultProps,ke)he[pe]===void 0&&(he[pe]=ke[pe]);return{$$typeof:e,type:C,key:we,ref:Ve,props:he,_owner:Se.current}}function j(C,D){return{$$typeof:e,type:C.type,key:D,ref:C.ref,props:C.props,_owner:C._owner}}function X(C){return typeof C=="object"&&C!==null&&C.$$typeof===e}function Ie(C){var D={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(me){return D[me]})}var Ee=/\/+/g;function Me(C,D){return typeof C=="object"&&C!==null&&C.key!=null?Ie(""+C.key):D.toString(36)}function De(C,D,me,pe,he){var we=typeof C;(we==="undefined"||we==="boolean")&&(C=null);var Ve=!1;if(C===null)Ve=!0;else switch(we){case"string":case"number":Ve=!0;break;case"object":switch(C.$$typeof){case e:case t:Ve=!0}}if(Ve)return Ve=C,he=he(Ve),C=pe===""?"."+Me(Ve,0):pe,re(he)?(me="",C!=null&&(me=C.replace(Ee,"$&/")+"/"),De(he,D,me,"",function(vt){return vt})):he!=null&&(X(he)&&(he=j(he,me+(!he.key||Ve&&Ve.key===he.key?"":(""+he.key).replace(Ee,"$&/")+"/")+C)),D.push(he)),1;if(Ve=0,pe=pe===""?".":pe+":",re(C))for(var ke=0;ke<C.length;ke++){we=C[ke];var Le=pe+Me(we,ke);Ve+=De(we,D,me,Le,he)}else if(Le=_(C),typeof Le=="function")for(C=Le.call(C),ke=0;!(we=C.next()).done;)we=we.value,Le=pe+Me(we,ke++),Ve+=De(we,D,me,Le,he);else if(we==="object")throw D=String(C),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Ne(C,D,me){if(C==null)return C;var pe=[],he=0;return De(C,pe,"","",function(we){return D.call(me,we,he++)}),pe}function Pe(C){if(C._status===-1){var D=C._result;D=D(),D.then(function(me){(C._status===0||C._status===-1)&&(C._status=1,C._result=me)},function(me){(C._status===0||C._status===-1)&&(C._status=2,C._result=me)}),C._status===-1&&(C._status=0,C._result=D)}if(C._status===1)return C._result.default;throw C._result}var ye={current:null},H={transition:null},ae={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:H,ReactCurrentOwner:Se};function Z(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:Ne,forEach:function(C,D,me){Ne(C,function(){D.apply(this,arguments)},me)},count:function(C){var D=0;return Ne(C,function(){D++}),D},toArray:function(C){return Ne(C,function(D){return D})||[]},only:function(C){if(!X(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},_e.Component=V,_e.Fragment=n,_e.Profiler=o,_e.PureComponent=G,_e.StrictMode=i,_e.Suspense=p,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,_e.act=Z,_e.cloneElement=function(C,D,me){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var pe=T({},C.props),he=C.key,we=C.ref,Ve=C._owner;if(D!=null){if(D.ref!==void 0&&(we=D.ref,Ve=Se.current),D.key!==void 0&&(he=""+D.key),C.type&&C.type.defaultProps)var ke=C.type.defaultProps;for(Le in D)ue.call(D,Le)&&!R.hasOwnProperty(Le)&&(pe[Le]=D[Le]===void 0&&ke!==void 0?ke[Le]:D[Le])}var Le=arguments.length-2;if(Le===1)pe.children=me;else if(1<Le){ke=Array(Le);for(var vt=0;vt<Le;vt++)ke[vt]=arguments[vt+2];pe.children=ke}return{$$typeof:e,type:C.type,key:he,ref:we,props:pe,_owner:Ve}},_e.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:l,_context:C},C.Consumer=C},_e.createElement=L,_e.createFactory=function(C){var D=L.bind(null,C);return D.type=C,D},_e.createRef=function(){return{current:null}},_e.forwardRef=function(C){return{$$typeof:f,render:C}},_e.isValidElement=X,_e.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:Pe}},_e.memo=function(C,D){return{$$typeof:g,type:C,compare:D===void 0?null:D}},_e.startTransition=function(C){var D=H.transition;H.transition={};try{C()}finally{H.transition=D}},_e.unstable_act=Z,_e.useCallback=function(C,D){return ye.current.useCallback(C,D)},_e.useContext=function(C){return ye.current.useContext(C)},_e.useDebugValue=function(){},_e.useDeferredValue=function(C){return ye.current.useDeferredValue(C)},_e.useEffect=function(C,D){return ye.current.useEffect(C,D)},_e.useId=function(){return ye.current.useId()},_e.useImperativeHandle=function(C,D,me){return ye.current.useImperativeHandle(C,D,me)},_e.useInsertionEffect=function(C,D){return ye.current.useInsertionEffect(C,D)},_e.useLayoutEffect=function(C,D){return ye.current.useLayoutEffect(C,D)},_e.useMemo=function(C,D){return ye.current.useMemo(C,D)},_e.useReducer=function(C,D,me){return ye.current.useReducer(C,D,me)},_e.useRef=function(C){return ye.current.useRef(C)},_e.useState=function(C){return ye.current.useState(C)},_e.useSyncExternalStore=function(C,D,me){return ye.current.useSyncExternalStore(C,D,me)},_e.useTransition=function(){return ye.current.useTransition()},_e.version="18.3.1",_e}var mm;function Tf(){return mm||(mm=1,hd.exports=T_()),hd.exports}var ps=Tf();const P_=ty(ps),VP=E_({__proto__:null,default:P_},[ps]);var pd={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function V_(){if(vm)return lo;vm=1;var e=Tf(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,g){var v,S={},_=null,x=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(x=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(S[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)S[v]===void 0&&(S[v]=p[v]);return{$$typeof:t,type:f,key:_,ref:x,props:S,_owner:o.current}}return lo.Fragment=n,lo.jsx=c,lo.jsxs=c,lo}var ym;function R_(){return ym||(ym=1,pd.exports=V_()),pd.exports}var Sm=R_();function ts(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ry(e){if(ps.isValidElement(e)||!ts(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=ry(e[n])}),t}function Jn(e,t,n={clone:!0}){const i=n.clone?ut({},e):e;return ts(e)&&ts(t)&&Object.keys(t).forEach(o=>{ps.isValidElement(t[o])?i[o]=t[o]:ts(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&ts(e[o])?i[o]=Jn(e[o],t[o],n):n.clone?i[o]=ts(t[o])?ry(t[o]):t[o]:i[o]=t[o]}),i}const M_=["values","unit","step"],D_=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,i)=>n.val-i.val),t.reduce((n,i)=>ut({},n,{[i.key]:i.val}),{})};function N_(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5}=e,o=hs(e,M_),l=D_(t),c=Object.keys(l);function f(_){return`@media (min-width:${typeof t[_]=="number"?t[_]:_}${n})`}function p(_){return`@media (max-width:${(typeof t[_]=="number"?t[_]:_)-i/100}${n})`}function g(_,x){const T=c.indexOf(x);return`@media (min-width:${typeof t[_]=="number"?t[_]:_}${n}) and (max-width:${(T!==-1&&typeof t[c[T]]=="number"?t[c[T]]:x)-i/100}${n})`}function v(_){return c.indexOf(_)+1<c.length?g(_,c[c.indexOf(_)+1]):f(_)}function S(_){const x=c.indexOf(_);return x===0?f(c[1]):x===c.length-1?p(c[x]):g(_,c[c.indexOf(_)+1]).replace("@media","@media not all and")}return ut({keys:c,values:l,up:f,down:p,between:g,only:v,not:S,unit:n},o)}const B_={borderRadius:4};function wo(e,t){return t?Jn(e,t,{clone:!1}):e}const Pf={xs:0,sm:600,md:900,lg:1200,xl:1536},wm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Pf[e]}px)`};function tr(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const l=i.breakpoints||wm;return t.reduce((c,f,p)=>(c[l.up(l.keys[p])]=n(t[p]),c),{})}if(typeof t=="object"){const l=i.breakpoints||wm;return Object.keys(t).reduce((c,f)=>{if(Object.keys(l.values||Pf).indexOf(f)!==-1){const p=l.up(f);c[p]=n(t[f],f)}else{const p=f;c[p]=t[p]}return c},{})}return n(t)}function L_(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((i,o)=>{const l=e.up(o);return i[l]={},i},{}))||{}}function U_(e,t){return e.reduce((n,i)=>{const o=n[i];return(!o||Object.keys(o).length===0)&&delete n[i],n},t)}function iy(e){if(typeof e!="string")throw new Error(ci(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Yl(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const i=`vars.${t}`.split(".").reduce((o,l)=>o&&o[l]?o[l]:null,e);if(i!=null)return i}return t.split(".").reduce((i,o)=>i&&i[o]!=null?i[o]:null,e)}function Vl(e,t,n,i=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||i:o=Yl(e,n)||i,t&&(o=t(o,i,e)),o}function it(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:o}=e,l=c=>{if(c[t]==null)return null;const f=c[t],p=c.theme,g=Yl(p,i)||{};return tr(c,f,S=>{let _=Vl(g,o,S);return S===_&&typeof S=="string"&&(_=Vl(g,o,`${t}${S==="default"?"":iy(S)}`,S)),n===!1?_:{[n]:_}})};return l.propTypes={},l.filterProps=[t],l}function F_(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const $_={m:"margin",p:"padding"},j_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_m={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},z_=F_(e=>{if(e.length>2)if(_m[e])e=_m[e];else return[e];const[t,n]=e.split(""),i=$_[t],o=j_[n]||"";return Array.isArray(o)?o.map(l=>i+l):[i+o]}),Vf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Rf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Vf,...Rf];function Fo(e,t,n,i){var o;const l=(o=Yl(e,t,!1))!=null?o:n;return typeof l=="number"?c=>typeof c=="string"?c:l*c:Array.isArray(l)?c=>typeof c=="string"?c:l[c]:typeof l=="function"?l:()=>{}}function sy(e){return Fo(e,"spacing",8)}function $o(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),i=e(n);return t>=0?i:typeof i=="number"?-i:`-${i}`}function W_(e,t){return n=>e.reduce((i,o)=>(i[o]=$o(t,n),i),{})}function H_(e,t,n,i){if(t.indexOf(n)===-1)return null;const o=z_(n),l=W_(o,i),c=e[n];return tr(e,c,l)}function oy(e,t){const n=sy(e.theme);return Object.keys(e).map(i=>H_(e,t,i,n)).reduce(wo,{})}function Ze(e){return oy(e,Vf)}Ze.propTypes={};Ze.filterProps=Vf;function et(e){return oy(e,Rf)}et.propTypes={};et.filterProps=Rf;function G_(e=8){if(e.mui)return e;const t=sy({spacing:e}),n=(...i)=>(i.length===0?[1]:i).map(l=>{const c=t(l);return typeof c=="number"?`${c}px`:c}).join(" ");return n.mui=!0,n}function Xl(...e){const t=e.reduce((i,o)=>(o.filterProps.forEach(l=>{i[l]=o}),i),{}),n=i=>Object.keys(i).reduce((o,l)=>t[l]?wo(o,t[l](i)):o,{});return n.propTypes={},n.filterProps=e.reduce((i,o)=>i.concat(o.filterProps),[]),n}function Xt(e){return typeof e!="number"?e:`${e}px solid`}function on(e,t){return it({prop:e,themeKey:"borders",transform:t})}const q_=on("border",Xt),K_=on("borderTop",Xt),Q_=on("borderRight",Xt),Y_=on("borderBottom",Xt),X_=on("borderLeft",Xt),J_=on("borderColor"),Z_=on("borderTopColor"),e1=on("borderRightColor"),t1=on("borderBottomColor"),n1=on("borderLeftColor"),r1=on("outline",Xt),i1=on("outlineColor"),Jl=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Fo(e.theme,"shape.borderRadius",4),n=i=>({borderRadius:$o(t,i)});return tr(e,e.borderRadius,n)}return null};Jl.propTypes={};Jl.filterProps=["borderRadius"];Xl(q_,K_,Q_,Y_,X_,J_,Z_,e1,t1,n1,Jl,r1,i1);const Zl=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Fo(e.theme,"spacing",8),n=i=>({gap:$o(t,i)});return tr(e,e.gap,n)}return null};Zl.propTypes={};Zl.filterProps=["gap"];const eu=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Fo(e.theme,"spacing",8),n=i=>({columnGap:$o(t,i)});return tr(e,e.columnGap,n)}return null};eu.propTypes={};eu.filterProps=["columnGap"];const tu=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Fo(e.theme,"spacing",8),n=i=>({rowGap:$o(t,i)});return tr(e,e.rowGap,n)}return null};tu.propTypes={};tu.filterProps=["rowGap"];const s1=it({prop:"gridColumn"}),o1=it({prop:"gridRow"}),a1=it({prop:"gridAutoFlow"}),l1=it({prop:"gridAutoColumns"}),u1=it({prop:"gridAutoRows"}),c1=it({prop:"gridTemplateColumns"}),d1=it({prop:"gridTemplateRows"}),f1=it({prop:"gridTemplateAreas"}),h1=it({prop:"gridArea"});Xl(Zl,eu,tu,s1,o1,a1,l1,u1,c1,d1,f1,h1);function os(e,t){return t==="grey"?t:e}const p1=it({prop:"color",themeKey:"palette",transform:os}),g1=it({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:os}),m1=it({prop:"backgroundColor",themeKey:"palette",transform:os});Xl(p1,g1,m1);function Ut(e){return e<=1&&e!==0?`${e*100}%`:e}const v1=it({prop:"width",transform:Ut}),Mf=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,o;const l=((i=e.theme)==null||(i=i.breakpoints)==null||(i=i.values)==null?void 0:i[n])||Pf[n];return l?((o=e.theme)==null||(o=o.breakpoints)==null?void 0:o.unit)!=="px"?{maxWidth:`${l}${e.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Ut(n)}};return tr(e,e.maxWidth,t)}return null};Mf.filterProps=["maxWidth"];const y1=it({prop:"minWidth",transform:Ut}),S1=it({prop:"height",transform:Ut}),w1=it({prop:"maxHeight",transform:Ut}),_1=it({prop:"minHeight",transform:Ut});it({prop:"size",cssProperty:"width",transform:Ut});it({prop:"size",cssProperty:"height",transform:Ut});const b1=it({prop:"boxSizing"});Xl(v1,Mf,y1,S1,w1,_1,b1);const Df={border:{themeKey:"borders",transform:Xt},borderTop:{themeKey:"borders",transform:Xt},borderRight:{themeKey:"borders",transform:Xt},borderBottom:{themeKey:"borders",transform:Xt},borderLeft:{themeKey:"borders",transform:Xt},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Xt},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Jl},color:{themeKey:"palette",transform:os},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:os},backgroundColor:{themeKey:"palette",transform:os},p:{style:et},pt:{style:et},pr:{style:et},pb:{style:et},pl:{style:et},px:{style:et},py:{style:et},padding:{style:et},paddingTop:{style:et},paddingRight:{style:et},paddingBottom:{style:et},paddingLeft:{style:et},paddingX:{style:et},paddingY:{style:et},paddingInline:{style:et},paddingInlineStart:{style:et},paddingInlineEnd:{style:et},paddingBlock:{style:et},paddingBlockStart:{style:et},paddingBlockEnd:{style:et},m:{style:Ze},mt:{style:Ze},mr:{style:Ze},mb:{style:Ze},ml:{style:Ze},mx:{style:Ze},my:{style:Ze},margin:{style:Ze},marginTop:{style:Ze},marginRight:{style:Ze},marginBottom:{style:Ze},marginLeft:{style:Ze},marginX:{style:Ze},marginY:{style:Ze},marginInline:{style:Ze},marginInlineStart:{style:Ze},marginInlineEnd:{style:Ze},marginBlock:{style:Ze},marginBlockStart:{style:Ze},marginBlockEnd:{style:Ze},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Zl},rowGap:{style:tu},columnGap:{style:eu},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ut},maxWidth:{style:Mf},minWidth:{transform:Ut},height:{transform:Ut},maxHeight:{transform:Ut},minHeight:{transform:Ut},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function A1(...e){const t=e.reduce((i,o)=>i.concat(Object.keys(o)),[]),n=new Set(t);return e.every(i=>n.size===Object.keys(i).length)}function C1(e,t){return typeof e=="function"?e(t):e}function E1(){function e(n,i,o,l){const c={[n]:i,theme:o},f=l[n];if(!f)return{[n]:i};const{cssProperty:p=n,themeKey:g,transform:v,style:S}=f;if(i==null)return null;if(g==="typography"&&i==="inherit")return{[n]:i};const _=Yl(o,g)||{};return S?S(c):tr(c,i,T=>{let E=Vl(_,v,T);return T===E&&typeof T=="string"&&(E=Vl(_,v,`${n}${T==="default"?"":iy(T)}`,T)),p===!1?E:{[p]:E}})}function t(n){var i;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=(i=l.unstable_sxConfig)!=null?i:Df;function f(p){let g=p;if(typeof p=="function")g=p(l);else if(typeof p!="object")return p;if(!g)return null;const v=L_(l.breakpoints),S=Object.keys(v);let _=v;return Object.keys(g).forEach(x=>{const T=C1(g[x],l);if(T!=null)if(typeof T=="object")if(c[x])_=wo(_,e(x,T,l,c));else{const E=tr({theme:l},T,V=>({[x]:V}));A1(E,T)?_[x]=t({sx:T,theme:l}):_=wo(_,E)}else _=wo(_,e(x,T,l,c))}),U_(S,_)}return Array.isArray(o)?o.map(f):f(o)}return t}const Nf=E1();Nf.filterProps=["sx"];function k1(e,t){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:n.palette.mode===e?t:{}}const O1=["breakpoints","palette","spacing","shape"];function I1(e={},...t){const{breakpoints:n={},palette:i={},spacing:o,shape:l={}}=e,c=hs(e,O1),f=N_(n),p=G_(o);let g=Jn({breakpoints:f,direction:"ltr",components:{},palette:ut({mode:"light"},i),spacing:p,shape:ut({},B_,l)},c);return g.applyStyles=k1,g=t.reduce((v,S)=>Jn(v,S),g),g.unstable_sxConfig=ut({},Df,c==null?void 0:c.unstable_sxConfig),g.unstable_sx=function(S){return Nf({sx:S,theme:this})},g}function ay(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}const x1=Object.freeze(Object.defineProperty({__proto__:null,default:ay},Symbol.toStringTag,{value:"Module"}));function Bf(e,t=0,n=1){return ay(e,t,n)}function T1(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,o)=>o<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function nu(e){if(e.type)return e;if(e.charAt(0)==="#")return nu(T1(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ci(9,e));let i=e.substring(t+1,e.length-1),o;if(n==="color"){if(i=i.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error(ci(10,o))}else i=i.split(",");return i=i.map(l=>parseFloat(l)),{type:n,values:i,colorSpace:o}}function Lf(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return t.indexOf("rgb")!==-1?i=i.map((o,l)=>l<3?parseInt(o,10):o):t.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),t.indexOf("color")!==-1?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${t}(${i})`}function le(e,t){return e=nu(e),t=Bf(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Lf(e)}function Rt(e,t){if(e=nu(e),t=Bf(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Lf(e)}function tt(e,t){if(e=nu(e),t=Bf(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Lf(e)}function P1(e,t){return ut({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Xe={},gd={exports:{}},bm;function V1(){return bm||(bm=1,function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(gd)),gd.exports}const R1=ny(x_),M1=ny(x1);var Am;function D1(){if(Am)return Xe;Am=1;var e=V1();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.alpha=T,Xe.blend=Se,Xe.colorChannel=void 0,Xe.darken=V,Xe.decomposeColor=c,Xe.emphasize=re,Xe.getContrastRatio=x,Xe.getLuminance=_,Xe.hexToRgb=o,Xe.hslToRgb=S,Xe.lighten=G,Xe.private_safeAlpha=E,Xe.private_safeColorChannel=void 0,Xe.private_safeDarken=Q,Xe.private_safeEmphasize=ue,Xe.private_safeLighten=Y,Xe.recomposeColor=g,Xe.rgbToHex=v;var t=e(R1),n=e(M1);function i(R,L=0,j=1){return(0,n.default)(R,L,j)}function o(R){R=R.slice(1);const L=new RegExp(`.{1,${R.length>=6?2:1}}`,"g");let j=R.match(L);return j&&j[0].length===1&&(j=j.map(X=>X+X)),j?`rgb${j.length===4?"a":""}(${j.map((X,Ie)=>Ie<3?parseInt(X,16):Math.round(parseInt(X,16)/255*1e3)/1e3).join(", ")})`:""}function l(R){const L=R.toString(16);return L.length===1?`0${L}`:L}function c(R){if(R.type)return R;if(R.charAt(0)==="#")return c(o(R));const L=R.indexOf("("),j=R.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(j)===-1)throw new Error((0,t.default)(9,R));let X=R.substring(L+1,R.length-1),Ie;if(j==="color"){if(X=X.split(" "),Ie=X.shift(),X.length===4&&X[3].charAt(0)==="/"&&(X[3]=X[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(Ie)===-1)throw new Error((0,t.default)(10,Ie))}else X=X.split(",");return X=X.map(Ee=>parseFloat(Ee)),{type:j,values:X,colorSpace:Ie}}const f=R=>{const L=c(R);return L.values.slice(0,3).map((j,X)=>L.type.indexOf("hsl")!==-1&&X!==0?`${j}%`:j).join(" ")};Xe.colorChannel=f;const p=(R,L)=>{try{return f(R)}catch{return R}};Xe.private_safeColorChannel=p;function g(R){const{type:L,colorSpace:j}=R;let{values:X}=R;return L.indexOf("rgb")!==-1?X=X.map((Ie,Ee)=>Ee<3?parseInt(Ie,10):Ie):L.indexOf("hsl")!==-1&&(X[1]=`${X[1]}%`,X[2]=`${X[2]}%`),L.indexOf("color")!==-1?X=`${j} ${X.join(" ")}`:X=`${X.join(", ")}`,`${L}(${X})`}function v(R){if(R.indexOf("#")===0)return R;const{values:L}=c(R);return`#${L.map((j,X)=>l(X===3?Math.round(255*j):j)).join("")}`}function S(R){R=c(R);const{values:L}=R,j=L[0],X=L[1]/100,Ie=L[2]/100,Ee=X*Math.min(Ie,1-Ie),Me=(Pe,ye=(Pe+j/30)%12)=>Ie-Ee*Math.max(Math.min(ye-3,9-ye,1),-1);let De="rgb";const Ne=[Math.round(Me(0)*255),Math.round(Me(8)*255),Math.round(Me(4)*255)];return R.type==="hsla"&&(De+="a",Ne.push(L[3])),g({type:De,values:Ne})}function _(R){R=c(R);let L=R.type==="hsl"||R.type==="hsla"?c(S(R)).values:R.values;return L=L.map(j=>(R.type!=="color"&&(j/=255),j<=.03928?j/12.92:((j+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function x(R,L){const j=_(R),X=_(L);return(Math.max(j,X)+.05)/(Math.min(j,X)+.05)}function T(R,L){return R=c(R),L=i(L),(R.type==="rgb"||R.type==="hsl")&&(R.type+="a"),R.type==="color"?R.values[3]=`/${L}`:R.values[3]=L,g(R)}function E(R,L,j){try{return T(R,L)}catch{return R}}function V(R,L){if(R=c(R),L=i(L),R.type.indexOf("hsl")!==-1)R.values[2]*=1-L;else if(R.type.indexOf("rgb")!==-1||R.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)R.values[j]*=1-L;return g(R)}function Q(R,L,j){try{return V(R,L)}catch{return R}}function G(R,L){if(R=c(R),L=i(L),R.type.indexOf("hsl")!==-1)R.values[2]+=(100-R.values[2])*L;else if(R.type.indexOf("rgb")!==-1)for(let j=0;j<3;j+=1)R.values[j]+=(255-R.values[j])*L;else if(R.type.indexOf("color")!==-1)for(let j=0;j<3;j+=1)R.values[j]+=(1-R.values[j])*L;return g(R)}function Y(R,L,j){try{return G(R,L)}catch{return R}}function re(R,L=.15){return _(R)>.5?V(R,L):G(R,L)}function ue(R,L,j){try{return re(R,L)}catch{return R}}function Se(R,L,j,X=1){const Ie=(Ne,Pe)=>Math.round((Ne**(1/X)*(1-j)+Pe**(1/X)*j)**X),Ee=c(R),Me=c(L),De=[Ie(Ee.values[0],Me.values[0]),Ie(Ee.values[1],Me.values[1]),Ie(Ee.values[2],Me.values[2])];return g({type:"rgb",values:De})}return Xe}var Hd=D1();const N1=["mode","contrastThreshold","tonalOffset"],Cm={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Io.white,default:Io.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},md={text:{primary:Io.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Io.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Em(e,t,n,i){const o=i.light||i,l=i.dark||i*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Hd.lighten(e.main,o):t==="dark"&&(e.dark=Hd.darken(e.main,l)))}function B1(e="light"){return e==="dark"?{main:Yi[200],light:Yi[50],dark:Yi[400]}:{main:Yi[700],light:Yi[400],dark:Yi[800]}}function L1(e="light"){return e==="dark"?{main:Qi[200],light:Qi[50],dark:Qi[400]}:{main:Qi[500],light:Qi[300],dark:Qi[700]}}function U1(e="light"){return e==="dark"?{main:Ki[500],light:Ki[300],dark:Ki[700]}:{main:Ki[700],light:Ki[400],dark:Ki[800]}}function F1(e="light"){return e==="dark"?{main:Xi[400],light:Xi[300],dark:Xi[700]}:{main:Xi[700],light:Xi[500],dark:Xi[900]}}function $1(e="light"){return e==="dark"?{main:Ji[400],light:Ji[300],dark:Ji[700]}:{main:Ji[800],light:Ji[500],dark:Ji[900]}}function j1(e="light"){return e==="dark"?{main:ao[400],light:ao[300],dark:ao[700]}:{main:"#ed6c02",light:ao[500],dark:ao[900]}}function z1(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,o=hs(e,N1),l=e.primary||B1(t),c=e.secondary||L1(t),f=e.error||U1(t),p=e.info||F1(t),g=e.success||$1(t),v=e.warning||j1(t);function S(E){return Hd.getContrastRatio(E,md.text.primary)>=n?md.text.primary:Cm.text.primary}const _=({color:E,name:V,mainShade:Q=500,lightShade:G=300,darkShade:Y=700})=>{if(E=ut({},E),!E.main&&E[Q]&&(E.main=E[Q]),!E.hasOwnProperty("main"))throw new Error(ci(11,V?` (${V})`:"",Q));if(typeof E.main!="string")throw new Error(ci(12,V?` (${V})`:"",JSON.stringify(E.main)));return Em(E,"light",G,i),Em(E,"dark",Y,i),E.contrastText||(E.contrastText=S(E.main)),E},x={dark:md,light:Cm};return Jn(ut({common:ut({},Io),mode:t,primary:_({color:l,name:"primary"}),secondary:_({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:f,name:"error"}),warning:_({color:v,name:"warning"}),info:_({color:p,name:"info"}),success:_({color:g,name:"success"}),grey:I_,contrastThreshold:n,getContrastText:S,augmentColor:_,tonalOffset:i},x[t]),o)}const W1=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function H1(e){return Math.round(e*1e5)/1e5}const km={textTransform:"uppercase"},Om='"Roboto", "Helvetica", "Arial", sans-serif';function G1(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:i=Om,fontSize:o=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:f=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:v,pxToRem:S}=n,_=hs(n,W1),x=o/14,T=S||(Q=>`${Q/g*x}rem`),E=(Q,G,Y,re,ue)=>ut({fontFamily:i,fontWeight:Q,fontSize:T(G),lineHeight:Y},i===Om?{letterSpacing:`${H1(re/G)}em`}:{},ue,v),V={h1:E(l,96,1.167,-1.5),h2:E(l,60,1.2,-.5),h3:E(c,48,1.167,0),h4:E(c,34,1.235,.25),h5:E(c,24,1.334,0),h6:E(f,20,1.6,.15),subtitle1:E(c,16,1.75,.15),subtitle2:E(f,14,1.57,.1),body1:E(c,16,1.5,.15),body2:E(c,14,1.43,.15),button:E(f,14,1.75,.4,km),caption:E(c,12,1.66,.4),overline:E(c,12,2.66,1,km),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jn(ut({htmlFontSize:g,pxToRem:T,fontFamily:i,fontSize:o,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:f,fontWeightBold:p},V),_,{clone:!1})}const q1=.2,K1=.14,Q1=.12;function Ge(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${q1})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${K1})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Q1})`].join(",")}const Y1=["none",Ge(0,2,1,-1,0,1,1,0,0,1,3,0),Ge(0,3,1,-2,0,2,2,0,0,1,5,0),Ge(0,3,3,-2,0,3,4,0,0,1,8,0),Ge(0,2,4,-1,0,4,5,0,0,1,10,0),Ge(0,3,5,-1,0,5,8,0,0,1,14,0),Ge(0,3,5,-1,0,6,10,0,0,1,18,0),Ge(0,4,5,-2,0,7,10,1,0,2,16,1),Ge(0,5,5,-3,0,8,10,1,0,3,14,2),Ge(0,5,6,-3,0,9,12,1,0,3,16,2),Ge(0,6,6,-3,0,10,14,1,0,4,18,3),Ge(0,6,7,-4,0,11,15,1,0,4,20,3),Ge(0,7,8,-4,0,12,17,2,0,5,22,4),Ge(0,7,8,-4,0,13,19,2,0,5,24,4),Ge(0,7,9,-4,0,14,21,2,0,5,26,4),Ge(0,8,9,-5,0,15,22,2,0,6,28,5),Ge(0,8,10,-5,0,16,24,2,0,6,30,5),Ge(0,8,11,-5,0,17,26,2,0,6,32,5),Ge(0,9,11,-5,0,18,28,2,0,7,34,6),Ge(0,9,12,-6,0,19,29,2,0,7,36,6),Ge(0,10,13,-6,0,20,31,3,0,8,38,7),Ge(0,10,13,-6,0,21,33,3,0,8,40,7),Ge(0,10,14,-6,0,22,35,3,0,8,42,7),Ge(0,11,14,-7,0,23,36,3,0,9,44,8),Ge(0,11,15,-7,0,24,38,3,0,9,46,8)],X1=["duration","easing","delay"],J1={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Z1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Im(e){return`${Math.round(e)}ms`}function eb(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function tb(e){const t=ut({},J1,e.easing),n=ut({},Z1,e.duration);return ut({getAutoHeightDuration:eb,create:(o=["all"],l={})=>{const{duration:c=n.standard,easing:f=t.easeInOut,delay:p=0}=l;return hs(l,X1),(Array.isArray(o)?o:[o]).map(g=>`${g} ${typeof c=="string"?c:Im(c)} ${f} ${typeof p=="string"?p:Im(p)}`).join(",")}},e,{easing:t,duration:n})}const nb={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},rb=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Uf(e={},...t){const{mixins:n={},palette:i={},transitions:o={},typography:l={}}=e,c=hs(e,rb);if(e.vars&&e.generateCssVars===void 0)throw new Error(ci(18));const f=z1(i),p=I1(e);let g=Jn(p,{mixins:P1(p.breakpoints,n),palette:f,shadows:Y1.slice(),typography:G1(f,l),transitions:tb(o),zIndex:ut({},nb)});return g=Jn(g,c),g=t.reduce((v,S)=>Jn(v,S),g),g.unstable_sxConfig=ut({},Df,c==null?void 0:c.unstable_sxConfig),g.unstable_sx=function(S){return Nf({sx:S,theme:this})},g}var vd={exports:{}},Vt={},yd={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function ib(){return xm||(xm=1,function(e){function t(H,ae){var Z=H.length;H.push(ae);e:for(;0<Z;){var C=Z-1>>>1,D=H[C];if(0<o(D,ae))H[C]=ae,H[Z]=D,Z=C;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ae=H[0],Z=H.pop();if(Z!==ae){H[0]=Z;e:for(var C=0,D=H.length,me=D>>>1;C<me;){var pe=2*(C+1)-1,he=H[pe],we=pe+1,Ve=H[we];if(0>o(he,Z))we<D&&0>o(Ve,he)?(H[C]=Ve,H[we]=Z,C=we):(H[C]=he,H[pe]=Z,C=pe);else if(we<D&&0>o(Ve,Z))H[C]=Ve,H[we]=Z,C=we;else break e}}return ae}function o(H,ae){var Z=H.sortIndex-ae.sortIndex;return Z!==0?Z:H.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var p=[],g=[],v=1,S=null,_=3,x=!1,T=!1,E=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(H){for(var ae=n(g);ae!==null;){if(ae.callback===null)i(g);else if(ae.startTime<=H)i(g),ae.sortIndex=ae.expirationTime,t(p,ae);else break;ae=n(g)}}function re(H){if(E=!1,Y(H),!T)if(n(p)!==null)T=!0,Pe(ue);else{var ae=n(g);ae!==null&&ye(re,ae.startTime-H)}}function ue(H,ae){T=!1,E&&(E=!1,Q(L),L=-1),x=!0;var Z=_;try{for(Y(ae),S=n(p);S!==null&&(!(S.expirationTime>ae)||H&&!Ie());){var C=S.callback;if(typeof C=="function"){S.callback=null,_=S.priorityLevel;var D=C(S.expirationTime<=ae);ae=e.unstable_now(),typeof D=="function"?S.callback=D:S===n(p)&&i(p),Y(ae)}else i(p);S=n(p)}if(S!==null)var me=!0;else{var pe=n(g);pe!==null&&ye(re,pe.startTime-ae),me=!1}return me}finally{S=null,_=Z,x=!1}}var Se=!1,R=null,L=-1,j=5,X=-1;function Ie(){return!(e.unstable_now()-X<j)}function Ee(){if(R!==null){var H=e.unstable_now();X=H;var ae=!0;try{ae=R(!0,H)}finally{ae?Me():(Se=!1,R=null)}}else Se=!1}var Me;if(typeof G=="function")Me=function(){G(Ee)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ne=De.port2;De.port1.onmessage=Ee,Me=function(){Ne.postMessage(null)}}else Me=function(){V(Ee,0)};function Pe(H){R=H,Se||(Se=!0,Me())}function ye(H,ae){L=V(function(){H(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){T||x||(T=!0,Pe(ue))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ae=3;break;default:ae=_}var Z=_;_=ae;try{return H()}finally{_=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ae){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=_;_=H;try{return ae()}finally{_=Z}},e.unstable_scheduleCallback=function(H,ae,Z){var C=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?C+Z:C):Z=C,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=Z+D,H={id:v++,callback:ae,priorityLevel:H,startTime:Z,expirationTime:D,sortIndex:-1},Z>C?(H.sortIndex=Z,t(g,H),n(p)===null&&H===n(g)&&(E?(Q(L),L=-1):E=!0,ye(re,Z-C))):(H.sortIndex=D,t(p,H),T||x||(T=!0,Pe(ue))),H},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(H){var ae=_;return function(){var Z=_;_=ae;try{return H.apply(this,arguments)}finally{_=Z}}}}(Sd)),Sd}var Tm;function sb(){return Tm||(Tm=1,yd.exports=ib()),yd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function ob(){if(Pm)return Vt;Pm=1;var e=Tf(),t=sb();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},S={};function _(r){return p.call(S,r)?!0:p.call(v,r)?!1:g.test(r)?S[r]=!0:(v[r]=!0,!1)}function x(r,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,s,a,u){if(s===null||typeof s>"u"||x(r,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(r,s,a,u,d,h,m){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=h,this.removeEmptyString=m}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new E(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new E(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new E(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new E(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new E(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new E(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new E(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new E(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new E(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(Q,G);V[s]=new E(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(Q,G);V[s]=new E(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(Q,G);V[s]=new E(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new E(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new E(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,s,a,u){var d=V.hasOwnProperty(s)?V[s]:null;(d!==null?d.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,a,d,u)&&(a=null),u||d===null?_(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,u=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,u?r.setAttributeNS(u,s,a):r.setAttribute(s,a))))}var re=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),Se=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),Ie=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),H=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var Z=Object.assign,C;function D(r){if(C===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+r}var me=!1;function pe(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(P){var u=P}Reflect.construct(r,[],s)}else{try{s.call()}catch(P){u=P}r.call(s.prototype)}else{try{throw Error()}catch(P){u=P}r()}}catch(P){if(P&&u&&typeof P.stack=="string"){for(var d=P.stack.split(`
`),h=u.stack.split(`
`),m=d.length-1,w=h.length-1;1<=m&&0<=w&&d[m]!==h[w];)w--;for(;1<=m&&0<=w;m--,w--)if(d[m]!==h[w]){if(m!==1||w!==1)do if(m--,w--,0>w||d[m]!==h[w]){var b=`
`+d[m].replace(" at new "," at ");return r.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",r.displayName)),b}while(1<=m&&0<=w);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?D(r):""}function he(r){switch(r.tag){case 5:return D(r.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function we(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case Se:return"Portal";case j:return"Profiler";case L:return"StrictMode";case Me:return"Suspense";case De:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Ie:return(r.displayName||"Context")+".Consumer";case X:return(r._context.displayName||"Context")+".Provider";case Ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ne:return s=r.displayName||null,s!==null?s:we(r.type)||"Memo";case Pe:s=r._payload,r=r._init;try{return we(r(s))}catch{}}return null}function Ve(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(s);case 8:return s===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(r){var s=Le(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(m){u=""+m,h.call(this,m)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Gr(r){r._valueTracker||(r._valueTracker=vt(r))}function ws(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=Le(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function ar(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qr(r,s){var a=s.checked;return Z({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function bh(r,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=ke(s.value!=null?s.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ah(r,s){s=s.checked,s!=null&&Y(r,"checked",s,!1)}function wu(r,s){Ah(r,s);var a=ke(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?_u(r,s.type,a):s.hasOwnProperty("defaultValue")&&_u(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ch(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function _u(r,s,a){(s!=="number"||ar(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var _s=Array.isArray;function Ai(r,s,a,u){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&u&&(r[a].defaultSelected=!0)}else{for(a=""+ke(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function bu(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Eh(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(_s(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ke(a)}}function kh(r,s){var a=ke(s.value),u=ke(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function Oh(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Ih(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Au(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Ih(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ta,xh=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,u,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ta.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function bs(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OS=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(r){OS.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),As[s]=As[r]})});function Th(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||As.hasOwnProperty(r)&&As[r]?(""+s).trim():s+"px"}function Ph(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,d=Th(a,s[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,d):r[a]=d}}var IS=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(r,s){if(s){if(IS[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Eu(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=null;function Ou(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Iu=null,Ci=null,Ei=null;function Vh(r){if(r=Hs(r)){if(typeof Iu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ca(s),Iu(r.stateNode,r.type,s))}}function Rh(r){Ci?Ei?Ei.push(r):Ei=[r]:Ci=r}function Mh(){if(Ci){var r=Ci,s=Ei;if(Ei=Ci=null,Vh(r),s)for(r=0;r<s.length;r++)Vh(s[r])}}function Dh(r,s){return r(s)}function Nh(){}var xu=!1;function Bh(r,s,a){if(xu)return r(s,a);xu=!0;try{return Dh(r,s,a)}finally{xu=!1,(Ci!==null||Ei!==null)&&(Nh(),Mh())}}function Cs(r,s){var a=r.stateNode;if(a===null)return null;var u=Ca(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Tu=!1;if(f)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Tu=!1}function xS(r,s,a,u,d,h,m,w,b){var P=Array.prototype.slice.call(arguments,3);try{s.apply(a,P)}catch(F){this.onError(F)}}var ks=!1,na=null,ra=!1,Pu=null,TS={onError:function(r){ks=!0,na=r}};function PS(r,s,a,u,d,h,m,w,b){ks=!1,na=null,xS.apply(TS,arguments)}function VS(r,s,a,u,d,h,m,w,b){if(PS.apply(this,arguments),ks){if(ks){var P=na;ks=!1,na=null}else throw Error(n(198));ra||(ra=!0,Pu=P)}}function Kr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Lh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Uh(r){if(Kr(r)!==r)throw Error(n(188))}function RS(r){var s=r.alternate;if(!s){if(s=Kr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,u=s;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return Uh(d),r;if(h===u)return Uh(d),s;h=h.sibling}throw Error(n(188))}if(a.return!==u.return)a=d,u=h;else{for(var m=!1,w=d.child;w;){if(w===a){m=!0,a=d,u=h;break}if(w===u){m=!0,u=d,a=h;break}w=w.sibling}if(!m){for(w=h.child;w;){if(w===a){m=!0,a=h,u=d;break}if(w===u){m=!0,u=h,a=d;break}w=w.sibling}if(!m)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Fh(r){return r=RS(r),r!==null?$h(r):null}function $h(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=$h(r);if(s!==null)return s;r=r.sibling}return null}var jh=t.unstable_scheduleCallback,zh=t.unstable_cancelCallback,MS=t.unstable_shouldYield,DS=t.unstable_requestPaint,nt=t.unstable_now,NS=t.unstable_getCurrentPriorityLevel,Vu=t.unstable_ImmediatePriority,Wh=t.unstable_UserBlockingPriority,ia=t.unstable_NormalPriority,BS=t.unstable_LowPriority,Hh=t.unstable_IdlePriority,sa=null,Cn=null;function LS(r){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(sa,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:$S,US=Math.log,FS=Math.LN2;function $S(r){return r>>>=0,r===0?32:31-(US(r)/FS|0)|0}var oa=64,aa=4194304;function Os(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function la(r,s){var a=r.pendingLanes;if(a===0)return 0;var u=0,d=r.suspendedLanes,h=r.pingedLanes,m=a&268435455;if(m!==0){var w=m&~d;w!==0?u=Os(w):(h&=m,h!==0&&(u=Os(h)))}else m=a&~d,m!==0?u=Os(m):h!==0&&(u=Os(h));if(u===0)return 0;if(s!==0&&s!==u&&(s&d)===0&&(d=u&-u,h=s&-s,d>=h||d===16&&(h&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)a=31-an(s),d=1<<a,u|=r[a],s&=~d;return u}function jS(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zS(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,h=r.pendingLanes;0<h;){var m=31-an(h),w=1<<m,b=d[m];b===-1?((w&a)===0||(w&u)!==0)&&(d[m]=jS(w,s)):b<=s&&(r.expiredLanes|=w),h&=~w}}function Ru(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Gh(){var r=oa;return oa<<=1,(oa&4194240)===0&&(oa=64),r}function Mu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Is(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-an(s),r[s]=a}function WS(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-an(a),h=1<<d;s[d]=0,u[d]=-1,r[d]=-1,a&=~h}}function Du(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-an(a),d=1<<u;d&s|r[u]&s&&(r[u]|=s),a&=~d}}var Re=0;function qh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Kh,Nu,Qh,Yh,Xh,Bu=!1,ua=[],lr=null,ur=null,cr=null,xs=new Map,Ts=new Map,dr=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jh(r,s){switch(r){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":xs.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(s.pointerId)}}function Ps(r,s,a,u,d,h){return r===null||r.nativeEvent!==h?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[d]},s!==null&&(s=Hs(s),s!==null&&Nu(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function GS(r,s,a,u,d){switch(s){case"focusin":return lr=Ps(lr,r,s,a,u,d),!0;case"dragenter":return ur=Ps(ur,r,s,a,u,d),!0;case"mouseover":return cr=Ps(cr,r,s,a,u,d),!0;case"pointerover":var h=d.pointerId;return xs.set(h,Ps(xs.get(h)||null,r,s,a,u,d)),!0;case"gotpointercapture":return h=d.pointerId,Ts.set(h,Ps(Ts.get(h)||null,r,s,a,u,d)),!0}return!1}function Zh(r){var s=Qr(r.target);if(s!==null){var a=Kr(s);if(a!==null){if(s=a.tag,s===13){if(s=Lh(a),s!==null){r.blockedOn=s,Xh(r.priority,function(){Qh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ca(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Uu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);ku=u,a.target.dispatchEvent(u),ku=null}else return s=Hs(a),s!==null&&Nu(s),r.blockedOn=a,!1;s.shift()}return!0}function ep(r,s,a){ca(r)&&a.delete(s)}function qS(){Bu=!1,lr!==null&&ca(lr)&&(lr=null),ur!==null&&ca(ur)&&(ur=null),cr!==null&&ca(cr)&&(cr=null),xs.forEach(ep),Ts.forEach(ep)}function Vs(r,s){r.blockedOn===s&&(r.blockedOn=null,Bu||(Bu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qS)))}function Rs(r){function s(d){return Vs(d,r)}if(0<ua.length){Vs(ua[0],r);for(var a=1;a<ua.length;a++){var u=ua[a];u.blockedOn===r&&(u.blockedOn=null)}}for(lr!==null&&Vs(lr,r),ur!==null&&Vs(ur,r),cr!==null&&Vs(cr,r),xs.forEach(s),Ts.forEach(s),a=0;a<dr.length;a++)u=dr[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)Zh(a),a.blockedOn===null&&dr.shift()}var ki=re.ReactCurrentBatchConfig,da=!0;function KS(r,s,a,u){var d=Re,h=ki.transition;ki.transition=null;try{Re=1,Lu(r,s,a,u)}finally{Re=d,ki.transition=h}}function QS(r,s,a,u){var d=Re,h=ki.transition;ki.transition=null;try{Re=4,Lu(r,s,a,u)}finally{Re=d,ki.transition=h}}function Lu(r,s,a,u){if(da){var d=Uu(r,s,a,u);if(d===null)nc(r,s,u,fa,a),Jh(r,u);else if(GS(d,r,s,a,u))u.stopPropagation();else if(Jh(r,u),s&4&&-1<HS.indexOf(r)){for(;d!==null;){var h=Hs(d);if(h!==null&&Kh(h),h=Uu(r,s,a,u),h===null&&nc(r,s,u,fa,a),h===d)break;d=h}d!==null&&u.stopPropagation()}else nc(r,s,u,null,a)}}var fa=null;function Uu(r,s,a,u){if(fa=null,r=Ou(u),r=Qr(r),r!==null)if(s=Kr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Lh(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return fa=r,null}function tp(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NS()){case Vu:return 1;case Wh:return 4;case ia:case BS:return 16;case Hh:return 536870912;default:return 16}default:return 16}}var fr=null,Fu=null,ha=null;function np(){if(ha)return ha;var r,s=Fu,a=s.length,u,d="value"in fr?fr.value:fr.textContent,h=d.length;for(r=0;r<a&&s[r]===d[r];r++);var m=a-r;for(u=1;u<=m&&s[a-u]===d[h-u];u++);return ha=d.slice(r,1<u?1-u:void 0)}function pa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ga(){return!0}function rp(){return!1}function Dt(r){function s(a,u,d,h,m){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ga:rp,this.isPropagationStopped=rp,this}return Z(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ga)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ga)},persist:function(){},isPersistent:ga}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Dt(Oi),Ms=Z({},Oi,{view:0,detail:0}),YS=Dt(Ms),ju,zu,Ds,ma=Z({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ds&&(Ds&&r.type==="mousemove"?(ju=r.screenX-Ds.screenX,zu=r.screenY-Ds.screenY):zu=ju=0,Ds=r),ju)},movementY:function(r){return"movementY"in r?r.movementY:zu}}),ip=Dt(ma),XS=Z({},ma,{dataTransfer:0}),JS=Dt(XS),ZS=Z({},Ms,{relatedTarget:0}),Wu=Dt(ZS),ew=Z({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),tw=Dt(ew),nw=Z({},Oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rw=Dt(nw),iw=Z({},Oi,{data:0}),sp=Dt(iw),sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lw(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=aw[r])?!!s[r]:!1}function Hu(){return lw}var uw=Z({},Ms,{key:function(r){if(r.key){var s=sw[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=pa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ow[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(r){return r.type==="keypress"?pa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cw=Dt(uw),dw=Z({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=Dt(dw),fw=Z({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),hw=Dt(fw),pw=Z({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gw=Dt(pw),mw=Z({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),vw=Dt(mw),yw=[9,13,27,32],Gu=f&&"CompositionEvent"in window,Ns=null;f&&"documentMode"in document&&(Ns=document.documentMode);var Sw=f&&"TextEvent"in window&&!Ns,ap=f&&(!Gu||Ns&&8<Ns&&11>=Ns),lp=" ",up=!1;function cp(r,s){switch(r){case"keyup":return yw.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ii=!1;function ww(r,s){switch(r){case"compositionend":return dp(s);case"keypress":return s.which!==32?null:(up=!0,lp);case"textInput":return r=s.data,r===lp&&up?null:r;default:return null}}function _w(r,s){if(Ii)return r==="compositionend"||!Gu&&cp(r,s)?(r=np(),ha=Fu=fr=null,Ii=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ap&&s.locale!=="ko"?null:s.data;default:return null}}var bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bw[r.type]:s==="textarea"}function hp(r,s,a,u){Rh(u),s=_a(s,"onChange"),0<s.length&&(a=new $u("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var Bs=null,Ls=null;function Aw(r){Pp(r,0)}function va(r){var s=Ri(r);if(ws(s))return r}function Cw(r,s){if(r==="change")return s}var pp=!1;if(f){var qu;if(f){var Ku="oninput"in document;if(!Ku){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),Ku=typeof gp.oninput=="function"}qu=Ku}else qu=!1;pp=qu&&(!document.documentMode||9<document.documentMode)}function mp(){Bs&&(Bs.detachEvent("onpropertychange",vp),Ls=Bs=null)}function vp(r){if(r.propertyName==="value"&&va(Ls)){var s=[];hp(s,Ls,r,Ou(r)),Bh(Aw,s)}}function Ew(r,s,a){r==="focusin"?(mp(),Bs=s,Ls=a,Bs.attachEvent("onpropertychange",vp)):r==="focusout"&&mp()}function kw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return va(Ls)}function Ow(r,s){if(r==="click")return va(s)}function Iw(r,s){if(r==="input"||r==="change")return va(s)}function xw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ln=typeof Object.is=="function"?Object.is:xw;function Us(r,s){if(ln(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!p.call(s,d)||!ln(r[d],s[d]))return!1}return!0}function yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sp(r,s){var a=yp(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function wp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function _p(){for(var r=window,s=ar();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=ar(r.document)}return s}function Qu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Tw(r){var s=_p(),a=r.focusedElem,u=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&wp(a.ownerDocument.documentElement,a)){if(u!==null&&Qu(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,h=Math.min(u.start,d);u=u.end===void 0?h:Math.min(u.end,d),!r.extend&&h>u&&(d=u,u=h,h=d),d=Sp(a,h);var m=Sp(a,u);d&&m&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==m.node||r.focusOffset!==m.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),h>u?(r.addRange(s),r.extend(m.node,m.offset)):(s.setEnd(m.node,m.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Pw=f&&"documentMode"in document&&11>=document.documentMode,xi=null,Yu=null,Fs=null,Xu=!1;function bp(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xu||xi==null||xi!==ar(u)||(u=xi,"selectionStart"in u&&Qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fs&&Us(Fs,u)||(Fs=u,u=_a(Yu,"onSelect"),0<u.length&&(s=new $u("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=xi)))}function ya(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Ti={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Ju={},Ap={};f&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function Sa(r){if(Ju[r])return Ju[r];if(!Ti[r])return r;var s=Ti[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ap)return Ju[r]=s[a];return r}var Cp=Sa("animationend"),Ep=Sa("animationiteration"),kp=Sa("animationstart"),Op=Sa("transitionend"),Ip=new Map,xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(r,s){Ip.set(r,s),l(s,[r])}for(var Zu=0;Zu<xp.length;Zu++){var ec=xp[Zu],Vw=ec.toLowerCase(),Rw=ec[0].toUpperCase()+ec.slice(1);hr(Vw,"on"+Rw)}hr(Cp,"onAnimationEnd"),hr(Ep,"onAnimationIteration"),hr(kp,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(Op,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function Tp(r,s,a){var u=r.type||"unknown-event";r.currentTarget=a,VS(u,s,void 0,r),r.currentTarget=null}function Pp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],d=u.event;u=u.listeners;e:{var h=void 0;if(s)for(var m=u.length-1;0<=m;m--){var w=u[m],b=w.instance,P=w.currentTarget;if(w=w.listener,b!==h&&d.isPropagationStopped())break e;Tp(d,w,P),h=b}else for(m=0;m<u.length;m++){if(w=u[m],b=w.instance,P=w.currentTarget,w=w.listener,b!==h&&d.isPropagationStopped())break e;Tp(d,w,P),h=b}}}if(ra)throw r=Pu,ra=!1,Pu=null,r}function $e(r,s){var a=s[lc];a===void 0&&(a=s[lc]=new Set);var u=r+"__bubble";a.has(u)||(Vp(s,r,2,!1),a.add(u))}function tc(r,s,a){var u=0;s&&(u|=4),Vp(a,r,u,s)}var wa="_reactListening"+Math.random().toString(36).slice(2);function js(r){if(!r[wa]){r[wa]=!0,i.forEach(function(a){a!=="selectionchange"&&(Mw.has(a)||tc(a,!1,r),tc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[wa]||(s[wa]=!0,tc("selectionchange",!1,s))}}function Vp(r,s,a,u){switch(tp(s)){case 1:var d=KS;break;case 4:d=QS;break;default:d=Lu}a=d.bind(null,s,a,r),d=void 0,!Tu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function nc(r,s,a,u,d){var h=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var w=u.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(m===4)for(m=u.return;m!==null;){var b=m.tag;if((b===3||b===4)&&(b=m.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;m=m.return}for(;w!==null;){if(m=Qr(w),m===null)return;if(b=m.tag,b===5||b===6){u=h=m;continue e}w=w.parentNode}}u=u.return}Bh(function(){var P=h,F=Ou(a),z=[];e:{var U=Ip.get(r);if(U!==void 0){var J=$u,te=r;switch(r){case"keypress":if(pa(a)===0)break e;case"keydown":case"keyup":J=cw;break;case"focusin":te="focus",J=Wu;break;case"focusout":te="blur",J=Wu;break;case"beforeblur":case"afterblur":J=Wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=JS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hw;break;case Cp:case Ep:case kp:J=tw;break;case Op:J=gw;break;case"scroll":J=YS;break;case"wheel":J=vw;break;case"copy":case"cut":case"paste":J=rw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=op}var ne=(s&4)!==0,rt=!ne&&r==="scroll",O=ne?U!==null?U+"Capture":null:U;ne=[];for(var A=P,I;A!==null;){I=A;var W=I.stateNode;if(I.tag===5&&W!==null&&(I=W,O!==null&&(W=Cs(A,O),W!=null&&ne.push(zs(A,W,I)))),rt)break;A=A.return}0<ne.length&&(U=new J(U,te,null,a,F),z.push({event:U,listeners:ne}))}}if((s&7)===0){e:{if(U=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",U&&a!==ku&&(te=a.relatedTarget||a.fromElement)&&(Qr(te)||te[Fn]))break e;if((J||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,J?(te=a.relatedTarget||a.toElement,J=P,te=te?Qr(te):null,te!==null&&(rt=Kr(te),te!==rt||te.tag!==5&&te.tag!==6)&&(te=null)):(J=null,te=P),J!==te)){if(ne=ip,W="onMouseLeave",O="onMouseEnter",A="mouse",(r==="pointerout"||r==="pointerover")&&(ne=op,W="onPointerLeave",O="onPointerEnter",A="pointer"),rt=J==null?U:Ri(J),I=te==null?U:Ri(te),U=new ne(W,A+"leave",J,a,F),U.target=rt,U.relatedTarget=I,W=null,Qr(F)===P&&(ne=new ne(O,A+"enter",te,a,F),ne.target=I,ne.relatedTarget=rt,W=ne),rt=W,J&&te)t:{for(ne=J,O=te,A=0,I=ne;I;I=Pi(I))A++;for(I=0,W=O;W;W=Pi(W))I++;for(;0<A-I;)ne=Pi(ne),A--;for(;0<I-A;)O=Pi(O),I--;for(;A--;){if(ne===O||O!==null&&ne===O.alternate)break t;ne=Pi(ne),O=Pi(O)}ne=null}else ne=null;J!==null&&Rp(z,U,J,ne,!1),te!==null&&rt!==null&&Rp(z,rt,te,ne,!0)}}e:{if(U=P?Ri(P):window,J=U.nodeName&&U.nodeName.toLowerCase(),J==="select"||J==="input"&&U.type==="file")var se=Cw;else if(fp(U))if(pp)se=Iw;else{se=kw;var ce=Ew}else(J=U.nodeName)&&J.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(se=Ow);if(se&&(se=se(r,P))){hp(z,se,a,F);break e}ce&&ce(r,U,P),r==="focusout"&&(ce=U._wrapperState)&&ce.controlled&&U.type==="number"&&_u(U,"number",U.value)}switch(ce=P?Ri(P):window,r){case"focusin":(fp(ce)||ce.contentEditable==="true")&&(xi=ce,Yu=P,Fs=null);break;case"focusout":Fs=Yu=xi=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,bp(z,a,F);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":bp(z,a,F)}var de;if(Gu)e:{switch(r){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ii?cp(r,a)&&(ge="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(ap&&a.locale!=="ko"&&(Ii||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ii&&(de=np()):(fr=F,Fu="value"in fr?fr.value:fr.textContent,Ii=!0)),ce=_a(P,ge),0<ce.length&&(ge=new sp(ge,r,null,a,F),z.push({event:ge,listeners:ce}),de?ge.data=de:(de=dp(a),de!==null&&(ge.data=de)))),(de=Sw?ww(r,a):_w(r,a))&&(P=_a(P,"onBeforeInput"),0<P.length&&(F=new sp("onBeforeInput","beforeinput",null,a,F),z.push({event:F,listeners:P}),F.data=de))}Pp(z,s)})}function zs(r,s,a){return{instance:r,listener:s,currentTarget:a}}function _a(r,s){for(var a=s+"Capture",u=[];r!==null;){var d=r,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Cs(r,a),h!=null&&u.unshift(zs(r,h,d)),h=Cs(r,s),h!=null&&u.push(zs(r,h,d))),r=r.return}return u}function Pi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rp(r,s,a,u,d){for(var h=s._reactName,m=[];a!==null&&a!==u;){var w=a,b=w.alternate,P=w.stateNode;if(b!==null&&b===u)break;w.tag===5&&P!==null&&(w=P,d?(b=Cs(a,h),b!=null&&m.unshift(zs(a,b,w))):d||(b=Cs(a,h),b!=null&&m.push(zs(a,b,w)))),a=a.return}m.length!==0&&r.push({event:s,listeners:m})}var Dw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function Mp(r){return(typeof r=="string"?r:""+r).replace(Dw,`
`).replace(Nw,"")}function ba(r,s,a){if(s=Mp(s),Mp(r)!==s&&a)throw Error(n(425))}function Aa(){}var rc=null,ic=null;function sc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,Bw=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(r){return Dp.resolve(null).then(r).catch(Uw)}:oc;function Uw(r){setTimeout(function(){throw r})}function ac(r,s){var a=s,u=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(u===0){r.removeChild(d),Rs(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=d}while(a);Rs(s)}function pr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Np(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),En="__reactFiber$"+Vi,Ws="__reactProps$"+Vi,Fn="__reactContainer$"+Vi,lc="__reactEvents$"+Vi,Fw="__reactListeners$"+Vi,$w="__reactHandles$"+Vi;function Qr(r){var s=r[En];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Fn]||a[En]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Np(r);r!==null;){if(a=r[En])return a;r=Np(r)}return s}r=a,a=r.parentNode}return null}function Hs(r){return r=r[En]||r[Fn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ri(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ca(r){return r[Ws]||null}var uc=[],Mi=-1;function gr(r){return{current:r}}function je(r){0>Mi||(r.current=uc[Mi],uc[Mi]=null,Mi--)}function Ue(r,s){Mi++,uc[Mi]=r.current,r.current=s}var mr={},yt=gr(mr),Ot=gr(!1),Yr=mr;function Di(r,s){var a=r.type.contextTypes;if(!a)return mr;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in a)d[h]=s[h];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function It(r){return r=r.childContextTypes,r!=null}function Ea(){je(Ot),je(yt)}function Bp(r,s,a){if(yt.current!==mr)throw Error(n(168));Ue(yt,s),Ue(Ot,a)}function Lp(r,s,a){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var d in u)if(!(d in s))throw Error(n(108,Ve(r)||"Unknown",d));return Z({},a,u)}function ka(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||mr,Yr=yt.current,Ue(yt,r),Ue(Ot,Ot.current),!0}function Up(r,s,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=Lp(r,s,Yr),u.__reactInternalMemoizedMergedChildContext=r,je(Ot),je(yt),Ue(yt,r)):je(Ot),Ue(Ot,a)}var $n=null,Oa=!1,cc=!1;function Fp(r){$n===null?$n=[r]:$n.push(r)}function jw(r){Oa=!0,Fp(r)}function vr(){if(!cc&&$n!==null){cc=!0;var r=0,s=Re;try{var a=$n;for(Re=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}$n=null,Oa=!1}catch(d){throw $n!==null&&($n=$n.slice(r+1)),jh(Vu,vr),d}finally{Re=s,cc=!1}}return null}var Ni=[],Bi=0,Ia=null,xa=0,Ht=[],Gt=0,Xr=null,jn=1,zn="";function Jr(r,s){Ni[Bi++]=xa,Ni[Bi++]=Ia,Ia=r,xa=s}function $p(r,s,a){Ht[Gt++]=jn,Ht[Gt++]=zn,Ht[Gt++]=Xr,Xr=r;var u=jn;r=zn;var d=32-an(u)-1;u&=~(1<<d),a+=1;var h=32-an(s)+d;if(30<h){var m=d-d%5;h=(u&(1<<m)-1).toString(32),u>>=m,d-=m,jn=1<<32-an(s)+d|a<<d|u,zn=h+r}else jn=1<<h|a<<d|u,zn=r}function dc(r){r.return!==null&&(Jr(r,1),$p(r,1,0))}function fc(r){for(;r===Ia;)Ia=Ni[--Bi],Ni[Bi]=null,xa=Ni[--Bi],Ni[Bi]=null;for(;r===Xr;)Xr=Ht[--Gt],Ht[Gt]=null,zn=Ht[--Gt],Ht[Gt]=null,jn=Ht[--Gt],Ht[Gt]=null}var Nt=null,Bt=null,He=!1,un=null;function jp(r,s){var a=Yt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function zp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Nt=r,Bt=pr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Nt=r,Bt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Xr!==null?{id:jn,overflow:zn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Yt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Nt=r,Bt=null,!0):!1;default:return!1}}function hc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pc(r){if(He){var s=Bt;if(s){var a=s;if(!zp(r,s)){if(hc(r))throw Error(n(418));s=pr(a.nextSibling);var u=Nt;s&&zp(r,s)?jp(u,a):(r.flags=r.flags&-4097|2,He=!1,Nt=r)}}else{if(hc(r))throw Error(n(418));r.flags=r.flags&-4097|2,He=!1,Nt=r}}}function Wp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Nt=r}function Ta(r){if(r!==Nt)return!1;if(!He)return Wp(r),He=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sc(r.type,r.memoizedProps)),s&&(s=Bt)){if(hc(r))throw Hp(),Error(n(418));for(;s;)jp(r,s),s=pr(s.nextSibling)}if(Wp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Bt=pr(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Bt=null}}else Bt=Nt?pr(r.stateNode.nextSibling):null;return!0}function Hp(){for(var r=Bt;r;)r=pr(r.nextSibling)}function Li(){Bt=Nt=null,He=!1}function gc(r){un===null?un=[r]:un.push(r)}var zw=re.ReactCurrentBatchConfig;function Gs(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var d=u,h=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===h?s.ref:(s=function(m){var w=d.refs;m===null?delete w[h]:w[h]=m},s._stringRef=h,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Pa(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Gp(r){var s=r._init;return s(r._payload)}function qp(r){function s(O,A){if(r){var I=O.deletions;I===null?(O.deletions=[A],O.flags|=16):I.push(A)}}function a(O,A){if(!r)return null;for(;A!==null;)s(O,A),A=A.sibling;return null}function u(O,A){for(O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function d(O,A){return O=Er(O,A),O.index=0,O.sibling=null,O}function h(O,A,I){return O.index=I,r?(I=O.alternate,I!==null?(I=I.index,I<A?(O.flags|=2,A):I):(O.flags|=2,A)):(O.flags|=1048576,A)}function m(O){return r&&O.alternate===null&&(O.flags|=2),O}function w(O,A,I,W){return A===null||A.tag!==6?(A=od(I,O.mode,W),A.return=O,A):(A=d(A,I),A.return=O,A)}function b(O,A,I,W){var se=I.type;return se===R?F(O,A,I.props.children,W,I.key):A!==null&&(A.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&Gp(se)===A.type)?(W=d(A,I.props),W.ref=Gs(O,A,I),W.return=O,W):(W=tl(I.type,I.key,I.props,null,O.mode,W),W.ref=Gs(O,A,I),W.return=O,W)}function P(O,A,I,W){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=ad(I,O.mode,W),A.return=O,A):(A=d(A,I.children||[]),A.return=O,A)}function F(O,A,I,W,se){return A===null||A.tag!==7?(A=oi(I,O.mode,W,se),A.return=O,A):(A=d(A,I),A.return=O,A)}function z(O,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return A=od(""+A,O.mode,I),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ue:return I=tl(A.type,A.key,A.props,null,O.mode,I),I.ref=Gs(O,null,A),I.return=O,I;case Se:return A=ad(A,O.mode,I),A.return=O,A;case Pe:var W=A._init;return z(O,W(A._payload),I)}if(_s(A)||ae(A))return A=oi(A,O.mode,I,null),A.return=O,A;Pa(O,A)}return null}function U(O,A,I,W){var se=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return se!==null?null:w(O,A,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ue:return I.key===se?b(O,A,I,W):null;case Se:return I.key===se?P(O,A,I,W):null;case Pe:return se=I._init,U(O,A,se(I._payload),W)}if(_s(I)||ae(I))return se!==null?null:F(O,A,I,W,null);Pa(O,I)}return null}function J(O,A,I,W,se){if(typeof W=="string"&&W!==""||typeof W=="number")return O=O.get(I)||null,w(A,O,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ue:return O=O.get(W.key===null?I:W.key)||null,b(A,O,W,se);case Se:return O=O.get(W.key===null?I:W.key)||null,P(A,O,W,se);case Pe:var ce=W._init;return J(O,A,I,ce(W._payload),se)}if(_s(W)||ae(W))return O=O.get(I)||null,F(A,O,W,se,null);Pa(A,W)}return null}function te(O,A,I,W){for(var se=null,ce=null,de=A,ge=A=0,ft=null;de!==null&&ge<I.length;ge++){de.index>ge?(ft=de,de=null):ft=de.sibling;var xe=U(O,de,I[ge],W);if(xe===null){de===null&&(de=ft);break}r&&de&&xe.alternate===null&&s(O,de),A=h(xe,A,ge),ce===null?se=xe:ce.sibling=xe,ce=xe,de=ft}if(ge===I.length)return a(O,de),He&&Jr(O,ge),se;if(de===null){for(;ge<I.length;ge++)de=z(O,I[ge],W),de!==null&&(A=h(de,A,ge),ce===null?se=de:ce.sibling=de,ce=de);return He&&Jr(O,ge),se}for(de=u(O,de);ge<I.length;ge++)ft=J(de,O,ge,I[ge],W),ft!==null&&(r&&ft.alternate!==null&&de.delete(ft.key===null?ge:ft.key),A=h(ft,A,ge),ce===null?se=ft:ce.sibling=ft,ce=ft);return r&&de.forEach(function(kr){return s(O,kr)}),He&&Jr(O,ge),se}function ne(O,A,I,W){var se=ae(I);if(typeof se!="function")throw Error(n(150));if(I=se.call(I),I==null)throw Error(n(151));for(var ce=se=null,de=A,ge=A=0,ft=null,xe=I.next();de!==null&&!xe.done;ge++,xe=I.next()){de.index>ge?(ft=de,de=null):ft=de.sibling;var kr=U(O,de,xe.value,W);if(kr===null){de===null&&(de=ft);break}r&&de&&kr.alternate===null&&s(O,de),A=h(kr,A,ge),ce===null?se=kr:ce.sibling=kr,ce=kr,de=ft}if(xe.done)return a(O,de),He&&Jr(O,ge),se;if(de===null){for(;!xe.done;ge++,xe=I.next())xe=z(O,xe.value,W),xe!==null&&(A=h(xe,A,ge),ce===null?se=xe:ce.sibling=xe,ce=xe);return He&&Jr(O,ge),se}for(de=u(O,de);!xe.done;ge++,xe=I.next())xe=J(de,O,ge,xe.value,W),xe!==null&&(r&&xe.alternate!==null&&de.delete(xe.key===null?ge:xe.key),A=h(xe,A,ge),ce===null?se=xe:ce.sibling=xe,ce=xe);return r&&de.forEach(function(b_){return s(O,b_)}),He&&Jr(O,ge),se}function rt(O,A,I,W){if(typeof I=="object"&&I!==null&&I.type===R&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ue:e:{for(var se=I.key,ce=A;ce!==null;){if(ce.key===se){if(se=I.type,se===R){if(ce.tag===7){a(O,ce.sibling),A=d(ce,I.props.children),A.return=O,O=A;break e}}else if(ce.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&Gp(se)===ce.type){a(O,ce.sibling),A=d(ce,I.props),A.ref=Gs(O,ce,I),A.return=O,O=A;break e}a(O,ce);break}else s(O,ce);ce=ce.sibling}I.type===R?(A=oi(I.props.children,O.mode,W,I.key),A.return=O,O=A):(W=tl(I.type,I.key,I.props,null,O.mode,W),W.ref=Gs(O,A,I),W.return=O,O=W)}return m(O);case Se:e:{for(ce=I.key;A!==null;){if(A.key===ce)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){a(O,A.sibling),A=d(A,I.children||[]),A.return=O,O=A;break e}else{a(O,A);break}else s(O,A);A=A.sibling}A=ad(I,O.mode,W),A.return=O,O=A}return m(O);case Pe:return ce=I._init,rt(O,A,ce(I._payload),W)}if(_s(I))return te(O,A,I,W);if(ae(I))return ne(O,A,I,W);Pa(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,A!==null&&A.tag===6?(a(O,A.sibling),A=d(A,I),A.return=O,O=A):(a(O,A),A=od(I,O.mode,W),A.return=O,O=A),m(O)):a(O,A)}return rt}var Ui=qp(!0),Kp=qp(!1),Va=gr(null),Ra=null,Fi=null,mc=null;function vc(){mc=Fi=Ra=null}function yc(r){var s=Va.current;je(Va),r._currentValue=s}function Sc(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function $i(r,s){Ra=r,mc=Fi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(xt=!0),r.firstContext=null)}function qt(r){var s=r._currentValue;if(mc!==r)if(r={context:r,memoizedValue:s,next:null},Fi===null){if(Ra===null)throw Error(n(308));Fi=r,Ra.dependencies={lanes:0,firstContext:r}}else Fi=Fi.next=r;return s}var Zr=null;function wc(r){Zr===null?Zr=[r]:Zr.push(r)}function Qp(r,s,a,u){var d=s.interleaved;return d===null?(a.next=a,wc(s)):(a.next=d.next,d.next=a),s.interleaved=a,Wn(r,u)}function Wn(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var yr=!1;function _c(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Hn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Sr(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Oe&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,Wn(r,a)}return d=u.interleaved,d===null?(s.next=s,wc(u)):(s.next=d.next,d.next=s),u.interleaved=s,Wn(r,a)}function Ma(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Du(r,a)}}function Xp(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var m={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?d=h=m:h=h.next=m,a=a.next}while(a!==null);h===null?d=h=s:h=h.next=s}else d=h=s;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Da(r,s,a,u){var d=r.updateQueue;yr=!1;var h=d.firstBaseUpdate,m=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var b=w,P=b.next;b.next=null,m===null?h=P:m.next=P,m=b;var F=r.alternate;F!==null&&(F=F.updateQueue,w=F.lastBaseUpdate,w!==m&&(w===null?F.firstBaseUpdate=P:w.next=P,F.lastBaseUpdate=b))}if(h!==null){var z=d.baseState;m=0,F=P=b=null,w=h;do{var U=w.lane,J=w.eventTime;if((u&U)===U){F!==null&&(F=F.next={eventTime:J,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var te=r,ne=w;switch(U=s,J=a,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){z=te.call(J,z,U);break e}z=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,U=typeof te=="function"?te.call(J,z,U):te,U==null)break e;z=Z({},z,U);break e;case 2:yr=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,U=d.effects,U===null?d.effects=[w]:U.push(w))}else J={eventTime:J,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},F===null?(P=F=J,b=z):F=F.next=J,m|=U;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;U=w,w=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(F===null&&(b=z),d.baseState=b,d.firstBaseUpdate=P,d.lastBaseUpdate=F,s=d.shared.interleaved,s!==null){d=s;do m|=d.lane,d=d.next;while(d!==s)}else h===null&&(d.shared.lanes=0);ni|=m,r.lanes=m,r.memoizedState=z}}function Jp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],d=u.callback;if(d!==null){if(u.callback=null,u=a,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var qs={},kn=gr(qs),Ks=gr(qs),Qs=gr(qs);function ei(r){if(r===qs)throw Error(n(174));return r}function bc(r,s){switch(Ue(Qs,s),Ue(Ks,r),Ue(kn,qs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Au(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Au(s,r)}je(kn),Ue(kn,s)}function ji(){je(kn),je(Ks),je(Qs)}function Zp(r){ei(Qs.current);var s=ei(kn.current),a=Au(s,r.type);s!==a&&(Ue(Ks,r),Ue(kn,a))}function Ac(r){Ks.current===r&&(je(kn),je(Ks))}var Qe=gr(0);function Na(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cc=[];function Ec(){for(var r=0;r<Cc.length;r++)Cc[r]._workInProgressVersionPrimary=null;Cc.length=0}var Ba=re.ReactCurrentDispatcher,kc=re.ReactCurrentBatchConfig,ti=0,Ye=null,at=null,ct=null,La=!1,Ys=!1,Xs=0,Ww=0;function St(){throw Error(n(321))}function Oc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!ln(r[a],s[a]))return!1;return!0}function Ic(r,s,a,u,d,h){if(ti=h,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ba.current=r===null||r.memoizedState===null?Kw:Qw,r=a(u,d),Ys){h=0;do{if(Ys=!1,Xs=0,25<=h)throw Error(n(301));h+=1,ct=at=null,s.updateQueue=null,Ba.current=Yw,r=a(u,d)}while(Ys)}if(Ba.current=$a,s=at!==null&&at.next!==null,ti=0,ct=at=Ye=null,La=!1,s)throw Error(n(300));return r}function xc(){var r=Xs!==0;return Xs=0,r}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ye.memoizedState=ct=r:ct=ct.next=r,ct}function Kt(){if(at===null){var r=Ye.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var s=ct===null?Ye.memoizedState:ct.next;if(s!==null)ct=s,at=r;else{if(r===null)throw Error(n(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Ye.memoizedState=ct=r:ct=ct.next=r}return ct}function Js(r,s){return typeof s=="function"?s(r):s}function Tc(r){var s=Kt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=at,d=u.baseQueue,h=a.pending;if(h!==null){if(d!==null){var m=d.next;d.next=h.next,h.next=m}u.baseQueue=d=h,a.pending=null}if(d!==null){h=d.next,u=u.baseState;var w=m=null,b=null,P=h;do{var F=P.lane;if((ti&F)===F)b!==null&&(b=b.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),u=P.hasEagerState?P.eagerState:r(u,P.action);else{var z={lane:F,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};b===null?(w=b=z,m=u):b=b.next=z,Ye.lanes|=F,ni|=F}P=P.next}while(P!==null&&P!==h);b===null?m=u:b.next=w,ln(u,s.memoizedState)||(xt=!0),s.memoizedState=u,s.baseState=m,s.baseQueue=b,a.lastRenderedState=u}if(r=a.interleaved,r!==null){d=r;do h=d.lane,Ye.lanes|=h,ni|=h,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Pc(r){var s=Kt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,d=a.pending,h=s.memoizedState;if(d!==null){a.pending=null;var m=d=d.next;do h=r(h,m.action),m=m.next;while(m!==d);ln(h,s.memoizedState)||(xt=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),a.lastRenderedState=h}return[h,u]}function eg(){}function tg(r,s){var a=Ye,u=Kt(),d=s(),h=!ln(u.memoizedState,d);if(h&&(u.memoizedState=d,xt=!0),u=u.queue,Vc(ig.bind(null,a,u,r),[r]),u.getSnapshot!==s||h||ct!==null&&ct.memoizedState.tag&1){if(a.flags|=2048,Zs(9,rg.bind(null,a,u,d,s),void 0,null),dt===null)throw Error(n(349));(ti&30)!==0||ng(a,s,d)}return d}function ng(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function rg(r,s,a,u){s.value=a,s.getSnapshot=u,sg(s)&&og(r)}function ig(r,s,a){return a(function(){sg(s)&&og(r)})}function sg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!ln(r,a)}catch{return!0}}function og(r){var s=Wn(r,1);s!==null&&hn(s,r,1,-1)}function ag(r){var s=On();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:r},s.queue=r,r=r.dispatch=qw.bind(null,Ye,r),[s.memoizedState,r]}function Zs(r,s,a,u){return r={tag:r,create:s,destroy:a,deps:u,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r)),r}function lg(){return Kt().memoizedState}function Ua(r,s,a,u){var d=On();Ye.flags|=r,d.memoizedState=Zs(1|s,a,void 0,u===void 0?null:u)}function Fa(r,s,a,u){var d=Kt();u=u===void 0?null:u;var h=void 0;if(at!==null){var m=at.memoizedState;if(h=m.destroy,u!==null&&Oc(u,m.deps)){d.memoizedState=Zs(s,a,h,u);return}}Ye.flags|=r,d.memoizedState=Zs(1|s,a,h,u)}function ug(r,s){return Ua(8390656,8,r,s)}function Vc(r,s){return Fa(2048,8,r,s)}function cg(r,s){return Fa(4,2,r,s)}function dg(r,s){return Fa(4,4,r,s)}function fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hg(r,s,a){return a=a!=null?a.concat([r]):null,Fa(4,4,fg.bind(null,s,r),a)}function Rc(){}function pg(r,s){var a=Kt();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Oc(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function gg(r,s){var a=Kt();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Oc(s,u[1])?u[0]:(r=r(),a.memoizedState=[r,s],r)}function mg(r,s,a){return(ti&21)===0?(r.baseState&&(r.baseState=!1,xt=!0),r.memoizedState=a):(ln(a,s)||(a=Gh(),Ye.lanes|=a,ni|=a,r.baseState=!0),s)}function Hw(r,s){var a=Re;Re=a!==0&&4>a?a:4,r(!0);var u=kc.transition;kc.transition={};try{r(!1),s()}finally{Re=a,kc.transition=u}}function vg(){return Kt().memoizedState}function Gw(r,s,a){var u=Ar(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},yg(r))Sg(s,a);else if(a=Qp(r,s,a,u),a!==null){var d=Et();hn(a,r,u,d),wg(a,s,u)}}function qw(r,s,a){var u=Ar(r),d={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(yg(r))Sg(s,d);else{var h=r.alternate;if(r.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var m=s.lastRenderedState,w=h(m,a);if(d.hasEagerState=!0,d.eagerState=w,ln(w,m)){var b=s.interleaved;b===null?(d.next=d,wc(s)):(d.next=b.next,b.next=d),s.interleaved=d;return}}catch{}finally{}a=Qp(r,s,d,u),a!==null&&(d=Et(),hn(a,r,u,d),wg(a,s,u))}}function yg(r){var s=r.alternate;return r===Ye||s!==null&&s===Ye}function Sg(r,s){Ys=La=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function wg(r,s,a){if((a&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,Du(r,a)}}var $a={readContext:qt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Kw={readContext:qt,useCallback:function(r,s){return On().memoizedState=[r,s===void 0?null:s],r},useContext:qt,useEffect:ug,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Ua(4194308,4,fg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ua(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ua(4,2,r,s)},useMemo:function(r,s){var a=On();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var u=On();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=Gw.bind(null,Ye,r),[u.memoizedState,r]},useRef:function(r){var s=On();return r={current:r},s.memoizedState=r},useState:ag,useDebugValue:Rc,useDeferredValue:function(r){return On().memoizedState=r},useTransition:function(){var r=ag(!1),s=r[0];return r=Hw.bind(null,r[1]),On().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var u=Ye,d=On();if(He){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),dt===null)throw Error(n(349));(ti&30)!==0||ng(u,s,a)}d.memoizedState=a;var h={value:a,getSnapshot:s};return d.queue=h,ug(ig.bind(null,u,h,r),[r]),u.flags|=2048,Zs(9,rg.bind(null,u,h,a,s),void 0,null),a},useId:function(){var r=On(),s=dt.identifierPrefix;if(He){var a=zn,u=jn;a=(u&~(1<<32-an(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=Xs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Ww++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Qw={readContext:qt,useCallback:pg,useContext:qt,useEffect:Vc,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:gg,useReducer:Tc,useRef:lg,useState:function(){return Tc(Js)},useDebugValue:Rc,useDeferredValue:function(r){var s=Kt();return mg(s,at.memoizedState,r)},useTransition:function(){var r=Tc(Js)[0],s=Kt().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:vg,unstable_isNewReconciler:!1},Yw={readContext:qt,useCallback:pg,useContext:qt,useEffect:Vc,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:gg,useReducer:Pc,useRef:lg,useState:function(){return Pc(Js)},useDebugValue:Rc,useDeferredValue:function(r){var s=Kt();return at===null?s.memoizedState=r:mg(s,at.memoizedState,r)},useTransition:function(){var r=Pc(Js)[0],s=Kt().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:vg,unstable_isNewReconciler:!1};function cn(r,s){if(r&&r.defaultProps){s=Z({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Mc(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:Z({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ja={isMounted:function(r){return(r=r._reactInternals)?Kr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var u=Et(),d=Ar(r),h=Hn(u,d);h.payload=s,a!=null&&(h.callback=a),s=Sr(r,h,d),s!==null&&(hn(s,r,d,u),Ma(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=Et(),d=Ar(r),h=Hn(u,d);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=Sr(r,h,d),s!==null&&(hn(s,r,d,u),Ma(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Et(),u=Ar(r),d=Hn(a,u);d.tag=2,s!=null&&(d.callback=s),s=Sr(r,d,u),s!==null&&(hn(s,r,u,a),Ma(s,r,u))}};function _g(r,s,a,u,d,h,m){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,h,m):s.prototype&&s.prototype.isPureReactComponent?!Us(a,u)||!Us(d,h):!0}function bg(r,s,a){var u=!1,d=mr,h=s.contextType;return typeof h=="object"&&h!==null?h=qt(h):(d=It(s)?Yr:yt.current,u=s.contextTypes,h=(u=u!=null)?Di(r,d):mr),s=new s(a,h),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ja,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=h),s}function Ag(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&ja.enqueueReplaceState(s,s.state,null)}function Dc(r,s,a,u){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},_c(r);var h=s.contextType;typeof h=="object"&&h!==null?d.context=qt(h):(h=It(s)?Yr:yt.current,d.context=Di(r,h)),d.state=r.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(Mc(r,s,h,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ja.enqueueReplaceState(d,d.state,null),Da(r,a,d,u),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function zi(r,s){try{var a="",u=s;do a+=he(u),u=u.return;while(u);var d=a}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:r,source:s,stack:d,digest:null}}function Nc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Bc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Xw=typeof WeakMap=="function"?WeakMap:Map;function Cg(r,s,a){a=Hn(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){Qa||(Qa=!0,Jc=u),Bc(r,s)},a}function Eg(r,s,a){a=Hn(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;a.payload=function(){return u(d)},a.callback=function(){Bc(r,s)}}var h=r.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Bc(r,s),typeof u!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var m=s.stack;this.componentDidCatch(s.value,{componentStack:m!==null?m:""})}),a}function kg(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new Xw;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(a)||(d.add(a),r=d_.bind(null,r,s,a),s.then(r,r))}function Og(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ig(r,s,a,u,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Hn(-1,1),s.tag=2,Sr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var Jw=re.ReactCurrentOwner,xt=!1;function Ct(r,s,a,u){s.child=r===null?Kp(s,null,a,u):Ui(s,r.child,a,u)}function xg(r,s,a,u,d){a=a.render;var h=s.ref;return $i(s,d),u=Ic(r,s,a,u,h,d),a=xc(),r!==null&&!xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Gn(r,s,d)):(He&&a&&dc(s),s.flags|=1,Ct(r,s,u,d),s.child)}function Tg(r,s,a,u,d){if(r===null){var h=a.type;return typeof h=="function"&&!sd(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=h,Pg(r,s,h,u,d)):(r=tl(a.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(h=r.child,(r.lanes&d)===0){var m=h.memoizedProps;if(a=a.compare,a=a!==null?a:Us,a(m,u)&&r.ref===s.ref)return Gn(r,s,d)}return s.flags|=1,r=Er(h,u),r.ref=s.ref,r.return=s,s.child=r}function Pg(r,s,a,u,d){if(r!==null){var h=r.memoizedProps;if(Us(h,u)&&r.ref===s.ref)if(xt=!1,s.pendingProps=u=h,(r.lanes&d)!==0)(r.flags&131072)!==0&&(xt=!0);else return s.lanes=r.lanes,Gn(r,s,d)}return Lc(r,s,a,u,d)}function Vg(r,s,a){var u=s.pendingProps,d=u.children,h=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Hi,Lt),Lt|=a;else{if((a&1073741824)===0)return r=h!==null?h.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ue(Hi,Lt),Lt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=h!==null?h.baseLanes:a,Ue(Hi,Lt),Lt|=u}else h!==null?(u=h.baseLanes|a,s.memoizedState=null):u=a,Ue(Hi,Lt),Lt|=u;return Ct(r,s,d,a),s.child}function Rg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Lc(r,s,a,u,d){var h=It(a)?Yr:yt.current;return h=Di(s,h),$i(s,d),a=Ic(r,s,a,u,h,d),u=xc(),r!==null&&!xt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Gn(r,s,d)):(He&&u&&dc(s),s.flags|=1,Ct(r,s,a,d),s.child)}function Mg(r,s,a,u,d){if(It(a)){var h=!0;ka(s)}else h=!1;if($i(s,d),s.stateNode===null)Wa(r,s),bg(s,a,u),Dc(s,a,u,d),u=!0;else if(r===null){var m=s.stateNode,w=s.memoizedProps;m.props=w;var b=m.context,P=a.contextType;typeof P=="object"&&P!==null?P=qt(P):(P=It(a)?Yr:yt.current,P=Di(s,P));var F=a.getDerivedStateFromProps,z=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function";z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==u||b!==P)&&Ag(s,m,u,P),yr=!1;var U=s.memoizedState;m.state=U,Da(s,u,m,d),b=s.memoizedState,w!==u||U!==b||Ot.current||yr?(typeof F=="function"&&(Mc(s,a,F,u),b=s.memoizedState),(w=yr||_g(s,a,w,u,U,b,P))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=b),m.props=u,m.state=b,m.context=P,u=w):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Yp(r,s),w=s.memoizedProps,P=s.type===s.elementType?w:cn(s.type,w),m.props=P,z=s.pendingProps,U=m.context,b=a.contextType,typeof b=="object"&&b!==null?b=qt(b):(b=It(a)?Yr:yt.current,b=Di(s,b));var J=a.getDerivedStateFromProps;(F=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==z||U!==b)&&Ag(s,m,u,b),yr=!1,U=s.memoizedState,m.state=U,Da(s,u,m,d);var te=s.memoizedState;w!==z||U!==te||Ot.current||yr?(typeof J=="function"&&(Mc(s,a,J,u),te=s.memoizedState),(P=yr||_g(s,a,P,u,U,te,b)||!1)?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,te,b),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,te,b)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=te),m.props=u,m.state=te,m.context=b,u=P):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&U===r.memoizedState||(s.flags|=1024),u=!1)}return Uc(r,s,a,u,h,d)}function Uc(r,s,a,u,d,h){Rg(r,s);var m=(s.flags&128)!==0;if(!u&&!m)return d&&Up(s,a,!1),Gn(r,s,h);u=s.stateNode,Jw.current=s;var w=m&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&m?(s.child=Ui(s,r.child,null,h),s.child=Ui(s,null,w,h)):Ct(r,s,w,h),s.memoizedState=u.state,d&&Up(s,a,!0),s.child}function Dg(r){var s=r.stateNode;s.pendingContext?Bp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Bp(r,s.context,!1),bc(r,s.containerInfo)}function Ng(r,s,a,u,d){return Li(),gc(d),s.flags|=256,Ct(r,s,a,u),s.child}var Fc={dehydrated:null,treeContext:null,retryLane:0};function $c(r){return{baseLanes:r,cachePool:null,transitions:null}}function Bg(r,s,a){var u=s.pendingProps,d=Qe.current,h=!1,m=(s.flags&128)!==0,w;if((w=m)||(w=r!==null&&r.memoizedState===null?!1:(d&2)!==0),w?(h=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ue(Qe,d&1),r===null)return pc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(m=u.children,r=u.fallback,h?(u=s.mode,h=s.child,m={mode:"hidden",children:m},(u&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=nl(m,u,0,null),r=oi(r,u,a,null),h.return=s,r.return=s,h.sibling=r,s.child=h,s.child.memoizedState=$c(a),s.memoizedState=Fc,r):jc(s,m));if(d=r.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return Zw(r,s,m,u,w,d,a);if(h){h=u.fallback,m=s.mode,d=r.child,w=d.sibling;var b={mode:"hidden",children:u.children};return(m&1)===0&&s.child!==d?(u=s.child,u.childLanes=0,u.pendingProps=b,s.deletions=null):(u=Er(d,b),u.subtreeFlags=d.subtreeFlags&14680064),w!==null?h=Er(w,h):(h=oi(h,m,a,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,m=r.child.memoizedState,m=m===null?$c(a):{baseLanes:m.baseLanes|a,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=r.childLanes&~a,s.memoizedState=Fc,u}return h=r.child,r=h.sibling,u=Er(h,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=u,s.memoizedState=null,u}function jc(r,s){return s=nl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function za(r,s,a,u){return u!==null&&gc(u),Ui(s,r.child,null,a),r=jc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Zw(r,s,a,u,d,h,m){if(a)return s.flags&256?(s.flags&=-257,u=Nc(Error(n(422))),za(r,s,m,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(h=u.fallback,d=s.mode,u=nl({mode:"visible",children:u.children},d,0,null),h=oi(h,d,m,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,(s.mode&1)!==0&&Ui(s,r.child,null,m),s.child.memoizedState=$c(m),s.memoizedState=Fc,h);if((s.mode&1)===0)return za(r,s,m,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var w=u.dgst;return u=w,h=Error(n(419)),u=Nc(h,u,void 0),za(r,s,m,u)}if(w=(m&r.childLanes)!==0,xt||w){if(u=dt,u!==null){switch(m&-m){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|m))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,Wn(r,d),hn(u,r,d,-1))}return id(),u=Nc(Error(n(421))),za(r,s,m,u)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=f_.bind(null,r),d._reactRetry=s,null):(r=h.treeContext,Bt=pr(d.nextSibling),Nt=s,He=!0,un=null,r!==null&&(Ht[Gt++]=jn,Ht[Gt++]=zn,Ht[Gt++]=Xr,jn=r.id,zn=r.overflow,Xr=s),s=jc(s,u.children),s.flags|=4096,s)}function Lg(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Sc(r.return,s,a)}function zc(r,s,a,u,d){var h=r.memoizedState;h===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=d)}function Ug(r,s,a){var u=s.pendingProps,d=u.revealOrder,h=u.tail;if(Ct(r,s,u.children,a),u=Qe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Lg(r,a,s);else if(r.tag===19)Lg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Ue(Qe,u),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Na(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),zc(s,!1,d,a,h);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Na(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}zc(s,!0,a,null,h);break;case"together":zc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Gn(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ni|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=Er(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Er(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function e_(r,s,a){switch(s.tag){case 3:Dg(s),Li();break;case 5:Zp(s);break;case 1:It(s.type)&&ka(s);break;case 4:bc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,d=s.memoizedProps.value;Ue(Va,u._currentValue),u._currentValue=d;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Ue(Qe,Qe.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Bg(r,s,a):(Ue(Qe,Qe.current&1),r=Gn(r,s,a),r!==null?r.sibling:null);Ue(Qe,Qe.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(r.flags&128)!==0){if(u)return Ug(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ue(Qe,Qe.current),u)break;return null;case 22:case 23:return s.lanes=0,Vg(r,s,a)}return Gn(r,s,a)}var Fg,Wc,$g,jg;Fg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Wc=function(){},$g=function(r,s,a,u){var d=r.memoizedProps;if(d!==u){r=s.stateNode,ei(kn.current);var h=null;switch(a){case"input":d=qr(r,d),u=qr(r,u),h=[];break;case"select":d=Z({},d,{value:void 0}),u=Z({},u,{value:void 0}),h=[];break;case"textarea":d=bu(r,d),u=bu(r,u),h=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Aa)}Cu(a,u);var m;a=null;for(P in d)if(!u.hasOwnProperty(P)&&d.hasOwnProperty(P)&&d[P]!=null)if(P==="style"){var w=d[P];for(m in w)w.hasOwnProperty(m)&&(a||(a={}),a[m]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in u){var b=u[P];if(w=d!=null?d[P]:void 0,u.hasOwnProperty(P)&&b!==w&&(b!=null||w!=null))if(P==="style")if(w){for(m in w)!w.hasOwnProperty(m)||b&&b.hasOwnProperty(m)||(a||(a={}),a[m]="");for(m in b)b.hasOwnProperty(m)&&w[m]!==b[m]&&(a||(a={}),a[m]=b[m])}else a||(h||(h=[]),h.push(P,a)),a=b;else P==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(h=h||[]).push(P,b)):P==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(P,""+b):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(o.hasOwnProperty(P)?(b!=null&&P==="onScroll"&&$e("scroll",r),h||w===b||(h=[])):(h=h||[]).push(P,b))}a&&(h=h||[]).push("style",a);var P=h;(s.updateQueue=P)&&(s.flags|=4)}},jg=function(r,s,a,u){a!==u&&(s.flags|=4)};function eo(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function t_(r,s,a){var u=s.pendingProps;switch(fc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return It(s.type)&&Ea(),wt(s),null;case 3:return u=s.stateNode,ji(),je(Ot),je(yt),Ec(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Ta(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,un!==null&&(td(un),un=null))),Wc(r,s),wt(s),null;case 5:Ac(s);var d=ei(Qs.current);if(a=s.type,r!==null&&s.stateNode!=null)$g(r,s,a,u,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return wt(s),null}if(r=ei(kn.current),Ta(s)){u=s.stateNode,a=s.type;var h=s.memoizedProps;switch(u[En]=s,u[Ws]=h,r=(s.mode&1)!==0,a){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(d=0;d<$s.length;d++)$e($s[d],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":bh(u,h),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!h.multiple},$e("invalid",u);break;case"textarea":Eh(u,h),$e("invalid",u)}Cu(a,h),d=null;for(var m in h)if(h.hasOwnProperty(m)){var w=h[m];m==="children"?typeof w=="string"?u.textContent!==w&&(h.suppressHydrationWarning!==!0&&ba(u.textContent,w,r),d=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&ba(u.textContent,w,r),d=["children",""+w]):o.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&$e("scroll",u)}switch(a){case"input":Gr(u),Ch(u,h,!0);break;case"textarea":Gr(u),Oh(u);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(u.onclick=Aa)}u=d,s.updateQueue=u,u!==null&&(s.flags|=4)}else{m=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ih(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=m.createElement(a,{is:u.is}):(r=m.createElement(a),a==="select"&&(m=r,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):r=m.createElementNS(r,a),r[En]=s,r[Ws]=u,Fg(r,s,!1,!1),s.stateNode=r;e:{switch(m=Eu(a,u),a){case"dialog":$e("cancel",r),$e("close",r),d=u;break;case"iframe":case"object":case"embed":$e("load",r),d=u;break;case"video":case"audio":for(d=0;d<$s.length;d++)$e($s[d],r);d=u;break;case"source":$e("error",r),d=u;break;case"img":case"image":case"link":$e("error",r),$e("load",r),d=u;break;case"details":$e("toggle",r),d=u;break;case"input":bh(r,u),d=qr(r,u),$e("invalid",r);break;case"option":d=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},d=Z({},u,{value:void 0}),$e("invalid",r);break;case"textarea":Eh(r,u),d=bu(r,u),$e("invalid",r);break;default:d=u}Cu(a,d),w=d;for(h in w)if(w.hasOwnProperty(h)){var b=w[h];h==="style"?Ph(r,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&xh(r,b)):h==="children"?typeof b=="string"?(a!=="textarea"||b!=="")&&bs(r,b):typeof b=="number"&&bs(r,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(o.hasOwnProperty(h)?b!=null&&h==="onScroll"&&$e("scroll",r):b!=null&&Y(r,h,b,m))}switch(a){case"input":Gr(r),Ch(r,u,!1);break;case"textarea":Gr(r),Oh(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ke(u.value));break;case"select":r.multiple=!!u.multiple,h=u.value,h!=null?Ai(r,!!u.multiple,h,!1):u.defaultValue!=null&&Ai(r,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=Aa)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return wt(s),null;case 6:if(r&&s.stateNode!=null)jg(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=ei(Qs.current),ei(kn.current),Ta(s)){if(u=s.stateNode,a=s.memoizedProps,u[En]=s,(h=u.nodeValue!==a)&&(r=Nt,r!==null))switch(r.tag){case 3:ba(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ba(u.nodeValue,a,(r.mode&1)!==0)}h&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[En]=s,s.stateNode=u}return wt(s),null;case 13:if(je(Qe),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(He&&Bt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hp(),Li(),s.flags|=98560,h=!1;else if(h=Ta(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[En]=s}else Li(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),h=!1}else un!==null&&(td(un),un=null),h=!0;if(!h)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Qe.current&1)!==0?lt===0&&(lt=3):id())),s.updateQueue!==null&&(s.flags|=4),wt(s),null);case 4:return ji(),Wc(r,s),r===null&&js(s.stateNode.containerInfo),wt(s),null;case 10:return yc(s.type._context),wt(s),null;case 17:return It(s.type)&&Ea(),wt(s),null;case 19:if(je(Qe),h=s.memoizedState,h===null)return wt(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)eo(h,!1);else{if(lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Na(r),m!==null){for(s.flags|=128,eo(h,!1),u=m.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)h=a,r=u,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=r,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,r=m.dependencies,h.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ue(Qe,Qe.current&1|2),s.child}r=r.sibling}h.tail!==null&&nt()>Gi&&(s.flags|=128,u=!0,eo(h,!1),s.lanes=4194304)}else{if(!u)if(r=Na(m),r!==null){if(s.flags|=128,u=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),eo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!He)return wt(s),null}else 2*nt()-h.renderingStartTime>Gi&&a!==1073741824&&(s.flags|=128,u=!0,eo(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(a=h.last,a!==null?a.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=nt(),s.sibling=null,a=Qe.current,Ue(Qe,u?a&1|2:a&1),s):(wt(s),null);case 22:case 23:return rd(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Lt&1073741824)!==0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function n_(r,s){switch(fc(s),s.tag){case 1:return It(s.type)&&Ea(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ji(),je(Ot),je(yt),Ec(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ac(s),null;case 13:if(je(Qe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Li()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return je(Qe),null;case 4:return ji(),null;case 10:return yc(s.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var Ha=!1,_t=!1,r_=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Wi(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Je(r,s,u)}else a.current=null}function Hc(r,s,a){try{a()}catch(u){Je(r,s,u)}}var zg=!1;function i_(r,s){if(rc=da,r=_p(),Qu(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var m=0,w=-1,b=-1,P=0,F=0,z=r,U=null;t:for(;;){for(var J;z!==a||d!==0&&z.nodeType!==3||(w=m+d),z!==h||u!==0&&z.nodeType!==3||(b=m+u),z.nodeType===3&&(m+=z.nodeValue.length),(J=z.firstChild)!==null;)U=z,z=J;for(;;){if(z===r)break t;if(U===a&&++P===d&&(w=m),U===h&&++F===u&&(b=m),(J=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=J}a=w===-1||b===-1?null:{start:w,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(ic={focusedElem:r,selectionRange:a},da=!1,ee=s;ee!==null;)if(s=ee,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ee=r;else for(;ee!==null;){s=ee;try{var te=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,rt=te.memoizedState,O=s.stateNode,A=O.getSnapshotBeforeUpdate(s.elementType===s.type?ne:cn(s.type,ne),rt);O.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var I=s.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(W){Je(s,s.return,W)}if(r=s.sibling,r!==null){r.return=s.return,ee=r;break}ee=s.return}return te=zg,zg=!1,te}function to(r,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&r)===r){var h=d.destroy;d.destroy=void 0,h!==void 0&&Hc(s,a,h)}d=d.next}while(d!==u)}}function Ga(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function Gc(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Wg(r){var s=r.alternate;s!==null&&(r.alternate=null,Wg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[En],delete s[Ws],delete s[lc],delete s[Fw],delete s[$w])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hg(r){return r.tag===5||r.tag===3||r.tag===4}function Gg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qc(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Aa));else if(u!==4&&(r=r.child,r!==null))for(qc(r,s,a),r=r.sibling;r!==null;)qc(r,s,a),r=r.sibling}function Kc(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Kc(r,s,a),r=r.sibling;r!==null;)Kc(r,s,a),r=r.sibling}var ht=null,dn=!1;function wr(r,s,a){for(a=a.child;a!==null;)qg(r,s,a),a=a.sibling}function qg(r,s,a){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(sa,a)}catch{}switch(a.tag){case 5:_t||Wi(a,s);case 6:var u=ht,d=dn;ht=null,wr(r,s,a),ht=u,dn=d,ht!==null&&(dn?(r=ht,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):ht.removeChild(a.stateNode));break;case 18:ht!==null&&(dn?(r=ht,a=a.stateNode,r.nodeType===8?ac(r.parentNode,a):r.nodeType===1&&ac(r,a),Rs(r)):ac(ht,a.stateNode));break;case 4:u=ht,d=dn,ht=a.stateNode.containerInfo,dn=!0,wr(r,s,a),ht=u,dn=d;break;case 0:case 11:case 14:case 15:if(!_t&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var h=d,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Hc(a,s,m),d=d.next}while(d!==u)}wr(r,s,a);break;case 1:if(!_t&&(Wi(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(w){Je(a,s,w)}wr(r,s,a);break;case 21:wr(r,s,a);break;case 22:a.mode&1?(_t=(u=_t)||a.memoizedState!==null,wr(r,s,a),_t=u):wr(r,s,a);break;default:wr(r,s,a)}}function Kg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new r_),s.forEach(function(u){var d=h_.bind(null,r,u);a.has(u)||(a.add(u),u.then(d,d))})}}function fn(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];try{var h=r,m=s,w=m;e:for(;w!==null;){switch(w.tag){case 5:ht=w.stateNode,dn=!1;break e;case 3:ht=w.stateNode.containerInfo,dn=!0;break e;case 4:ht=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(ht===null)throw Error(n(160));qg(h,m,d),ht=null,dn=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(P){Je(d,s,P)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qg(s,r),s=s.sibling}function Qg(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fn(s,r),In(r),u&4){try{to(3,r,r.return),Ga(3,r)}catch(ne){Je(r,r.return,ne)}try{to(5,r,r.return)}catch(ne){Je(r,r.return,ne)}}break;case 1:fn(s,r),In(r),u&512&&a!==null&&Wi(a,a.return);break;case 5:if(fn(s,r),In(r),u&512&&a!==null&&Wi(a,a.return),r.flags&32){var d=r.stateNode;try{bs(d,"")}catch(ne){Je(r,r.return,ne)}}if(u&4&&(d=r.stateNode,d!=null)){var h=r.memoizedProps,m=a!==null?a.memoizedProps:h,w=r.type,b=r.updateQueue;if(r.updateQueue=null,b!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&Ah(d,h),Eu(w,m);var P=Eu(w,h);for(m=0;m<b.length;m+=2){var F=b[m],z=b[m+1];F==="style"?Ph(d,z):F==="dangerouslySetInnerHTML"?xh(d,z):F==="children"?bs(d,z):Y(d,F,z,P)}switch(w){case"input":wu(d,h);break;case"textarea":kh(d,h);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var J=h.value;J!=null?Ai(d,!!h.multiple,J,!1):U!==!!h.multiple&&(h.defaultValue!=null?Ai(d,!!h.multiple,h.defaultValue,!0):Ai(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ws]=h}catch(ne){Je(r,r.return,ne)}}break;case 6:if(fn(s,r),In(r),u&4){if(r.stateNode===null)throw Error(n(162));d=r.stateNode,h=r.memoizedProps;try{d.nodeValue=h}catch(ne){Je(r,r.return,ne)}}break;case 3:if(fn(s,r),In(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Rs(s.containerInfo)}catch(ne){Je(r,r.return,ne)}break;case 4:fn(s,r),In(r);break;case 13:fn(s,r),In(r),d=r.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Xc=nt())),u&4&&Kg(r);break;case 22:if(F=a!==null&&a.memoizedState!==null,r.mode&1?(_t=(P=_t)||F,fn(s,r),_t=P):fn(s,r),In(r),u&8192){if(P=r.memoizedState!==null,(r.stateNode.isHidden=P)&&!F&&(r.mode&1)!==0)for(ee=r,F=r.child;F!==null;){for(z=ee=F;ee!==null;){switch(U=ee,J=U.child,U.tag){case 0:case 11:case 14:case 15:to(4,U,U.return);break;case 1:Wi(U,U.return);var te=U.stateNode;if(typeof te.componentWillUnmount=="function"){u=U,a=U.return;try{s=u,te.props=s.memoizedProps,te.state=s.memoizedState,te.componentWillUnmount()}catch(ne){Je(u,a,ne)}}break;case 5:Wi(U,U.return);break;case 22:if(U.memoizedState!==null){Jg(z);continue}}J!==null?(J.return=U,ee=J):Jg(z)}F=F.sibling}e:for(F=null,z=r;;){if(z.tag===5){if(F===null){F=z;try{d=z.stateNode,P?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=z.stateNode,b=z.memoizedProps.style,m=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=Th("display",m))}catch(ne){Je(r,r.return,ne)}}}else if(z.tag===6){if(F===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(ne){Je(r,r.return,ne)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===r)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===r)break e;for(;z.sibling===null;){if(z.return===null||z.return===r)break e;F===z&&(F=null),z=z.return}F===z&&(F=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:fn(s,r),In(r),u&4&&Kg(r);break;case 21:break;default:fn(s,r),In(r)}}function In(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Hg(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(bs(d,""),u.flags&=-33);var h=Gg(r);Kc(r,h,d);break;case 3:case 4:var m=u.stateNode.containerInfo,w=Gg(r);qc(r,w,m);break;default:throw Error(n(161))}}catch(b){Je(r,r.return,b)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function s_(r,s,a){ee=r,Yg(r)}function Yg(r,s,a){for(var u=(r.mode&1)!==0;ee!==null;){var d=ee,h=d.child;if(d.tag===22&&u){var m=d.memoizedState!==null||Ha;if(!m){var w=d.alternate,b=w!==null&&w.memoizedState!==null||_t;w=Ha;var P=_t;if(Ha=m,(_t=b)&&!P)for(ee=d;ee!==null;)m=ee,b=m.child,m.tag===22&&m.memoizedState!==null?Zg(d):b!==null?(b.return=m,ee=b):Zg(d);for(;h!==null;)ee=h,Yg(h),h=h.sibling;ee=d,Ha=w,_t=P}Xg(r)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,ee=h):Xg(r)}}function Xg(r){for(;ee!==null;){var s=ee;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:_t||Ga(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!_t)if(a===null)u.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:cn(s.type,a.memoizedProps);u.componentDidUpdate(d,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var h=s.updateQueue;h!==null&&Jp(s,h,u);break;case 3:var m=s.updateQueue;if(m!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Jp(s,m,a)}break;case 5:var w=s.stateNode;if(a===null&&s.flags&4){a=w;var b=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&a.focus();break;case"img":b.src&&(a.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var P=s.alternate;if(P!==null){var F=P.memoizedState;if(F!==null){var z=F.dehydrated;z!==null&&Rs(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}_t||s.flags&512&&Gc(s)}catch(U){Je(s,s.return,U)}}if(s===r){ee=null;break}if(a=s.sibling,a!==null){a.return=s.return,ee=a;break}ee=s.return}}function Jg(r){for(;ee!==null;){var s=ee;if(s===r){ee=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ee=a;break}ee=s.return}}function Zg(r){for(;ee!==null;){var s=ee;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ga(4,s)}catch(b){Je(s,a,b)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var d=s.return;try{u.componentDidMount()}catch(b){Je(s,d,b)}}var h=s.return;try{Gc(s)}catch(b){Je(s,h,b)}break;case 5:var m=s.return;try{Gc(s)}catch(b){Je(s,m,b)}}}catch(b){Je(s,s.return,b)}if(s===r){ee=null;break}var w=s.sibling;if(w!==null){w.return=s.return,ee=w;break}ee=s.return}}var o_=Math.ceil,qa=re.ReactCurrentDispatcher,Qc=re.ReactCurrentOwner,Qt=re.ReactCurrentBatchConfig,Oe=0,dt=null,st=null,pt=0,Lt=0,Hi=gr(0),lt=0,no=null,ni=0,Ka=0,Yc=0,ro=null,Tt=null,Xc=0,Gi=1/0,qn=null,Qa=!1,Jc=null,_r=null,Ya=!1,br=null,Xa=0,io=0,Zc=null,Ja=-1,Za=0;function Et(){return(Oe&6)!==0?nt():Ja!==-1?Ja:Ja=nt()}function Ar(r){return(r.mode&1)===0?1:(Oe&2)!==0&&pt!==0?pt&-pt:zw.transition!==null?(Za===0&&(Za=Gh()),Za):(r=Re,r!==0||(r=window.event,r=r===void 0?16:tp(r.type)),r)}function hn(r,s,a,u){if(50<io)throw io=0,Zc=null,Error(n(185));Is(r,a,u),((Oe&2)===0||r!==dt)&&(r===dt&&((Oe&2)===0&&(Ka|=a),lt===4&&Cr(r,pt)),Pt(r,u),a===1&&Oe===0&&(s.mode&1)===0&&(Gi=nt()+500,Oa&&vr()))}function Pt(r,s){var a=r.callbackNode;zS(r,s);var u=la(r,r===dt?pt:0);if(u===0)a!==null&&zh(a),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(a!=null&&zh(a),s===1)r.tag===0?jw(tm.bind(null,r)):Fp(tm.bind(null,r)),Lw(function(){(Oe&6)===0&&vr()}),a=null;else{switch(qh(u)){case 1:a=Vu;break;case 4:a=Wh;break;case 16:a=ia;break;case 536870912:a=Hh;break;default:a=ia}a=um(a,em.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function em(r,s){if(Ja=-1,Za=0,(Oe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(qi()&&r.callbackNode!==a)return null;var u=la(r,r===dt?pt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=el(r,u);else{s=u;var d=Oe;Oe|=2;var h=rm();(dt!==r||pt!==s)&&(qn=null,Gi=nt()+500,ii(r,s));do try{u_();break}catch(w){nm(r,w)}while(!0);vc(),qa.current=h,Oe=d,st!==null?s=0:(dt=null,pt=0,s=lt)}if(s!==0){if(s===2&&(d=Ru(r),d!==0&&(u=d,s=ed(r,d))),s===1)throw a=no,ii(r,0),Cr(r,u),Pt(r,nt()),a;if(s===6)Cr(r,u);else{if(d=r.current.alternate,(u&30)===0&&!a_(d)&&(s=el(r,u),s===2&&(h=Ru(r),h!==0&&(u=h,s=ed(r,h))),s===1))throw a=no,ii(r,0),Cr(r,u),Pt(r,nt()),a;switch(r.finishedWork=d,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:si(r,Tt,qn);break;case 3:if(Cr(r,u),(u&130023424)===u&&(s=Xc+500-nt(),10<s)){if(la(r,0)!==0)break;if(d=r.suspendedLanes,(d&u)!==u){Et(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=oc(si.bind(null,r,Tt,qn),s);break}si(r,Tt,qn);break;case 4:if(Cr(r,u),(u&4194240)===u)break;for(s=r.eventTimes,d=-1;0<u;){var m=31-an(u);h=1<<m,m=s[m],m>d&&(d=m),u&=~h}if(u=d,u=nt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*o_(u/1960))-u,10<u){r.timeoutHandle=oc(si.bind(null,r,Tt,qn),u);break}si(r,Tt,qn);break;case 5:si(r,Tt,qn);break;default:throw Error(n(329))}}}return Pt(r,nt()),r.callbackNode===a?em.bind(null,r):null}function ed(r,s){var a=ro;return r.current.memoizedState.isDehydrated&&(ii(r,s).flags|=256),r=el(r,s),r!==2&&(s=Tt,Tt=a,s!==null&&td(s)),r}function td(r){Tt===null?Tt=r:Tt.push.apply(Tt,r)}function a_(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var d=a[u],h=d.getSnapshot;d=d.value;try{if(!ln(h(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(r,s){for(s&=~Yc,s&=~Ka,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-an(s),u=1<<a;r[a]=-1,s&=~u}}function tm(r){if((Oe&6)!==0)throw Error(n(327));qi();var s=la(r,0);if((s&1)===0)return Pt(r,nt()),null;var a=el(r,s);if(r.tag!==0&&a===2){var u=Ru(r);u!==0&&(s=u,a=ed(r,u))}if(a===1)throw a=no,ii(r,0),Cr(r,s),Pt(r,nt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,si(r,Tt,qn),Pt(r,nt()),null}function nd(r,s){var a=Oe;Oe|=1;try{return r(s)}finally{Oe=a,Oe===0&&(Gi=nt()+500,Oa&&vr())}}function ri(r){br!==null&&br.tag===0&&(Oe&6)===0&&qi();var s=Oe;Oe|=1;var a=Qt.transition,u=Re;try{if(Qt.transition=null,Re=1,r)return r()}finally{Re=u,Qt.transition=a,Oe=s,(Oe&6)===0&&vr()}}function rd(){Lt=Hi.current,je(Hi)}function ii(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Bw(a)),st!==null)for(a=st.return;a!==null;){var u=a;switch(fc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ea();break;case 3:ji(),je(Ot),je(yt),Ec();break;case 5:Ac(u);break;case 4:ji();break;case 13:je(Qe);break;case 19:je(Qe);break;case 10:yc(u.type._context);break;case 22:case 23:rd()}a=a.return}if(dt=r,st=r=Er(r.current,null),pt=Lt=s,lt=0,no=null,Yc=Ka=ni=0,Tt=ro=null,Zr!==null){for(s=0;s<Zr.length;s++)if(a=Zr[s],u=a.interleaved,u!==null){a.interleaved=null;var d=u.next,h=a.pending;if(h!==null){var m=h.next;h.next=d,u.next=m}a.pending=u}Zr=null}return r}function nm(r,s){do{var a=st;try{if(vc(),Ba.current=$a,La){for(var u=Ye.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}La=!1}if(ti=0,ct=at=Ye=null,Ys=!1,Xs=0,Qc.current=null,a===null||a.return===null){lt=1,no=s,st=null;break}e:{var h=r,m=a.return,w=a,b=s;if(s=pt,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var P=b,F=w,z=F.tag;if((F.mode&1)===0&&(z===0||z===11||z===15)){var U=F.alternate;U?(F.updateQueue=U.updateQueue,F.memoizedState=U.memoizedState,F.lanes=U.lanes):(F.updateQueue=null,F.memoizedState=null)}var J=Og(m);if(J!==null){J.flags&=-257,Ig(J,m,w,h,s),J.mode&1&&kg(h,P,s),s=J,b=P;var te=s.updateQueue;if(te===null){var ne=new Set;ne.add(b),s.updateQueue=ne}else te.add(b);break e}else{if((s&1)===0){kg(h,P,s),id();break e}b=Error(n(426))}}else if(He&&w.mode&1){var rt=Og(m);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Ig(rt,m,w,h,s),gc(zi(b,w));break e}}h=b=zi(b,w),lt!==4&&(lt=2),ro===null?ro=[h]:ro.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,s&=-s,h.lanes|=s;var O=Cg(h,b,s);Xp(h,O);break e;case 1:w=b;var A=h.type,I=h.stateNode;if((h.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(_r===null||!_r.has(I)))){h.flags|=65536,s&=-s,h.lanes|=s;var W=Eg(h,w,s);Xp(h,W);break e}}h=h.return}while(h!==null)}sm(a)}catch(se){s=se,st===a&&a!==null&&(st=a=a.return);continue}break}while(!0)}function rm(){var r=qa.current;return qa.current=$a,r===null?$a:r}function id(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(ni&268435455)===0&&(Ka&268435455)===0||Cr(dt,pt)}function el(r,s){var a=Oe;Oe|=2;var u=rm();(dt!==r||pt!==s)&&(qn=null,ii(r,s));do try{l_();break}catch(d){nm(r,d)}while(!0);if(vc(),Oe=a,qa.current=u,st!==null)throw Error(n(261));return dt=null,pt=0,lt}function l_(){for(;st!==null;)im(st)}function u_(){for(;st!==null&&!MS();)im(st)}function im(r){var s=lm(r.alternate,r,Lt);r.memoizedProps=r.pendingProps,s===null?sm(r):st=s,Qc.current=null}function sm(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=t_(a,s,Lt),a!==null){st=a;return}}else{if(a=n_(a,s),a!==null){a.flags&=32767,st=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{lt=6,st=null;return}}if(s=s.sibling,s!==null){st=s;return}st=s=r}while(s!==null);lt===0&&(lt=5)}function si(r,s,a){var u=Re,d=Qt.transition;try{Qt.transition=null,Re=1,c_(r,s,a,u)}finally{Qt.transition=d,Re=u}return null}function c_(r,s,a,u){do qi();while(br!==null);if((Oe&6)!==0)throw Error(n(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var h=a.lanes|a.childLanes;if(WS(r,h),r===dt&&(st=dt=null,pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ya||(Ya=!0,um(ia,function(){return qi(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=Qt.transition,Qt.transition=null;var m=Re;Re=1;var w=Oe;Oe|=4,Qc.current=null,i_(r,a),Qg(a,r),Tw(ic),da=!!rc,ic=rc=null,r.current=a,s_(a),DS(),Oe=w,Re=m,Qt.transition=h}else r.current=a;if(Ya&&(Ya=!1,br=r,Xa=d),h=r.pendingLanes,h===0&&(_r=null),LS(a.stateNode),Pt(r,nt()),s!==null)for(u=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],u(d.value,{componentStack:d.stack,digest:d.digest});if(Qa)throw Qa=!1,r=Jc,Jc=null,r;return(Xa&1)!==0&&r.tag!==0&&qi(),h=r.pendingLanes,(h&1)!==0?r===Zc?io++:(io=0,Zc=r):io=0,vr(),null}function qi(){if(br!==null){var r=qh(Xa),s=Qt.transition,a=Re;try{if(Qt.transition=null,Re=16>r?16:r,br===null)var u=!1;else{if(r=br,br=null,Xa=0,(Oe&6)!==0)throw Error(n(331));var d=Oe;for(Oe|=4,ee=r.current;ee!==null;){var h=ee,m=h.child;if((ee.flags&16)!==0){var w=h.deletions;if(w!==null){for(var b=0;b<w.length;b++){var P=w[b];for(ee=P;ee!==null;){var F=ee;switch(F.tag){case 0:case 11:case 15:to(8,F,h)}var z=F.child;if(z!==null)z.return=F,ee=z;else for(;ee!==null;){F=ee;var U=F.sibling,J=F.return;if(Wg(F),F===P){ee=null;break}if(U!==null){U.return=J,ee=U;break}ee=J}}}var te=h.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var rt=ne.sibling;ne.sibling=null,ne=rt}while(ne!==null)}}ee=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,ee=m;else e:for(;ee!==null;){if(h=ee,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:to(9,h,h.return)}var O=h.sibling;if(O!==null){O.return=h.return,ee=O;break e}ee=h.return}}var A=r.current;for(ee=A;ee!==null;){m=ee;var I=m.child;if((m.subtreeFlags&2064)!==0&&I!==null)I.return=m,ee=I;else e:for(m=A;ee!==null;){if(w=ee,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Ga(9,w)}}catch(se){Je(w,w.return,se)}if(w===m){ee=null;break e}var W=w.sibling;if(W!==null){W.return=w.return,ee=W;break e}ee=w.return}}if(Oe=d,vr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(sa,r)}catch{}u=!0}return u}finally{Re=a,Qt.transition=s}}return!1}function om(r,s,a){s=zi(a,s),s=Cg(r,s,1),r=Sr(r,s,1),s=Et(),r!==null&&(Is(r,1,s),Pt(r,s))}function Je(r,s,a){if(r.tag===3)om(r,r,a);else for(;s!==null;){if(s.tag===3){om(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_r===null||!_r.has(u))){r=zi(a,r),r=Eg(s,r,1),s=Sr(s,r,1),r=Et(),s!==null&&(Is(s,1,r),Pt(s,r));break}}s=s.return}}function d_(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),s=Et(),r.pingedLanes|=r.suspendedLanes&a,dt===r&&(pt&a)===a&&(lt===4||lt===3&&(pt&130023424)===pt&&500>nt()-Xc?ii(r,0):Yc|=a),Pt(r,s)}function am(r,s){s===0&&((r.mode&1)===0?s=1:(s=aa,aa<<=1,(aa&130023424)===0&&(aa=4194304)));var a=Et();r=Wn(r,s),r!==null&&(Is(r,s,a),Pt(r,a))}function f_(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),am(r,a)}function h_(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),am(r,a)}var lm;lm=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Ot.current)xt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return xt=!1,e_(r,s,a);xt=(r.flags&131072)!==0}else xt=!1,He&&(s.flags&1048576)!==0&&$p(s,xa,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Wa(r,s),r=s.pendingProps;var d=Di(s,yt.current);$i(s,a),d=Ic(null,s,u,r,d,a);var h=xc();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,It(u)?(h=!0,ka(s)):h=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,_c(s),d.updater=ja,s.stateNode=d,d._reactInternals=s,Dc(s,u,r,a),s=Uc(null,s,u,!0,h,a)):(s.tag=0,He&&h&&dc(s),Ct(null,s,d,a),s=s.child),s;case 16:u=s.elementType;e:{switch(Wa(r,s),r=s.pendingProps,d=u._init,u=d(u._payload),s.type=u,d=s.tag=g_(u),r=cn(u,r),d){case 0:s=Lc(null,s,u,r,a);break e;case 1:s=Mg(null,s,u,r,a);break e;case 11:s=xg(null,s,u,r,a);break e;case 14:s=Tg(null,s,u,cn(u.type,r),a);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:cn(u,d),Lc(r,s,u,d,a);case 1:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:cn(u,d),Mg(r,s,u,d,a);case 3:e:{if(Dg(s),r===null)throw Error(n(387));u=s.pendingProps,h=s.memoizedState,d=h.element,Yp(r,s),Da(s,u,null,a);var m=s.memoizedState;if(u=m.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){d=zi(Error(n(423)),s),s=Ng(r,s,u,a,d);break e}else if(u!==d){d=zi(Error(n(424)),s),s=Ng(r,s,u,a,d);break e}else for(Bt=pr(s.stateNode.containerInfo.firstChild),Nt=s,He=!0,un=null,a=Kp(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Li(),u===d){s=Gn(r,s,a);break e}Ct(r,s,u,a)}s=s.child}return s;case 5:return Zp(s),r===null&&pc(s),u=s.type,d=s.pendingProps,h=r!==null?r.memoizedProps:null,m=d.children,sc(u,d)?m=null:h!==null&&sc(u,h)&&(s.flags|=32),Rg(r,s),Ct(r,s,m,a),s.child;case 6:return r===null&&pc(s),null;case 13:return Bg(r,s,a);case 4:return bc(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ui(s,null,u,a):Ct(r,s,u,a),s.child;case 11:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:cn(u,d),xg(r,s,u,d,a);case 7:return Ct(r,s,s.pendingProps,a),s.child;case 8:return Ct(r,s,s.pendingProps.children,a),s.child;case 12:return Ct(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,d=s.pendingProps,h=s.memoizedProps,m=d.value,Ue(Va,u._currentValue),u._currentValue=m,h!==null)if(ln(h.value,m)){if(h.children===d.children&&!Ot.current){s=Gn(r,s,a);break e}}else for(h=s.child,h!==null&&(h.return=s);h!==null;){var w=h.dependencies;if(w!==null){m=h.child;for(var b=w.firstContext;b!==null;){if(b.context===u){if(h.tag===1){b=Hn(-1,a&-a),b.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var F=P.pending;F===null?b.next=b:(b.next=F.next,F.next=b),P.pending=b}}h.lanes|=a,b=h.alternate,b!==null&&(b.lanes|=a),Sc(h.return,a,s),w.lanes|=a;break}b=b.next}}else if(h.tag===10)m=h.type===s.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(n(341));m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Sc(m,a,s),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===s){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}Ct(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,u=s.pendingProps.children,$i(s,a),d=qt(d),u=u(d),s.flags|=1,Ct(r,s,u,a),s.child;case 14:return u=s.type,d=cn(u,s.pendingProps),d=cn(u.type,d),Tg(r,s,u,d,a);case 15:return Pg(r,s,s.type,s.pendingProps,a);case 17:return u=s.type,d=s.pendingProps,d=s.elementType===u?d:cn(u,d),Wa(r,s),s.tag=1,It(u)?(r=!0,ka(s)):r=!1,$i(s,a),bg(s,u,d),Dc(s,u,d,a),Uc(null,s,u,!0,r,a);case 19:return Ug(r,s,a);case 22:return Vg(r,s,a)}throw Error(n(156,s.tag))};function um(r,s){return jh(r,s)}function p_(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(r,s,a,u){return new p_(r,s,a,u)}function sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function g_(r){if(typeof r=="function")return sd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Ee)return 11;if(r===Ne)return 14}return 2}function Er(r,s){var a=r.alternate;return a===null?(a=Yt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function tl(r,s,a,u,d,h){var m=2;if(u=r,typeof r=="function")sd(r)&&(m=1);else if(typeof r=="string")m=5;else e:switch(r){case R:return oi(a.children,d,h,s);case L:m=8,d|=8;break;case j:return r=Yt(12,a,s,d|2),r.elementType=j,r.lanes=h,r;case Me:return r=Yt(13,a,s,d),r.elementType=Me,r.lanes=h,r;case De:return r=Yt(19,a,s,d),r.elementType=De,r.lanes=h,r;case ye:return nl(a,d,h,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case X:m=10;break e;case Ie:m=9;break e;case Ee:m=11;break e;case Ne:m=14;break e;case Pe:m=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Yt(m,a,s,d),s.elementType=r,s.type=u,s.lanes=h,s}function oi(r,s,a,u){return r=Yt(7,r,u,s),r.lanes=a,r}function nl(r,s,a,u){return r=Yt(22,r,u,s),r.elementType=ye,r.lanes=a,r.stateNode={isHidden:!1},r}function od(r,s,a){return r=Yt(6,r,null,s),r.lanes=a,r}function ad(r,s,a){return s=Yt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function m_(r,s,a,u,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ld(r,s,a,u,d,h,m,w,b){return r=new m_(r,s,a,w,b),s===1?(s=1,h===!0&&(s|=8)):s=0,h=Yt(3,null,null,s),r.current=h,h.stateNode=r,h.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(h),r}function v_(r,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:u==null?null:""+u,children:r,containerInfo:s,implementation:a}}function cm(r){if(!r)return mr;r=r._reactInternals;e:{if(Kr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(It(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(It(a))return Lp(r,a,s)}return s}function dm(r,s,a,u,d,h,m,w,b){return r=ld(a,u,!0,r,d,h,m,w,b),r.context=cm(null),a=r.current,u=Et(),d=Ar(a),h=Hn(u,d),h.callback=s??null,Sr(a,h,d),r.current.lanes=d,Is(r,d,u),Pt(r,u),r}function rl(r,s,a,u){var d=s.current,h=Et(),m=Ar(d);return a=cm(a),s.context===null?s.context=a:s.pendingContext=a,s=Hn(h,m),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=Sr(d,s,m),r!==null&&(hn(r,d,m,h),Ma(r,d,m)),m}function il(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ud(r,s){fm(r,s),(r=r.alternate)&&fm(r,s)}function y_(){return null}var hm=typeof reportError=="function"?reportError:function(r){console.error(r)};function cd(r){this._internalRoot=r}sl.prototype.render=cd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));rl(r,s,null,null)},sl.prototype.unmount=cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ri(function(){rl(null,r,null,null)}),s[Fn]=null}};function sl(r){this._internalRoot=r}sl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yh();r={blockedOn:null,target:r,priority:s};for(var a=0;a<dr.length&&s!==0&&s<dr[a].priority;a++);dr.splice(a,0,r),a===0&&Zh(r)}};function dd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ol(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function pm(){}function S_(r,s,a,u,d){if(d){if(typeof u=="function"){var h=u;u=function(){var P=il(m);h.call(P)}}var m=dm(s,u,r,0,null,!1,!1,"",pm);return r._reactRootContainer=m,r[Fn]=m.current,js(r.nodeType===8?r.parentNode:r),ri(),m}for(;d=r.lastChild;)r.removeChild(d);if(typeof u=="function"){var w=u;u=function(){var P=il(b);w.call(P)}}var b=ld(r,0,!1,null,null,!1,!1,"",pm);return r._reactRootContainer=b,r[Fn]=b.current,js(r.nodeType===8?r.parentNode:r),ri(function(){rl(s,b,a,u)}),b}function al(r,s,a,u,d){var h=a._reactRootContainer;if(h){var m=h;if(typeof d=="function"){var w=d;d=function(){var b=il(m);w.call(b)}}rl(s,m,r,d)}else m=S_(a,s,r,d,u);return il(m)}Kh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Os(s.pendingLanes);a!==0&&(Du(s,a|1),Pt(s,nt()),(Oe&6)===0&&(Gi=nt()+500,vr()))}break;case 13:ri(function(){var u=Wn(r,1);if(u!==null){var d=Et();hn(u,r,1,d)}}),ud(r,1)}},Nu=function(r){if(r.tag===13){var s=Wn(r,134217728);if(s!==null){var a=Et();hn(s,r,134217728,a)}ud(r,134217728)}},Qh=function(r){if(r.tag===13){var s=Ar(r),a=Wn(r,s);if(a!==null){var u=Et();hn(a,r,s,u)}ud(r,s)}},Yh=function(){return Re},Xh=function(r,s){var a=Re;try{return Re=r,s()}finally{Re=a}},Iu=function(r,s,a){switch(s){case"input":if(wu(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var d=Ca(u);if(!d)throw Error(n(90));ws(u),wu(u,d)}}}break;case"textarea":kh(r,a);break;case"select":s=a.value,s!=null&&Ai(r,!!a.multiple,s,!1)}},Dh=nd,Nh=ri;var w_={usingClientEntryPoint:!1,Events:[Hs,Ri,Ca,Rh,Mh,nd]},so={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Fh(r),r===null?null:r.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||y_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{sa=ll.inject(__),Cn=ll}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w_,Vt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(s))throw Error(n(200));return v_(r,s,null,a)},Vt.createRoot=function(r,s){if(!dd(r))throw Error(n(299));var a=!1,u="",d=hm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=ld(r,1,!1,null,null,a,!1,u,d),r[Fn]=s.current,js(r.nodeType===8?r.parentNode:r),new cd(s)},Vt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Fh(s),r=r===null?null:r.stateNode,r},Vt.flushSync=function(r){return ri(r)},Vt.hydrate=function(r,s,a){if(!ol(s))throw Error(n(200));return al(null,r,s,!0,a)},Vt.hydrateRoot=function(r,s,a){if(!dd(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,d=!1,h="",m=hm;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),s=dm(s,null,r,1,a??null,d,!1,h,m),r[Fn]=s.current,js(r),u)for(r=0;r<u.length;r++)a=u[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new sl(s)},Vt.render=function(r,s,a){if(!ol(s))throw Error(n(200));return al(null,r,s,!1,a)},Vt.unmountComponentAtNode=function(r){if(!ol(r))throw Error(n(40));return r._reactRootContainer?(ri(function(){al(null,null,r,!1,function(){r._reactRootContainer=null,r[Fn]=null})}),!0):!1},Vt.unstable_batchedUpdates=nd,Vt.unstable_renderSubtreeIntoContainer=function(r,s,a,u){if(!ol(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return al(r,s,a,!1,u)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var Vm;function ab(){if(Vm)return vd.exports;Vm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),vd.exports=ob(),vd.exports}const lb={values:{xs:0,sm:600,md:960,lg:1280,xl:1840}},ub=Uf(),cb=ub.shadows,B={primary:"#6938EF",secondary:"#223354",success:"#039855",warning:"#DC6803",error:"#D92D20",info:"#33C2FF",black:"#223354",white:"#ffffff",primaryAlt:"#000C57",gray:"#faf7f9"},k={gradients:{blue1:"linear-gradient(135deg, #6B73FF 0%, #000DFF 100%)",blue2:"linear-gradient(135deg, #ABDCFF 0%, #0396FF 100%)",blue3:"linear-gradient(127.55deg, #141E30 3.73%, #243B55 92.26%)",blue4:"linear-gradient(-20deg, #2b5876 0%, #4e4376 100%)",blue5:"linear-gradient(135deg, #97ABFF 10%, #123597 100%)",orange1:"linear-gradient(135deg, #FCCF31 0%, #F55555 100%)",orange2:"linear-gradient(135deg, #FFD3A5 0%, #FD6585 100%)",orange3:"linear-gradient(120deg, #f6d365 0%, #fda085 100%)",purple1:"linear-gradient(135deg, #43CBFF 0%, #9708CC 100%)",purple3:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",pink1:"linear-gradient(135deg, #F6CEEC 0%, #D939CD 100%)",pink2:"linear-gradient(135deg, #F761A1 0%, #8C1BAB 100%)",green1:"linear-gradient(135deg, #FFF720 0%, #3CD500 100%)",green2:"linear-gradient(to bottom, #00b09b, #96c93d)",black1:"linear-gradient(100.66deg, #434343 6.56%, #000000 93.57%)",black2:"linear-gradient(60deg, #29323c 0%, #485563 100%)",warmly:"linear-gradient(to left, #a802ff, #025bd7)",warmly2:"linear-gradient(to right, #87CEEB 0%, #4169E1 50%, #BA55D3 100%)"},shadows:{success:"0px 1px 4px rgba(68, 214, 0, 0.25), 0px 3px 12px 2px rgba(68, 214, 0, 0.35)",error:"0px 1px 4px rgba(255, 25, 67, 0.25), 0px 3px 12px 2px rgba(255, 25, 67, 0.35)",info:"0px 1px 4px rgba(51, 194, 255, 0.25), 0px 3px 12px 2px rgba(51, 194, 255, 0.35)",primary:"0px 1px 4px rgba(85, 105, 255, 0.25), 0px 3px 12px 2px rgba(85, 105, 255, 0.35)",warning:"0px 1px 4px rgba(255, 163, 25, 0.25), 0px 3px 12px 2px rgba(255, 163, 25, 0.35)",card:"0px 9px 16px rgba(159, 162, 191, .18), 0px 2px 2px rgba(159, 162, 191, 0.32)",cardSm:"0px 2px 3px rgba(159, 162, 191, .18), 0px 1px 1px rgba(159, 162, 191, 0.32)",cardLg:"0 5rem 14rem 0 rgb(255 255 255 / 30%), 0 0.8rem 2.3rem rgb(0 0 0 / 60%), 0 0.2rem 0.3rem rgb(0 0 0 / 45%)"},layout:{general:{bodyBg:"#f2f5f9"},sidebar:{background:B.white,textColor:B.secondary,dividerBg:"rgba(145, 158, 171, 0.24)",menuItemColor:"#242E6F",menuItemColorActive:B.primary,menuItemBg:B.white,menuIconBgActive:"#f2f5f9",menuItemBgActive:tt(B.primary,.85),menuItemIconColor:tt(B.secondary,.3),menuItemIconColorActive:B.primary,menuItemHeadingColor:Rt(B.secondary,.3)}},alpha:{white:{5:le(B.white,.02),10:le(B.white,.1),30:le(B.white,.3),50:le(B.white,.5),70:le(B.white,.7),100:B.white},trueWhite:{5:le(B.white,.02),10:le(B.white,.1),30:le(B.white,.3),50:le(B.white,.5),70:le(B.white,.7)},black:{5:le(B.black,.02),10:le(B.black,.1),30:le(B.black,.3),50:le(B.black,.5),70:le(B.black,.7),80:le(B.black,.8),90:le(B.black,.9),100:B.black},gray:{5:le(B.gray,.02),10:le(B.gray,.1),30:le(B.gray,.3),50:le(B.gray,.5),70:le(B.gray,.7)}},secondary:{lighter:tt(B.secondary,.85),light:tt(B.secondary,.25),main:B.secondary,dark:Rt(B.secondary,.2)},primary:{lighter:tt(B.primary,.85),light:tt(B.primary,.3),main:B.primary,dark:Rt(B.primary,.2)},success:{lighter:tt(B.success,.85),light:tt(B.success,.3),main:B.success,dark:Rt(B.success,.2)},warning:{lighter:tt(B.warning,.85),light:tt(B.warning,.3),main:B.warning,dark:Rt(B.warning,.2)},error:{lighter:tt(B.error,.85),light:tt(B.error,.3),main:B.error,dark:Rt(B.error,.2)},info:{lighter:tt(B.info,.85),light:tt(B.info,.3),main:B.info,dark:Rt(B.info,.2)}},ly=Uf({colors:{gradients:{blue1:k.gradients.blue1,blue2:k.gradients.blue2,blue3:k.gradients.blue3,blue4:k.gradients.blue4,blue5:k.gradients.blue5,orange1:k.gradients.orange1,orange2:k.gradients.orange2,orange3:k.gradients.orange3,purple1:k.gradients.purple1,purple3:k.gradients.purple3,pink1:k.gradients.pink1,pink2:k.gradients.pink2,green1:k.gradients.green1,green2:k.gradients.green2,black1:k.gradients.black1,black2:k.gradients.black2,warmly:k.gradients.warmly,warmly2:k.gradients.warmly2},shadows:{success:k.shadows.success,error:k.shadows.error,primary:k.shadows.primary,info:k.shadows.info,warning:k.shadows.warning},alpha:{white:{5:le(B.white,.02),10:le(B.white,.1),30:le(B.white,.3),50:le(B.white,.5),70:le(B.white,.7),100:B.white},trueWhite:{5:le(B.white,.02),10:le(B.white,.1),30:le(B.white,.3),50:le(B.white,.5),70:le(B.white,.7),100:B.white},black:{5:le(B.black,.02),10:le(B.black,.1),30:le(B.black,.3),50:le(B.black,.5),70:le(B.black,.7),100:B.black},gray:{5:le(B.gray,.02),10:le(B.gray,.1),30:le(B.gray,.3),50:le(B.gray,.5),70:le(B.gray,.7),100:B.gray}},secondary:{lighter:le(B.secondary,.1),light:tt(B.secondary,.3),main:B.secondary,dark:Rt(B.secondary,.2)},primary:{lighter:le(B.primary,.1),light:tt(B.primary,.3),main:B.primary,dark:Rt(B.primary,.2)},success:{lighter:le(B.success,.1),light:tt(B.success,.3),main:B.success,dark:Rt(B.success,.2)},warning:{lighter:le(B.warning,.1),light:tt(B.warning,.3),main:B.warning,dark:Rt(B.warning,.2)},error:{lighter:le(B.error,.1),light:tt(B.error,.3),main:B.error,dark:Rt(B.error,.2)},info:{lighter:le(B.info,.1),light:tt(B.info,.3),main:B.info,dark:Rt(B.info,.2)}},general:{reactFrameworkColor:"#00D8FF",borderRadiusSm:"6px",borderRadius:"10px",borderRadiusLg:"12px",borderRadiusXl:"16px"},sidebar:{background:k.layout.sidebar.background,textColor:k.layout.sidebar.textColor,dividerBg:k.layout.sidebar.dividerBg,menuItemColor:k.layout.sidebar.menuItemColor,menuItemColorActive:k.layout.sidebar.menuItemColorActive,menuItemBg:k.layout.sidebar.menuItemBg,menuIconBgActive:k.layout.sidebar.menuIconBgActive,menuItemBgActive:k.layout.sidebar.menuItemBgActive,menuItemIconColor:k.layout.sidebar.menuItemIconColor,menuItemIconColorActive:k.layout.sidebar.menuItemIconColorActive,menuItemHeadingColor:k.layout.sidebar.menuItemHeadingColor,boxShadow:"2px 0 3px rgba(159, 162, 191, .18), 1px 0 1px rgba(159, 162, 191, 0.32)",width:"100px"},header:{height:"60px",background:k.alpha.white[100],boxShadow:k.shadows.cardSm,textColor:k.secondary.main},spacing:9,palette:{common:{black:k.alpha.black[100],white:k.alpha.white[100]},mode:"light",primary:{light:k.primary.light,main:k.primary.main,dark:k.primary.dark},secondary:{light:k.secondary.light,main:k.secondary.main,dark:k.secondary.dark},error:{light:k.error.light,main:k.error.main,dark:k.error.dark,contrastText:k.alpha.white[100]},success:{light:k.success.light,main:k.success.main,dark:k.success.dark,contrastText:k.alpha.white[100]},info:{light:k.info.light,main:k.info.main,dark:k.info.dark,contrastText:k.alpha.white[100]},warning:{light:k.warning.light,main:k.warning.main,dark:k.warning.dark,contrastText:k.alpha.white[100]},text:{primary:k.alpha.black[100],secondary:k.alpha.black[70],disabled:k.alpha.black[50]},background:{paper:k.alpha.white[100],default:k.layout.general.bodyBg},action:{active:k.alpha.black[100],hover:tt(B.primary,.85),hoverOpacity:.1,selected:k.alpha.black[10],selectedOpacity:.1,disabled:k.alpha.black[50],disabledBackground:k.alpha.black[5],disabledOpacity:.38,focus:k.alpha.black[10],focusOpacity:.05,activatedOpacity:.12},tonalOffset:.5,grey:{50:"#fafafa",100:"#f2f4f7",200:"#e4e7ec",300:"#e0e0e0",400:"#98a2b3",500:"#667085",600:"#475467",700:"#344054",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},breakpoints:lb,components:{MuiBackdrop:{styleOverrides:{root:{backgroundColor:le(Rt(B.primaryAlt,.4),.2),backdropFilter:"blur(2px)","&.MuiBackdrop-invisible":{backgroundColor:"transparent",backdropFilter:"none"}}}},MuiFormHelperText:{styleOverrides:{root:{textTransform:"none",marginLeft:8,marginRight:8,fontWeight:"bold"}}},MuiFormControlLabel:{styleOverrides:{label:{fontWeight:400,color:k.alpha.black[70]}}},MuiCssBaseline:{styleOverrides:{"html, body":{width:"100%",height:"100%"},body:{display:"flex",flexDirection:"column",minHeight:"100%",width:"100%",flex:1},"#root":{width:"100%",height:"100%",display:"flex",flex:1,flexDirection:"column"},html:{display:"flex",flexDirection:"column",minHeight:"100%",width:"100%",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"},".child-popover .MuiPaper-root .MuiList-root":{flexDirection:"column"},"#nprogress":{pointerEvents:"none"},"#nprogress .bar":{background:k.primary.lighter},"#nprogress .spinner-icon":{borderTopColor:k.primary.lighter,borderLeftColor:k.primary.lighter},"#nprogress .peg":{boxShadow:"0 0 15px "+k.primary.lighter+", 0 0 8px"+k.primary.light},":root":{"--swiper-theme-color":k.primary.main},code:{background:k.info.lighter,color:k.info.dark,borderRadius:4,padding:4},"@keyframes pulse":{"0%":{transform:"scale(.75)"},"20%":{transform:"scale(1.1)"},"40%":{transform:"scale(.75)"},"60%":{transform:"scale(1.05)"},"80%":{transform:"scale(.75)"},"100%":{transform:"scale(.75)"}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.8)",opacity:0}},"@keyframes float":{"0%":{transform:"translate(0%, 0%)"},"100%":{transform:"translate(3%, 3%)"}}}},MuiSelect:{styleOverrides:{iconOutlined:{color:k.alpha.black[50]},icon:{top:"calc(50% - 14px)"}}},MuiOutlinedInput:{styleOverrides:{root:{"& .MuiInputAdornment-positionEnd.MuiInputAdornment-outlined":{paddingRight:6},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:k.alpha.black[50]},"&.Mui-focused:hover .MuiOutlinedInput-notchedOutline":{borderColor:k.primary.main},borderRadius:6}}},MuiListSubheader:{styleOverrides:{colorPrimary:{fontWeight:"bold",lineHeight:"40px",fontSize:13,background:k.alpha.black[5],color:k.alpha.black[70]}}},MuiCard:{styleOverrides:{root:{borderRadius:6,boxShadow:"none",border:`1px solid ${k.alpha.black[10]}`}}},MuiCardHeader:{styleOverrides:{action:{marginTop:-5,marginBottom:-5},title:{fontSize:15}}},MuiRadio:{styleOverrides:{root:{borderRadius:"50px"}}},MuiChip:{styleOverrides:{colorSecondary:{background:k.alpha.black[5],color:k.alpha.black[100],"&:hover":{background:k.alpha.black[10]}}}},MuiAccordion:{styleOverrides:{root:{boxShadow:"none","&.Mui-expanded":{margin:0},"&::before":{display:"none"}}}},MuiAvatar:{defaultProps:{imgProps:{referrerPolicy:"no-referrer"}},styleOverrides:{root:{fontSize:14,fontWeight:"bold"},colorDefault:{background:k.alpha.black[30],color:k.alpha.white[100]}}},MuiAvatarGroup:{styleOverrides:{root:{alignItems:"center"},avatar:{background:k.alpha.black[10],fontSize:13,color:k.alpha.black[70],fontWeight:"bold","&:first-of-type":{border:0,background:"transparent"}}}},MuiListItemAvatar:{styleOverrides:{alignItemsFlexStart:{marginTop:0}}},MuiPaginationItem:{styleOverrides:{page:{fontSize:13,fontWeight:"bold",transition:"all .2s"},textPrimary:{"&.Mui-selected":{boxShadow:k.shadows.primary},"&.MuiButtonBase-root:hover":{background:k.alpha.black[5]},"&.Mui-selected.MuiButtonBase-root:hover":{background:k.primary.main}}}},MuiButton:{defaultProps:{disableRipple:!0},styleOverrides:{root:{boxShadow:"none",fontWeight:400,borderRadius:6,paddingTop:10,paddingBottom:10,textTransform:"none",paddingLeft:16,paddingRight:16,"&:hover, &.MuiSelected":{boxShadow:"none"},".MuiSvgIcon-root":{transition:"all .2s"}},endIcon:{marginRight:-8},containedSecondary:{backgroundColor:k.secondary.main,color:k.alpha.white[100],border:"1px solid "+k.alpha.black[30]},outlinedSecondary:{backgroundColor:k.alpha.white[100],"&:hover, &.MuiSelected":{backgroundColor:k.alpha.black[5],color:k.alpha.black[100]}},sizeSmall:{padding:"6px 16px",lineHeight:1.5},sizeMedium:{padding:"8px 20px"},sizeLarge:{padding:"11px 24px"},textSizeSmall:{padding:"7px 12px"},textSizeMedium:{padding:"9px 16px"},textSizeLarge:{padding:"12px 16px"}}},MuiButtonBase:{defaultProps:{disableRipple:!1},styleOverrides:{root:{borderRadius:5}}},MuiToggleButton:{defaultProps:{disableRipple:!0},styleOverrides:{root:{color:k.primary.main,background:k.alpha.white[100],transition:"all .2s","&:hover, &.Mui-selected, &.Mui-selected:hover":{color:k.alpha.white[100],background:k.primary.main}}}},MuiIconButton:{styleOverrides:{root:{borderRadius:6,padding:8,"& .MuiTouchRipple-root":{borderRadius:6}},sizeSmall:{padding:4}}},MuiListItemText:{styleOverrides:{root:{margin:0}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:0,"& .MuiTouchRipple-root":{opacity:.3}}}},MuiDivider:{styleOverrides:{root:{background:k.alpha.black[10],border:0,height:1},vertical:{height:"auto",width:1,"&.MuiDivider-flexItem.MuiDivider-fullWidth":{height:"auto"},"&.MuiDivider-absolute.MuiDivider-fullWidth":{height:"100%"}},withChildren:{"&:before, &:after":{border:0}},wrapper:{background:k.alpha.white[100],fontWeight:"bold",height:24,lineHeight:"24px",marginTop:-12,color:"inherit",textTransform:"uppercase"}}},MuiPaper:{styleOverrides:{root:{padding:0},elevation0:{boxShadow:"none"},elevation:{boxShadow:k.shadows.card},elevation2:{boxShadow:k.shadows.cardSm},elevation24:{boxShadow:k.shadows.cardLg},outlined:{boxShadow:k.shadows.card}}},MuiPopover:{styleOverrides:{paper:{padding:0}}},MuiLink:{defaultProps:{underline:"hover"}},MuiLinearProgress:{styleOverrides:{root:{borderRadius:6,height:6}}},MuiSlider:{styleOverrides:{root:{"& .MuiSlider-valueLabelCircle, .MuiSlider-valueLabelLabel":{transform:"none"},"& .MuiSlider-valueLabel":{borderRadius:6,background:k.alpha.black[100],color:k.alpha.white[100]}}}},MuiList:{styleOverrides:{root:{padding:0,"& .MuiListItem-button":{transition:"all .2s","& > .MuiSvgIcon-root":{minWidth:34},"& .MuiTouchRipple-root":{opacity:.2}},"& .MuiListItem-root.MuiButtonBase-root.Mui-selected":{backgroundColor:le(k.primary.lighter,.4)},"& .MuiMenuItem-root.MuiButtonBase-root:active":{backgroundColor:le(k.primary.lighter,.4)},"& .MuiMenuItem-root.MuiButtonBase-root .MuiTouchRipple-root":{opacity:.2}},padding:{padding:"8px","& .MuiListItem-button":{borderRadius:6,margin:"1px 0"}}}},MuiTabs:{styleOverrides:{root:{height:38,minHeight:38,overflow:"visible"},indicator:{height:38,minHeight:38,borderRadius:6,border:"1px solid "+k.primary.dark,boxShadow:"0px 2px 10px "+k.primary.light},scrollableX:{overflow:"visible !important"}}},MuiTab:{styleOverrides:{root:{padding:0,height:38,minHeight:38,borderRadius:6,transition:"color .2s",textTransform:"capitalize","&.MuiButtonBase-root":{minWidth:"auto",paddingLeft:20,paddingRight:20,marginRight:4},"&.Mui-selected, &.Mui-selected:hover":{color:k.alpha.white[100],zIndex:5},"&:hover":{color:k.alpha.black[100]}}}},MuiMenu:{defaultProps:{BackdropProps:{style:{backgroundColor:"transparent !important",backdropFilter:"none !important"}}},styleOverrides:{paper:{padding:6},list:{padding:6,"& .MuiMenuItem-root.MuiButtonBase-root":{fontSize:14,marginTop:1,marginBottom:1,transition:"all .2s",color:k.alpha.black[70],"& .MuiTouchRipple-root":{opacity:.2},"&:hover, &:active, &.active, &.Mui-selected":{color:k.alpha.black[100],background:le(k.primary.lighter,.4)}}}}},MuiMenuItem:{styleOverrides:{root:{background:"transparent",transition:"all .2s","&:hover, &:active, &.active, &.Mui-selected":{color:k.alpha.black[100],background:le(k.primary.lighter,.4)},"&.Mui-selected:hover":{background:le(k.primary.lighter,.4)}}}},MuiListItem:{styleOverrides:{root:{"&.MuiButtonBase-root":{color:k.secondary.main,"&:hover, &:active, &.active, &.Mui-selected":{color:k.alpha.black[100],background:tt(k.primary.lighter,.5)}}}}},MuiAutocomplete:{styleOverrides:{tag:{margin:1},root:{".MuiAutocomplete-inputRoot.MuiOutlinedInput-root .MuiAutocomplete-endAdornment":{right:14}},clearIndicator:{background:k.error.lighter,color:k.error.main,marginRight:8,"&:hover":{background:k.error.lighter,color:k.error.dark}},popupIndicator:{color:k.alpha.black[50],"&:hover":{background:k.primary.lighter,color:k.primary.main}}}},MuiTablePagination:{styleOverrides:{toolbar:{"& .MuiIconButton-root":{padding:8}},select:{"&:focus":{backgroundColor:"transparent"}}}},MuiToolbar:{styleOverrides:{root:{minHeight:"0 !important",padding:"0 !important"}}},MuiTableRow:{styleOverrides:{head:{background:k.alpha.black[5]},root:{transition:"background-color .2s","&.MuiTableRow-hover:hover":{backgroundColor:k.alpha.black[5]}}}},MuiTableCell:{styleOverrides:{root:{borderBottomColor:k.alpha.black[10],color:k.alpha.black[90],fontSize:13,paddingTop:10,paddingBottom:10},body:{textShadow:"rgba(0,0,0,.25) 0 0 1px"},head:{textTransform:"uppercase",paddingTop:10,paddingBottom:10,fontSize:13,fontWeight:"bold",color:k.alpha.black[70]}}},MuiAlert:{styleOverrides:{message:{lineHeight:1.5,fontSize:14},standardInfo:{color:k.info.main},action:{color:k.alpha.black[70]}}},MuiTimelineDot:{styleOverrides:{root:{margin:0,zIndex:5,position:"absolute",top:"50%",marginTop:-6,left:-6},outlined:{backgroundColor:k.alpha.white[100],boxShadow:"0 0 0 6px "+k.alpha.white[100]},outlinedPrimary:{backgroundColor:k.alpha.white[100],boxShadow:"0 0 0 6px "+k.alpha.white[100]}}},MuiTimelineConnector:{styleOverrides:{root:{position:"absolute",height:"100%",top:0,borderRadius:50,backgroundColor:k.alpha.black[10]}}},MuiTimelineItem:{styleOverrides:{root:{minHeight:0,padding:"8px 0","&:before":{display:"none"}},missingOppositeContent:{"&:before":{display:"none"}}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:le(k.alpha.black[100],.95),padding:"8px 16px",fontSize:13},arrow:{color:le(k.alpha.black[100],.95)}}},MuiSwitch:{styleOverrides:{root:{height:33,overflow:"visible","& .MuiButtonBase-root":{position:"absolute",padding:6,transition:"left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},"& .MuiIconButton-root":{borderRadius:100},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{opacity:.3},"& .MuiSwitch-switchBase.Mui-disabled + .MuiSwitch-track":{opacity:.5}},thumb:{border:"1px solid "+k.alpha.black[30],boxShadow:"0px 9px 14px "+k.alpha.black[10]+", 0px 2px 2px "+k.alpha.black[10]},track:{backgroundColor:k.alpha.black[5],border:"1px solid "+k.alpha.black[10],boxShadow:"inset 0px 1px 1px "+k.alpha.black[10],opacity:1},colorPrimary:{}}},MuiStepper:{styleOverrides:{root:{paddingTop:20,paddingBottom:20,background:k.alpha.black[5]}}},MuiStepIcon:{styleOverrides:{root:{"&.MuiStepIcon-completed":{color:k.success.main}}}},MuiDialog:{styleOverrides:{root:{zIndex:1400},paper:{borderRadius:6,boxShadow:"none"}}},MuiDialogTitle:{styleOverrides:{root:{fontWeight:700,fontSize:16,color:k.alpha.black[90]}}},MuiDialogActions:{styleOverrides:{root:{"> button":{height:38,fontWeight:600,borderRadius:8}}}},MuiTypography:{defaultProps:{variantMapping:{h1:"h1",h2:"h2",h3:"div",h4:"div",h5:"div",h6:"div",subtitle1:"div",subtitle2:"div",body1:"div",body2:"div"}},styleOverrides:{gutterBottom:{marginBottom:4},paragraph:{fontSize:17,lineHeight:1.7}}}},shape:{borderRadius:10},typography:{fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"',h1:{fontWeight:700,fontSize:33},h2:{fontWeight:700,fontSize:28},h3:{fontWeight:700,fontSize:20,lineHeight:1.2,color:k.alpha.black[90]},h4:{fontWeight:600,fontSize:16,color:k.alpha.black[90]},h5:{fontWeight:700,fontSize:14,color:k.alpha.black[90]},h6:{fontSize:15},body1:{fontSize:13},body2:{fontSize:13},button:{fontWeight:600},caption:{fontSize:13,textTransform:"uppercase",color:k.alpha.black[70]},subtitle1:{fontSize:13,color:k.alpha.black[70]},subtitle2:{fontWeight:400,fontSize:14,color:k.alpha.black[80]},overline:{fontSize:13,fontWeight:700,textTransform:"uppercase"}},shadows:cb});var wd={exports:{}},Rm;function db(){return Rm||(Rm=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(p,g,v){this.fn=p,this.context=g,this.once=v||!1}function l(p,g,v,S,_){if(typeof v!="function")throw new TypeError("The listener must be a function");var x=new o(v,S||p,_),T=n?n+g:g;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],x]:p._events[T].push(x):(p._events[T]=x,p._eventsCount++),p}function c(p,g){--p._eventsCount===0?p._events=new i:delete p._events[g]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],v,S;if(this._eventsCount===0)return g;for(S in v=this._events)t.call(v,S)&&g.push(n?S.slice(1):S);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(v)):g},f.prototype.listeners=function(g){var v=n?n+g:g,S=this._events[v];if(!S)return[];if(S.fn)return[S.fn];for(var _=0,x=S.length,T=new Array(x);_<x;_++)T[_]=S[_].fn;return T},f.prototype.listenerCount=function(g){var v=n?n+g:g,S=this._events[v];return S?S.fn?1:S.length:0},f.prototype.emit=function(g,v,S,_,x,T){var E=n?n+g:g;if(!this._events[E])return!1;var V=this._events[E],Q=arguments.length,G,Y;if(V.fn){switch(V.once&&this.removeListener(g,V.fn,void 0,!0),Q){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,v),!0;case 3:return V.fn.call(V.context,v,S),!0;case 4:return V.fn.call(V.context,v,S,_),!0;case 5:return V.fn.call(V.context,v,S,_,x),!0;case 6:return V.fn.call(V.context,v,S,_,x,T),!0}for(Y=1,G=new Array(Q-1);Y<Q;Y++)G[Y-1]=arguments[Y];V.fn.apply(V.context,G)}else{var re=V.length,ue;for(Y=0;Y<re;Y++)switch(V[Y].once&&this.removeListener(g,V[Y].fn,void 0,!0),Q){case 1:V[Y].fn.call(V[Y].context);break;case 2:V[Y].fn.call(V[Y].context,v);break;case 3:V[Y].fn.call(V[Y].context,v,S);break;case 4:V[Y].fn.call(V[Y].context,v,S,_);break;default:if(!G)for(ue=1,G=new Array(Q-1);ue<Q;ue++)G[ue-1]=arguments[ue];V[Y].fn.apply(V[Y].context,G)}}return!0},f.prototype.on=function(g,v,S){return l(this,g,v,S,!1)},f.prototype.once=function(g,v,S){return l(this,g,v,S,!0)},f.prototype.removeListener=function(g,v,S,_){var x=n?n+g:g;if(!this._events[x])return this;if(!v)return c(this,x),this;var T=this._events[x];if(T.fn)T.fn===v&&(!_||T.once)&&(!S||T.context===S)&&c(this,x);else{for(var E=0,V=[],Q=T.length;E<Q;E++)(T[E].fn!==v||_&&!T[E].once||S&&T[E].context!==S)&&V.push(T[E]);V.length?this._events[x]=V.length===1?V[0]:V:c(this,x)}return this},f.prototype.removeAllListeners=function(g){var v;return g?(v=n?n+g:g,this._events[v]&&c(this,v)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,e.exports=f}(wd)),wd.exports}var fb=db();const hb=ty(fb),jo=new hb,Nn=Object.create(null);Nn.open="0";Nn.close="1";Nn.ping="2";Nn.pong="3";Nn.message="4";Nn.upgrade="5";Nn.noop="6";const wl=Object.create(null);Object.keys(Nn).forEach(e=>{wl[Nn[e]]=e});const Gd={type:"error",data:"parser error"},uy=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",cy=typeof ArrayBuffer=="function",dy=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ff=({type:e,data:t},n,i)=>uy&&t instanceof Blob?n?i(t):Mm(t,i):cy&&(t instanceof ArrayBuffer||dy(t))?n?i(t):Mm(new Blob([t]),i):i(Nn[e]+(t||"")),Mm=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function Dm(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let _d;function pb(e,t){if(uy&&e.data instanceof Blob)return e.data.arrayBuffer().then(Dm).then(t);if(cy&&(e.data instanceof ArrayBuffer||dy(e.data)))return t(Dm(e.data));Ff(e,!1,n=>{_d||(_d=new TextEncoder),t(_d.encode(n))})}const Nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Nm.length;e++)yo[Nm.charCodeAt(e)]=e;const gb=e=>{let t=e.length*.75,n=e.length,i,o=0,l,c,f,p;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),v=new Uint8Array(g);for(i=0;i<n;i+=4)l=yo[e.charCodeAt(i)],c=yo[e.charCodeAt(i+1)],f=yo[e.charCodeAt(i+2)],p=yo[e.charCodeAt(i+3)],v[o++]=l<<2|c>>4,v[o++]=(c&15)<<4|f>>2,v[o++]=(f&3)<<6|p&63;return g},mb=typeof ArrayBuffer=="function",$f=(e,t)=>{if(typeof e!="string")return{type:"message",data:fy(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:vb(e.substring(1),t)}:wl[n]?e.length>1?{type:wl[n],data:e.substring(1)}:{type:wl[n]}:Gd},vb=(e,t)=>{if(mb){const n=gb(e);return fy(n,t)}else return{base64:!0,data:e}},fy=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},hy="",yb=(e,t)=>{const n=e.length,i=new Array(n);let o=0;e.forEach((l,c)=>{Ff(l,!1,f=>{i[c]=f,++o===n&&t(i.join(hy))})})},Sb=(e,t)=>{const n=e.split(hy),i=[];for(let o=0;o<n.length;o++){const l=$f(n[o],t);if(i.push(l),l.type==="error")break}return i};function wb(){return new TransformStream({transform(e,t){pb(e,n=>{const i=n.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let bd;function ul(e){return e.reduce((t,n)=>t+n.length,0)}function cl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)n[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function _b(e,t){bd||(bd=new TextDecoder);const n=[];let i=0,o=-1,l=!1;return new TransformStream({transform(c,f){for(n.push(c);;){if(i===0){if(ul(n)<1)break;const p=cl(n,1);l=(p[0]&128)===128,o=p[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(ul(n)<2)break;const p=cl(n,2);o=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),i=3}else if(i===2){if(ul(n)<8)break;const p=cl(n,8),g=new DataView(p.buffer,p.byteOffset,p.length),v=g.getUint32(0);if(v>Math.pow(2,21)-1){f.enqueue(Gd);break}o=v*Math.pow(2,32)+g.getUint32(4),i=3}else{if(ul(n)<o)break;const p=cl(n,o);f.enqueue($f(l?p:bd.decode(p),t)),i=0}if(o===0||o>e){f.enqueue(Gd);break}}}})}const py=4;function ot(e){if(e)return bb(e)}function bb(e){for(var t in ot.prototype)e[t]=ot.prototype[t];return e}ot.prototype.on=ot.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ot.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ot.prototype.off=ot.prototype.removeListener=ot.prototype.removeAllListeners=ot.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<n.length;o++)if(i=n[o],i===t||i.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ot.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,o=n.length;i<o;++i)n[i].apply(this,t)}return this};ot.prototype.emitReserved=ot.prototype.emit;ot.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ot.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ru=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Jt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Ab="arraybuffer";function gy(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const Cb=Jt.setTimeout,Eb=Jt.clearTimeout;function iu(e,t){t.useNativeTimers?(e.setTimeoutFn=Cb.bind(Jt),e.clearTimeoutFn=Eb.bind(Jt)):(e.setTimeoutFn=Jt.setTimeout.bind(Jt),e.clearTimeoutFn=Jt.clearTimeout.bind(Jt))}const kb=1.33;function Ob(e){return typeof e=="string"?Ib(e):Math.ceil((e.byteLength||e.size)*kb)}function Ib(e){let t=0,n=0;for(let i=0,o=e.length;i<o;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function my(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xb(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Tb(e){let t={},n=e.split("&");for(let i=0,o=n.length;i<o;i++){let l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Pb extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class jf extends ot{constructor(t){super(),this.writable=!1,iu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,i){return super.emitReserved("error",new Pb(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=$f(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=xb(t);return n.length?"?"+n:""}}class Vb extends jf{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Sb(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,yb(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=my()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let vy=!1;try{vy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Rb=vy;function Mb(){}class Db extends Vb{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class Vn extends ot{constructor(t,n,i){super(),this.createRequest=t,iu(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const n=gy(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Vn.requestsCount++,Vn.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Mb,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vn.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Vn.requestsCount=0;Vn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bm);else if(typeof addEventListener=="function"){const e="onpagehide"in Jt?"pagehide":"unload";addEventListener(e,Bm,!1)}}function Bm(){for(let e in Vn.requests)Vn.requests.hasOwnProperty(e)&&Vn.requests[e].abort()}const Nb=function(){const e=yy({xdomain:!1});return e&&e.responseType!==null}();class Bb extends Db{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Nb&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vn(yy,this.uri(),t)}}function yy(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Rb))return new XMLHttpRequest}catch{}if(!t)try{return new Jt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Sy=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Lb extends jf{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,i=Sy?{}:gy(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;Ff(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}o&&ru(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=my()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ad=Jt.WebSocket||Jt.MozWebSocket;class Ub extends Lb{createSocket(t,n,i){return Sy?new Ad(t,n,i):n?new Ad(t,n):new Ad(t)}doWrite(t,n){this.ws.send(n)}}class Fb extends jf{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=_b(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),o=wb();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{i.read().then(({done:f,value:p})=>{f||(this.onPacket(p),l())}).catch(f=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],o=n===t.length-1;this._writer.write(i).then(()=>{o&&ru(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const $b={websocket:Ub,webtransport:Fb,polling:Bb},jb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qd(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let o=jb.exec(e||""),l={},c=14;for(;c--;)l[zb[c]]=o[c]||"";return n!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Wb(l,l.path),l.queryKey=Hb(l,l.query),l}function Wb(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Hb(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,l){o&&(n[o]=l)}),n}const Kd=typeof addEventListener=="function"&&typeof removeEventListener=="function",_l=[];Kd&&addEventListener("offline",()=>{_l.forEach(e=>e())},!1);class Nr extends ot{constructor(t,n){if(super(),this.binaryType=Ab,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const i=qd(t);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=qd(n.host).host);iu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tb(this.opts.query)),Kd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_l.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=py,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Nr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Nr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(n+=Ob(o)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ru(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,i){return this._sendPacket("message",t,n,i),this}send(t,n,i){return this._sendPacket("message",t,n,i),this}_sendPacket(t,n,i,o){if(typeof n=="function"&&(o=n,n=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:n,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Nr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Kd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=_l.indexOf(this._offlineEventListener);i!==-1&&_l.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Nr.protocol=py;class Gb extends Nr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),i=!1;Nr.priorWebsocketSuccess=!1;const o=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",S=>{if(!i)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Nr.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(v(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const _=new Error("probe error");_.transport=n.name,this.emitReserved("upgradeError",_)}}))};function l(){i||(i=!0,v(),n.close(),n=null)}const c=S=>{const _=new Error("probe error: "+S);_.transport=n.name,l(),this.emitReserved("upgradeError",_)};function f(){c("transport closed")}function p(){c("socket closed")}function g(S){n&&S.name!==n.name&&l()}const v=()=>{n.removeListener("open",o),n.removeListener("error",c),n.removeListener("close",f),this.off("close",p),this.off("upgrading",g)};n.once("open",o),n.once("error",c),n.once("close",f),this.once("close",p),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}}let qb=class extends Gb{constructor(t,n={}){const i=typeof t=="object"?t:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>$b[o]).filter(o=>!!o)),super(t,i)}};function Kb(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=qd(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(n&&n.port===i.port?"":":"+i.port),i}const Qb=typeof ArrayBuffer=="function",Yb=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,wy=Object.prototype.toString,Xb=typeof Blob=="function"||typeof Blob<"u"&&wy.call(Blob)==="[object BlobConstructor]",Jb=typeof File=="function"||typeof File<"u"&&wy.call(File)==="[object FileConstructor]";function zf(e){return Qb&&(e instanceof ArrayBuffer||Yb(e))||Xb&&e instanceof Blob||Jb&&e instanceof File}function bl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(bl(e[n]))return!0;return!1}if(zf(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return bl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&bl(e[n]))return!0;return!1}function Zb(e){const t=[],n=e.data,i=e;return i.data=Qd(n,t),i.attachments=t.length,{packet:i,buffers:t}}function Qd(e,t){if(!e)return e;if(zf(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=Qd(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=Qd(e[i],t));return n}return e}function eA(e,t){return e.data=Yd(e.data,t),delete e.attachments,e}function Yd(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Yd(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Yd(e[n],t));return e}const tA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],nA=5;var Ae;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ae||(Ae={}));class rA{constructor(t){this.replacer=t}encode(t){return(t.type===Ae.EVENT||t.type===Ae.ACK)&&bl(t)?this.encodeAsBinary({type:t.type===Ae.EVENT?Ae.BINARY_EVENT:Ae.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ae.BINARY_EVENT||t.type===Ae.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Zb(t),i=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(i),o}}function Lm(e){return Object.prototype.toString.call(e)==="[object Object]"}class Wf extends ot{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===Ae.BINARY_EVENT;i||n.type===Ae.BINARY_ACK?(n.type=i?Ae.EVENT:Ae.ACK,this.reconstructor=new iA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(zf(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Ae[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Ae.BINARY_EVENT||i.type===Ae.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const c=t.substring(l,n);if(c!=Number(c)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(l,n)}else i.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const l=n+1;for(;++n;){const c=t.charAt(n);if(c==null||Number(c)!=c){--n;break}if(n===t.length)break}i.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(Wf.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ae.CONNECT:return Lm(n);case Ae.DISCONNECT:return n===void 0;case Ae.CONNECT_ERROR:return typeof n=="string"||Lm(n);case Ae.EVENT:case Ae.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&tA.indexOf(n[0])===-1);case Ae.ACK:case Ae.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iA{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=eA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sA=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wf,Encoder:rA,get PacketType(){return Ae},protocol:nA},Symbol.toStringTag,{value:"Module"}));function gn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const oA=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _y extends ot{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[gn(t,"open",this.onopen.bind(this)),gn(t,"packet",this.onpacket.bind(this)),gn(t,"error",this.onerror.bind(this)),gn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var i,o,l;if(oA.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const c={type:Ae.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const v=this.ids++,S=n.pop();this._registerAckCallback(v,S),c.id=v}const f=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,p=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!f||(p?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,n){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},o),c=(...f)=>{this.io.clearTimeoutFn(l),n.apply(this,f)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...n){return new Promise((i,o)=>{const l=(c,f)=>c?o(c):i(f);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ae.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ae.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ae.EVENT:case Ae.BINARY_EVENT:this.onevent(t);break;case Ae.ACK:case Ae.BINARY_ACK:this.onack(t);break;case Ae.DISCONNECT:this.ondisconnect();break;case Ae.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...o){i||(i=!0,n.packet({type:Ae.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ae.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function gs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}gs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};gs.prototype.reset=function(){this.attempts=0};gs.prototype.setMin=function(e){this.ms=e};gs.prototype.setMax=function(e){this.max=e};gs.prototype.setJitter=function(e){this.jitter=e};class Xd extends ot{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,iu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new gs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||sA;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new qb(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=gn(n,"open",function(){i.onopen(),t&&t()}),l=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},c=gn(n,"error",l);if(this._timeout!==!1){const f=this._timeout,p=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),n.close()},f);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(gn(t,"ping",this.onping.bind(this)),gn(t,"data",this.ondata.bind(this)),gn(t,"error",this.onerror.bind(this)),gn(t,"close",this.onclose.bind(this)),gn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ru(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new _y(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const uo={};function Al(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Kb(e,t.path||"/socket.io"),i=n.source,o=n.id,l=n.path,c=uo[o]&&l in uo[o].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let p;return f?p=new Xd(i,t):(uo[o]||(uo[o]=new Xd(i,t)),p=uo[o]),n.query&&!t.query&&(t.query=n.queryKey),p.socket(n.path,t)}Object.assign(Al,{Manager:Xd,Socket:_y,io:Al,connect:Al});function Ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var aA={};function su(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:aA}var by=Object.assign,Rl=Object.getOwnPropertyDescriptor,Rn=Object.defineProperty,zo=Object.prototype,Jd=[];Object.freeze(Jd);var Hf={};Object.freeze(Hf);var lA=typeof Proxy<"u",uA=Object.toString();function Ay(){lA||Ce("Proxy not available")}function Cy(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var rs=function(){};function _n(e){return typeof e=="function"}function di(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function ou(e){return e!==null&&typeof e=="object"}function nr(e){if(!ou(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===uA}function Ey(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function Wo(e,t,n){Rn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function ky(e,t,n){Rn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function $r(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(i){return ou(i)&&i[n]===!0}}function ms(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function cA(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(n);return i===null}function Qn(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Oy=typeof Object.getOwnPropertySymbols<"u";function dA(e){var t=Object.keys(e);if(!Oy)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(i){return zo.propertyIsEnumerable.call(e,i)})):t}var ls=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Oy?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Iy(e){return e===null?null:typeof e=="object"?""+e:e}function Zn(e,t){return zo.hasOwnProperty.call(e,t)}var fA=Object.getOwnPropertyDescriptors||function(t){var n={};return ls(t).forEach(function(i){n[i]=Rl(t,i)}),n};function Ft(e,t){return!!(e&t)}function $t(e,t,n){return n?e|=t:e&=~t,e}function Um(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function hA(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gA(i.key),i)}}function vs(e,t,n){return t&&hA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function is(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=mA(e))||t){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fi.apply(null,arguments)}function xy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zd(e,t)}function Zd(e,t){return Zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zd(e,t)}function pA(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gA(e){var t=pA(e,"string");return typeof t=="symbol"?t:t+""}function mA(e,t){if(e){if(typeof e=="string")return Um(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Um(e,t):void 0}}var Pn=Symbol("mobx-stored-annotations");function vn(e){function t(n,i){if(Go(i))return e.decorate_20223_(n,i);Ho(n,i,e)}return Object.assign(t,e)}function Ho(e,t,n){Zn(e,Pn)||Wo(e,Pn,fi({},e[Pn])),bA(n)||(e[Pn][t]=n)}function vA(e){return Zn(e,Pn)||Wo(e,Pn,fi({},e[Pn])),e[Pn]}function Go(e){return typeof e=="object"&&typeof e.kind=="string"}var fe=Symbol("mobx administration"),jr=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Te.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.reportObserved=function(){return qy(this)},t.reportChanged=function(){tn(),Ky(this),nn()},t.toString=function(){return this.name_},vs(e,[{key:"isBeingObserved",get:function(){return Ft(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=$t(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Ft(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=$t(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Ft(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=$t(this.flags_,e.diffValueMask_,i===1)}}])}();jr.isBeingObservedMask_=1;jr.isPendingUnobservationMask_=2;jr.diffValueMask_=4;var Gf=$r("Atom",jr);function Ty(e,t,n){t===void 0&&(t=rs),n===void 0&&(n=rs);var i=new jr(e);return t!==rs&&xC(i,t),n!==rs&&t0(i,n),i}function yA(e,t){return f0(e,t)}function SA(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var us={structural:yA,default:SA};function hi(e,t,n){return Qf(e)?e:Array.isArray(e)?q.array(e,{name:n}):nr(e)?q.object(e,void 0,{name:n}):ms(e)?q.map(e,{name:n}):Qn(e)?q.set(e,{name:n}):typeof e=="function"&&!cs(e)&&!To(e)?Ey(e)?ds(e):xo(n,e):e}function wA(e,t,n){if(e==null||ys(e)||Yo(e)||Wr(e)||mn(e))return e;if(Array.isArray(e))return q.array(e,{name:n,deep:!1});if(nr(e))return q.object(e,void 0,{name:n,deep:!1});if(ms(e))return q.map(e,{name:n,deep:!1});if(Qn(e))return q.set(e,{name:n,deep:!1})}function au(e){return e}function _A(e,t){return f0(e,t)?t:e}var Py="override",co=vn({annotationType_:Py,make_:AA,extend_:CA,decorate_20223_:EA});function bA(e){return e.annotationType_===Py}function AA(e,t){return 0}function CA(e,t,n,i){Ce("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function EA(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function qo(e,t){return{annotationType_:e,options_:t,make_:kA,extend_:OA,decorate_20223_:IA}}function kA(e,t,n,i){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(cs(n.value))return 1;var l=Vy(e,this,t,n,!1);return Rn(i,t,l),2}function OA(e,t,n,i){var o=Vy(e,this,t,n);return e.defineProperty_(t,o,i)}function IA(e,t){var n=t.kind,i=t.name,o=t.addInitializer,l=this,c=function(g){var v,S,_,x;return pi((v=(S=l.options_)==null?void 0:S.name)!=null?v:i.toString(),g,(_=(x=l.options_)==null?void 0:x.autoAction)!=null?_:!1)};if(n=="field")return function(p){var g,v=p;return cs(v)||(v=c(v)),(g=l.options_)!=null&&g.bound&&(v=v.bind(this),v.isMobxAction=!0),v};if(n=="method"){var f;return cs(e)||(e=c(e)),(f=this.options_)!=null&&f.bound&&o(function(){var p=this,g=p[i].bind(p);g.isMobxAction=!0,p[i]=g}),e}Ce("Cannot apply '"+l.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function xA(e,t,n,i){t.annotationType_,i.value}function Vy(e,t,n,i,o){var l,c,f,p,g,v,S;o===void 0&&(o=K.safeDescriptors),xA(e,t,n,i);var _=i.value;if((l=t.options_)!=null&&l.bound){var x;_=_.bind((x=e.proxy_)!=null?x:e.target_)}return{value:pi((c=(f=t.options_)==null?void 0:f.name)!=null?c:n.toString(),_,(p=(g=t.options_)==null?void 0:g.autoAction)!=null?p:!1,(v=t.options_)!=null&&v.bound?(S=e.proxy_)!=null?S:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Ry(e,t){return{annotationType_:e,options_:t,make_:TA,extend_:PA,decorate_20223_:VA}}function TA(e,t,n,i){var o;if(i===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Zn(e.target_,t)||!To(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(To(n.value))return 1;var l=My(e,this,t,n,!1,!1);return Rn(i,t,l),2}function PA(e,t,n,i){var o,l=My(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,l,i)}function VA(e,t){var n,i=t.name,o=t.addInitializer;return To(e)||(e=ds(e)),(n=this.options_)!=null&&n.bound&&o(function(){var l=this,c=l[i].bind(l);c.isMobXFlow=!0,l[i]=c}),e}function RA(e,t,n,i){t.annotationType_,i.value}function My(e,t,n,i,o,l){l===void 0&&(l=K.safeDescriptors),RA(e,t,n,i);var c=i.value;if(To(c)||(c=ds(c)),o){var f;c=c.bind((f=e.proxy_)!=null?f:e.target_),c.isMobXFlow=!0}return{value:c,configurable:l?e.isPlainObject_:!0,enumerable:!1,writable:!l}}function qf(e,t){return{annotationType_:e,options_:t,make_:MA,extend_:DA,decorate_20223_:NA}}function MA(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function DA(e,t,n,i){return BA(e,this,t,n),e.defineComputedProperty_(t,fi({},this.options_,{get:n.get,set:n.set}),i)}function NA(e,t){var n=this,i=t.name,o=t.addInitializer;return o(function(){var l=Si(this)[fe],c=fi({},n.options_,{get:e,context:this});c.name||(c.name="ObservableObject."+i.toString()),l.values_.set(i,new bn(c))}),function(){return this[fe].getObservablePropValue_(i)}}function BA(e,t,n,i){t.annotationType_,i.get}function lu(e,t){return{annotationType_:e,options_:t,make_:LA,extend_:UA,decorate_20223_:FA}}function LA(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function UA(e,t,n,i){var o,l;return $A(e,this),e.defineObservableProperty_(t,n.value,(o=(l=this.options_)==null?void 0:l.enhancer)!=null?o:hi,i)}function FA(e,t){var n=this,i=t.kind,o=t.name,l=new WeakSet;function c(f,p){var g,v,S=Si(f)[fe],_=new Br(p,(g=(v=n.options_)==null?void 0:v.enhancer)!=null?g:hi,"ObservableObject."+o.toString(),!1);S.values_.set(o,_),l.add(f)}if(i=="accessor")return{get:function(){return l.has(this)||c(this,e.get.call(this)),this[fe].getObservablePropValue_(o)},set:function(p){return l.has(this)||c(this,p),this[fe].setObservablePropValue_(o,p)},init:function(p){return l.has(this)||c(this,p),p}}}function $A(e,t,n,i){t.annotationType_}var jA="true",zA=Dy();function Dy(e){return{annotationType_:jA,options_:e,make_:WA,extend_:HA,decorate_20223_:GA}}function WA(e,t,n,i){var o,l;if(n.get)return oe.make_(e,t,n,i);if(n.set){var c=pi(t.toString(),n.set);return i===e.target_?e.defineProperty_(t,{configurable:K.safeDescriptors?e.isPlainObject_:!0,set:c})===null?0:2:(Rn(i,t,{configurable:!0,set:c}),2)}if(i!==e.target_&&typeof n.value=="function"){var f;if(Ey(n.value)){var p,g=(p=this.options_)!=null&&p.autoBind?ds.bound:ds;return g.make_(e,t,n,i)}var v=(f=this.options_)!=null&&f.autoBind?xo.bound:xo;return v.make_(e,t,n,i)}var S=((o=this.options_)==null?void 0:o.deep)===!1?q.ref:q;if(typeof n.value=="function"&&(l=this.options_)!=null&&l.autoBind){var _;n.value=n.value.bind((_=e.proxy_)!=null?_:e.target_)}return S.make_(e,t,n,i)}function HA(e,t,n,i){var o,l;if(n.get)return oe.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:K.safeDescriptors?e.isPlainObject_:!0,set:pi(t.toString(),n.set)},i);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var c;n.value=n.value.bind((c=e.proxy_)!=null?c:e.target_)}var f=((l=this.options_)==null?void 0:l.deep)===!1?q.ref:q;return f.extend_(e,t,n,i)}function GA(e,t){Ce("'"+this.annotationType_+"' cannot be used as a decorator")}var qA="observable",KA="observable.ref",QA="observable.shallow",YA="observable.struct",Ny={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ny);function dl(e){return e||Ny}var ef=lu(qA),XA=lu(KA,{enhancer:au}),JA=lu(QA,{enhancer:wA}),ZA=lu(YA,{enhancer:_A}),By=vn(ef);function fl(e){return e.deep===!0?hi:e.deep===!1?au:tC(e.defaultDecorator)}function eC(e){var t;return e?(t=e.defaultDecorator)!=null?t:Dy(e):void 0}function tC(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:hi}function Ly(e,t,n){if(Go(t))return ef.decorate_20223_(e,t);if(di(t)){Ho(e,t,ef);return}return Qf(e)?e:nr(e)?q.object(e,t,n):Array.isArray(e)?q.array(e,t):ms(e)?q.map(e,t):Qn(e)?q.set(e,t):typeof e=="object"&&e!==null?e:q.box(e,t)}by(Ly,By);var nC={box:function(t,n){var i=dl(n);return new Br(t,fl(i),i.name,!0,i.equals)},array:function(t,n){var i=dl(n);return(K.useProxies===!1||i.proxy===!1?ZC:zC)(t,fl(i),i.name)},map:function(t,n){var i=dl(n);return new Fl(t,fl(i),i.name)},set:function(t,n){var i=dl(n);return new $l(t,fl(i),i.name)},object:function(t,n,i){return Hr(function(){return r0(K.useProxies===!1||(i==null?void 0:i.proxy)===!1?Si({},i):FC({},i),t,n)})},ref:vn(XA),shallow:vn(JA),deep:By,struct:vn(ZA)},q=by(Ly,nC),Uy="computed",rC="computed.struct",tf=qf(Uy),iC=qf(rC,{equals:us.structural}),oe=function(t,n){if(Go(n))return tf.decorate_20223_(t,n);if(di(n))return Ho(t,n,tf);if(nr(t))return vn(qf(Uy,t));var i=nr(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new bn(i)};Object.assign(oe,tf);oe.struct=vn(iC);var Fm,$m,Ml=0,sC=1,oC=(Fm=($m=Rl(function(){},"name"))==null?void 0:$m.configurable)!=null?Fm:!1,jm={value:"action",configurable:!0,writable:!1,enumerable:!1};function pi(e,t,n,i){n===void 0&&(n=!1);function o(){return Fy(e,n,t,i||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},oC&&(jm.value=e,Rn(o,"name",jm)),o}function Fy(e,t,n,i,o){var l=aC(e,t);try{return n.apply(i,o)}catch(c){throw l.error_=c,c}finally{lC(l)}}function aC(e,t,n,i){var o=!1,l=0,c=K.trackingDerivation,f=!t||!c;tn();var p=K.allowStateChanges;f&&(yi(),p=uu(!0));var g=Kf(!0),v={runAsAction_:f,prevDerivation_:c,prevAllowStateChanges_:p,prevAllowStateReads_:g,notifySpy_:o,startTime_:l,actionId_:sC++,parentActionId_:Ml};return Ml=v.actionId_,v}function lC(e){Ml!==e.actionId_&&Ce(30),Ml=e.parentActionId_,e.error_!==void 0&&(K.suppressReactionErrors=!0),cu(e.prevAllowStateChanges_),_o(e.prevAllowStateReads_),nn(),e.runAsAction_&&er(e.prevDerivation_),K.suppressReactionErrors=!1}function uC(e,t){var n=uu(e);try{return t()}finally{cu(n)}}function uu(e){var t=K.allowStateChanges;return K.allowStateChanges=e,t}function cu(e){K.allowStateChanges=e}var Br=function(e){function t(i,o,l,c,f){var p;return l===void 0&&(l="ObservableValue"),f===void 0&&(f=us.default),p=e.call(this,l)||this,p.enhancer=void 0,p.name_=void 0,p.equals=void 0,p.hasUnreportedChange_=!1,p.interceptors_=void 0,p.changeListeners_=void 0,p.value_=void 0,p.dehancer=void 0,p.enhancer=o,p.name_=l,p.equals=f,p.value_=o(i,void 0,l),p}xy(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==K.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Zt(this)){var l=en(this,{object:this,type:Mn,newValue:o});if(!l)return K.UNCHANGED;o=l.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?K.UNCHANGED:o},n.setNewValue_=function(o){var l=this.value_;this.value_=o,this.reportChanged(),yn(this)&&Sn(this,{type:Mn,object:this,newValue:o,oldValue:l})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return Ko(this,o)},n.observe_=function(o,l){return l&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Mn,newValue:this.value_,oldValue:void 0}),Qo(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Iy(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(jr),cC=$r("ObservableValue",Br),bn=function(){function e(n){this.dependenciesState_=Te.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Te.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Nl(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Dl.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Ce(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=pi("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?us.structural:us.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){gC(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.get=function(){if(this.isComputing&&Ce(32,this.name_,this.derivation),K.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)nf(this)&&(this.warnAboutUntrackedRead_(),tn(),this.value_=this.computeValue_(!1),nn());else if(qy(this),nf(this)){var i=K.trackingContext;this.keepAlive_&&!i&&(K.trackingContext=this),this.trackAndCompute()&&pC(this),K.trackingContext=i}var o=this.value_;if(Cl(o))throw o.cause;return o},t.set=function(i){if(this.setter_){this.isRunningSetter&&Ce(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else Ce(34,this.name_)},t.trackAndCompute=function(){var i=this.value_,o=this.dependenciesState_===Te.NOT_TRACKING_,l=this.computeValue_(!0),c=o||Cl(i)||Cl(l)||!this.equals_(i,l);return c&&(this.value_=l),c},t.computeValue_=function(i){this.isComputing=!0;var o=uu(!1),l;if(i)l=$y(this,this.derivation,this.scope_);else if(K.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(c){l=new Nl(c)}return cu(o),this.isComputing=!1,l},t.suspend_=function(){this.keepAlive_||(rf(this),this.value_=void 0)},t.observe_=function(i,o){var l=this,c=!0,f=void 0;return CC(function(){var p=l.get();if(!c||o){var g=yi();i({observableKind:"computed",debugObjectName:l.name_,type:Mn,object:l,newValue:p,oldValue:f}),er(g)}c=!1,f=p})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Iy(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},vs(e,[{key:"isComputing",get:function(){return Ft(this.flags_,e.isComputingMask_)},set:function(i){this.flags_=$t(this.flags_,e.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return Ft(this.flags_,e.isRunningSetterMask_)},set:function(i){this.flags_=$t(this.flags_,e.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return Ft(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=$t(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return Ft(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=$t(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return Ft(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=$t(this.flags_,e.diffValueMask_,i===1)}}])}();bn.isComputingMask_=1;bn.isRunningSetterMask_=2;bn.isBeingObservedMask_=4;bn.isPendingUnobservationMask_=8;bn.diffValueMask_=16;var gi=$r("ComputedValue",bn),Te;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(Te||(Te={}));var Dl;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Dl||(Dl={}));var Nl=function(t){this.cause=void 0,this.cause=t};function Cl(e){return e instanceof Nl}function nf(e){switch(e.dependenciesState_){case Te.UP_TO_DATE_:return!1;case Te.NOT_TRACKING_:case Te.STALE_:return!0;case Te.POSSIBLY_STALE_:{for(var t=Kf(!0),n=yi(),i=e.observing_,o=i.length,l=0;l<o;l++){var c=i[l];if(gi(c)){if(K.disableErrorBoundaries)c.get();else try{c.get()}catch{return er(n),_o(t),!0}if(e.dependenciesState_===Te.STALE_)return er(n),_o(t),!0}}return zy(e),er(n),_o(t),!1}}}function $y(e,t,n){var i=Kf(!0);zy(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++K.runId;var o=K.trackingDerivation;K.trackingDerivation=e,K.inBatch++;var l;if(K.disableErrorBoundaries===!0)l=t.call(n);else try{l=t.call(n)}catch(c){l=new Nl(c)}return K.inBatch--,K.trackingDerivation=o,dC(e),_o(i),l}function dC(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=Te.UP_TO_DATE_,o=0,l=e.unboundDepsCount_,c=0;c<l;c++){var f=n[c];f.diffValue===0&&(f.diffValue=1,o!==c&&(n[o]=f),o++),f.dependenciesState_>i&&(i=f.dependenciesState_)}for(n.length=o,e.newObserving_=null,l=t.length;l--;){var p=t[l];p.diffValue===0&&Hy(p,e),p.diffValue=0}for(;o--;){var g=n[o];g.diffValue===1&&(g.diffValue=0,hC(g,e))}i!==Te.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}function rf(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Hy(t[n],e);e.dependenciesState_=Te.NOT_TRACKING_}function jy(e){var t=yi();try{return e()}finally{er(t)}}function yi(){var e=K.trackingDerivation;return K.trackingDerivation=null,e}function er(e){K.trackingDerivation=e}function Kf(e){var t=K.allowStateReads;return K.allowStateReads=e,t}function _o(e){K.allowStateReads=e}function zy(e){if(e.dependenciesState_!==Te.UP_TO_DATE_){e.dependenciesState_=Te.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Te.UP_TO_DATE_}}var El=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},kl=!0,Wy=!1,K=function(){var e=su();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(kl=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new El().version&&(kl=!1),kl?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new El):(setTimeout(function(){Wy||Ce(35)},1),new El)}();function fC(){if((K.pendingReactions.length||K.inBatch||K.isRunningReactions)&&Ce(36),Wy=!0,kl){var e=su();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),K=new El}}function hC(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Hy(e,t){e.observers_.delete(t),e.observers_.size===0&&Gy(e)}function Gy(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,K.pendingUnobservations.push(e))}function tn(){K.inBatch++}function nn(){if(--K.inBatch===0){Qy();for(var e=K.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof bn&&n.suspend_())}K.pendingUnobservations=[]}}function qy(e){var t=K.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&K.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&K.inBatch>0&&Gy(e),!1)}function Ky(e){e.lowestObserverState_!==Te.STALE_&&(e.lowestObserverState_=Te.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Te.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Te.STALE_}))}function pC(e){e.lowestObserverState_!==Te.STALE_&&(e.lowestObserverState_=Te.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Te.POSSIBLY_STALE_?t.dependenciesState_=Te.STALE_:t.dependenciesState_===Te.UP_TO_DATE_&&(e.lowestObserverState_=Te.UP_TO_DATE_)}))}function gC(e){e.lowestObserverState_===Te.UP_TO_DATE_&&(e.lowestObserverState_=Te.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===Te.UP_TO_DATE_&&(t.dependenciesState_=Te.POSSIBLY_STALE_,t.onBecomeStale_())}))}var rr=function(){function e(n,i,o,l){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Te.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Dl.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=o,this.requiresObservable_=l}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,K.pendingReactions.push(this),Qy())},t.runReaction_=function(){if(!this.isDisposed){tn(),this.isScheduled=!1;var i=K.trackingContext;if(K.trackingContext=this,nf(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}K.trackingContext=i,nn()}},t.track=function(i){if(!this.isDisposed){tn(),this.isRunning=!0;var o=K.trackingContext;K.trackingContext=this;var l=$y(this,i,void 0);K.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&rf(this),Cl(l)&&this.reportExceptionInDerivation_(l.cause),nn()}},t.reportExceptionInDerivation_=function(i){var o=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(K.disableErrorBoundaries)throw i;var l="[mobx] uncaught error in '"+this+"'";K.suppressReactionErrors||console.error(l,i),K.globalReactionErrorHandlers.forEach(function(c){return c(i,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(tn(),rf(this),nn()))},t.getDisposer_=function(i){var o=this,l=function c(){o.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",c)};return i==null||i.addEventListener==null||i.addEventListener("abort",l),l[fe]=this,l},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(i){},vs(e,[{key:"isDisposed",get:function(){return Ft(this.flags_,e.isDisposedMask_)},set:function(i){this.flags_=$t(this.flags_,e.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return Ft(this.flags_,e.isScheduledMask_)},set:function(i){this.flags_=$t(this.flags_,e.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return Ft(this.flags_,e.isTrackPendingMask_)},set:function(i){this.flags_=$t(this.flags_,e.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return Ft(this.flags_,e.isRunningMask_)},set:function(i){this.flags_=$t(this.flags_,e.isRunningMask_,i)}},{key:"diffValue",get:function(){return Ft(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=$t(this.flags_,e.diffValueMask_,i===1)}}])}();rr.isDisposedMask_=1;rr.isScheduledMask_=2;rr.isTrackPendingMask_=4;rr.isRunningMask_=8;rr.diffValueMask_=16;var mC=100,sf=function(t){return t()};function Qy(){K.inBatch>0||K.isRunningReactions||sf(vC)}function vC(){K.isRunningReactions=!0;for(var e=K.pendingReactions,t=0;e.length>0;){++t===mC&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,o=n.length;i<o;i++)n[i].runReaction_()}K.isRunningReactions=!1}var Bl=$r("Reaction",rr);function yC(e){var t=sf;sf=function(i){return e(function(){return t(i)})}}function bo(){return!1}function SC(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Yy="action",wC="action.bound",Xy="autoAction",_C="autoAction.bound",Jy="<unnamed action>",of=qo(Yy),bC=qo(wC,{bound:!0}),af=qo(Xy,{autoAction:!0}),AC=qo(_C,{autoAction:!0,bound:!0});function Zy(e){var t=function(i,o){if(_n(i))return pi(i.name||Jy,i,e);if(_n(o))return pi(i,o,e);if(Go(o))return(e?af:of).decorate_20223_(i,o);if(di(o))return Ho(i,o,e?af:of);if(di(i))return vn(qo(e?Xy:Yy,{name:i,autoAction:e}))};return t}var M=Zy(!1);Object.assign(M,of);var xo=Zy(!0);Object.assign(xo,af);M.bound=vn(bC);xo.bound=vn(AC);function Mt(e){return Fy(e.name||Jy,!1,e,this,void 0)}function cs(e){return _n(e)&&e.isMobxAction===!0}function CC(e,t){var n,i,o,l;t===void 0&&(t=Hf);var c=(n=(i=t)==null?void 0:i.name)!=null?n:"Autorun",f=!t.scheduler&&!t.delay,p;if(f)p=new rr(c,function(){this.track(S)},t.onError,t.requiresObservable);else{var g=e0(t),v=!1;p=new rr(c,function(){v||(v=!0,g(function(){v=!1,p.isDisposed||p.track(S)}))},t.onError,t.requiresObservable)}function S(){e(p)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||p.schedule_(),p.getDisposer_((l=t)==null?void 0:l.signal)}var EC=function(t){return t()};function e0(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:EC}function Ke(e,t,n){var i,o,l;n===void 0&&(n=Hf);var c=(i=n.name)!=null?i:"Reaction",f=M(c,n.onError?kC(n.onError,t):t),p=!n.scheduler&&!n.delay,g=e0(n),v=!0,S=!1,_,x=n.compareStructural?us.structural:n.equals||us.default,T=new rr(c,function(){v||p?E():S||(S=!0,g(E))},n.onError,n.requiresObservable);function E(){if(S=!1,!T.isDisposed){var V=!1,Q=_;T.track(function(){var G=uC(!1,function(){return e(T)});V=v||!x(_,G),_=G}),(v&&n.fireImmediately||!v&&V)&&f(_,Q,T),v=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||T.schedule_(),T.getDisposer_((l=n)==null?void 0:l.signal)}function kC(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var OC="onBO",IC="onBUO";function xC(e,t,n){return n0(OC,e,t,n)}function t0(e,t,n){return n0(IC,e,t,n)}function n0(e,t,n,i){var o=Po(t),l=_n(i)?i:n,c=e+"L";return o[c]?o[c].add(l):o[c]=new Set([l]),function(){var f=o[c];f&&(f.delete(l),f.size===0&&delete o[c])}}var TC="never",hl="always",PC="observed";function MP(e){e.isolateGlobalState===!0&&fC();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(K.useProxies=t===hl?!0:t===TC?!1:typeof Proxy<"u"),t==="ifavailable"&&(K.verifyProxies=!0),n!==void 0){var i=n===hl?hl:n===PC;K.enforceActions=i,K.allowStateChanges=!(i===!0||i===hl)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(K[o]=!!e[o])}),K.allowStateReads=!K.observableRequiresReaction,e.reactionScheduler&&yC(e.reactionScheduler)}function r0(e,t,n,i){var o=fA(t);return Hr(function(){var l=Si(e,i)[fe];ls(o).forEach(function(c){l.extend_(c,o[c],n&&c in n?n[c]:!0)})}),e}function DP(e,t){return i0(Po(e,t))}function i0(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=VC(e.observing_).map(i0)),t}function VC(e){return Array.from(new Set(e))}var RC=0;function s0(){this.message="FLOW_CANCELLED"}s0.prototype=Object.create(Error.prototype);var Cd=Ry("flow"),MC=Ry("flow.bound",{bound:!0}),ds=Object.assign(function(t,n){if(Go(n))return Cd.decorate_20223_(t,n);if(di(n))return Ho(t,n,Cd);var i=t,o=i.name||"<unnamed flow>",l=function(){var f=this,p=arguments,g=++RC,v=M(o+" - runid: "+g+" - init",i).apply(f,p),S,_=void 0,x=new Promise(function(T,E){var V=0;S=E;function Q(re){_=void 0;var ue;try{ue=M(o+" - runid: "+g+" - yield "+V++,v.next).call(v,re)}catch(Se){return E(Se)}Y(ue)}function G(re){_=void 0;var ue;try{ue=M(o+" - runid: "+g+" - yield "+V++,v.throw).call(v,re)}catch(Se){return E(Se)}Y(ue)}function Y(re){if(_n(re==null?void 0:re.then)){re.then(Y,E);return}return re.done?T(re.value):(_=Promise.resolve(re.value),_.then(Q,G))}Q(void 0)});return x.cancel=M(o+" - runid: "+g+" - cancel",function(){try{_&&zm(_);var T=v.return(void 0),E=Promise.resolve(T.value);E.then(rs,rs),zm(E),S(new s0)}catch(V){S(V)}}),x};return l.isMobXFlow=!0,l},Cd);ds.bound=vn(MC);function zm(e){_n(e.cancel)&&e.cancel()}function To(e){return(e==null?void 0:e.isMobXFlow)===!0}function DC(e,t){if(t===void 0)return gi(e);if(ys(e)===!1||!e[fe].values_.has(t))return!1;var n=Po(e,t);return gi(n)}function NC(e,t){return DC(e,t)}function BC(e,t){return e?ys(e)||!!e[fe]||Gf(e)||Bl(e)||gi(e):!1}function Qf(e){return BC(e)}function LC(e){if(ys(e))return e[fe].ownKeys_();Ce(38)}function pl(e,t,n){return e.set(t,n),n}function ns(e,t){if(e==null||typeof e!="object"||e instanceof Date||!Qf(e))return e;if(cC(e)||gi(e))return ns(e.get(),t);if(t.has(e))return t.get(e);if(Yo(e)){var n=pl(t,e,new Array(e.length));return e.forEach(function(c,f){n[f]=ns(c,t)}),n}if(mn(e)){var i=pl(t,e,new Set);return e.forEach(function(c){i.add(ns(c,t))}),i}if(Wr(e)){var o=pl(t,e,new Map);return e.forEach(function(c,f){o.set(f,ns(c,t))}),o}else{var l=pl(t,e,{});return LC(e).forEach(function(c){zo.propertyIsEnumerable.call(e,c)&&(l[c]=ns(e[c],t))}),l}}function Ed(e,t){return ns(e,new Map)}function Yn(e,t){t===void 0&&(t=void 0),tn();try{return e.apply(t)}finally{nn()}}function Zi(e){return e[fe]}var UC={has:function(t,n){return Zi(t).has_(n)},get:function(t,n){return Zi(t).get_(n)},set:function(t,n,i){var o;return di(n)?(o=Zi(t).set_(n,i,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var i;return di(n)?(i=Zi(t).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(t,n,i){var o;return(o=Zi(t).defineProperty_(n,i))!=null?o:!0},ownKeys:function(t){return Zi(t).ownKeys_()},preventExtensions:function(t){Ce(13)}};function FC(e,t){var n,i;return Ay(),e=Si(e,t),(i=(n=e[fe]).proxy_)!=null?i:n.proxy_=new Proxy(e,UC)}function Zt(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ko(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Cy(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function en(e,t){var n=yi();try{for(var i=[].concat(e.interceptors_||[]),o=0,l=i.length;o<l&&(t=i[o](t),t&&!t.type&&Ce(14),!!t);o++);return t}finally{er(n)}}function yn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Qo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Cy(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function Sn(e,t){var n=yi(),i=e.changeListeners_;if(i){i=i.slice();for(var o=0,l=i.length;o<l;o++)i[o](t);er(n)}}function zr(e,t,n){return Hr(function(){var i,o=Si(e,n)[fe];(i=t)!=null||(t=vA(e)),ls(t).forEach(function(l){return o.make_(l,t[l])})}),e}var kd=Symbol("mobx-keys");function o0(e,t,n){return nr(e)?r0(e,e,t,n):(Hr(function(){var i=Si(e,n)[fe];if(!e[kd]){var o=Object.getPrototypeOf(e),l=new Set([].concat(ls(e),ls(o)));l.delete("constructor"),l.delete(fe),Wo(o,kd,l)}e[kd].forEach(function(c){return i.make_(c,t&&c in t?t[c]:!0)})}),e)}var Wm="splice",Mn="update",$C=1e4,jC={get:function(t,n){var i=t[fe];return n===fe?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Zn(Ll,n)?Ll[n]:t[n]},set:function(t,n,i){var o=t[fe];return n==="length"&&o.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?t[n]=i:o.set_(parseInt(n),i),!0},preventExtensions:function(){Ce(15)}},Yf=function(){function e(n,i,o,l){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=l,this.atom_=new jr(n),this.enhancer_=function(c,f){return i(c,f,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},t.intercept_=function(i){return Ko(this,i)},t.observe_=function(i,o){return o===void 0&&(o=!1),o&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Qo(this,i)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&Ce("Out of range: "+i);var o=this.values_.length;if(i!==o)if(i>o){for(var l=new Array(i-o),c=0;c<i-o;c++)l[c]=void 0;this.spliceWithArray_(o,0,l)}else this.spliceWithArray_(i,o-i)},t.updateArrayLength_=function(i,o){i!==this.lastKnownLength_&&Ce(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&d0(i+o+1)},t.spliceWithArray_=function(i,o,l){var c=this;this.atom_;var f=this.values_.length;if(i===void 0?i=0:i>f?i=f:i<0&&(i=Math.max(0,f+i)),arguments.length===1?o=f-i:o==null?o=0:o=Math.max(0,Math.min(o,f-i)),l===void 0&&(l=Jd),Zt(this)){var p=en(this,{object:this.proxy_,type:Wm,index:i,removedCount:o,added:l});if(!p)return Jd;o=p.removedCount,l=p.added}if(l=l.length===0?l:l.map(function(S){return c.enhancer_(S,void 0)}),this.legacyMode_){var g=l.length-o;this.updateArrayLength_(f,g)}var v=this.spliceItemsIntoValues_(i,o,l);return(o!==0||l.length!==0)&&this.notifyArraySplice_(i,l,v),this.dehanceValues_(v)},t.spliceItemsIntoValues_=function(i,o,l){if(l.length<$C){var c;return(c=this.values_).splice.apply(c,[i,o].concat(l))}else{var f=this.values_.slice(i,i+o),p=this.values_.slice(i+o);this.values_.length+=l.length-o;for(var g=0;g<l.length;g++)this.values_[i+g]=l[g];for(var v=0;v<p.length;v++)this.values_[i+l.length+v]=p[v];return f}},t.notifyArrayChildUpdate_=function(i,o,l){var c=!this.owned_&&bo(),f=yn(this),p=f||c?{observableKind:"array",object:this.proxy_,type:Mn,debugObjectName:this.atom_.name_,index:i,newValue:o,oldValue:l}:null;this.atom_.reportChanged(),f&&Sn(this,p)},t.notifyArraySplice_=function(i,o,l){var c=!this.owned_&&bo(),f=yn(this),p=f||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Wm,index:i,removed:l,added:o,removedCount:l.length,addedCount:o.length}:null;this.atom_.reportChanged(),f&&Sn(this,p)},t.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},t.set_=function(i,o){var l=this.values_;if(this.legacyMode_&&i>l.length&&Ce(17,i,l.length),i<l.length){this.atom_;var c=l[i];if(Zt(this)){var f=en(this,{type:Mn,object:this.proxy_,index:i,newValue:o});if(!f)return;o=f.newValue}o=this.enhancer_(o,c);var p=o!==c;p&&(l[i]=o,this.notifyArrayChildUpdate_(i,o,c))}else{for(var g=new Array(i+1-l.length),v=0;v<g.length-1;v++)g[v]=void 0;g[g.length-1]=o,this.spliceWithArray_(l.length,0,g)}},e}();function zC(e,t,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),Ay(),Hr(function(){var o=new Yf(n,t,i,!1);ky(o.values_,fe,o);var l=new Proxy(o.values_,jC);return o.proxy_=l,e&&e.length&&o.spliceWithArray_(0,0,e),l})}var Ll={clear:function(){return this.splice(0)},replace:function(t){var n=this[fe];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];var c=this[fe];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(t);case 2:return c.spliceWithArray_(t,n)}return c.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,i){return this[fe].spliceWithArray_(t,n,i)},push:function(){for(var t=this[fe],n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[fe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[fe],n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return K.trackingDerivation&&Ce(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){K.trackingDerivation&&Ce(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[fe],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1?(this.splice(i,1),!0):!1}};Fe("at",Wt);Fe("concat",Wt);Fe("flat",Wt);Fe("includes",Wt);Fe("indexOf",Wt);Fe("join",Wt);Fe("lastIndexOf",Wt);Fe("slice",Wt);Fe("toString",Wt);Fe("toLocaleString",Wt);Fe("toSorted",Wt);Fe("toSpliced",Wt);Fe("with",Wt);Fe("every",An);Fe("filter",An);Fe("find",An);Fe("findIndex",An);Fe("findLast",An);Fe("findLastIndex",An);Fe("flatMap",An);Fe("forEach",An);Fe("map",An);Fe("some",An);Fe("toReversed",An);Fe("reduce",a0);Fe("reduceRight",a0);function Fe(e,t){typeof Array.prototype[e]=="function"&&(Ll[e]=t(e))}function Wt(e){return function(){var t=this[fe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function An(e){return function(t,n){var i=this,o=this[fe];o.atom_.reportObserved();var l=o.dehanceValues_(o.values_);return l[e](function(c,f){return t.call(n,c,f,i)})}}function a0(e){return function(){var t=this,n=this[fe];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(l,c,f){return o(l,c,f,t)},i[e].apply(i,arguments)}}var WC=$r("ObservableArrayAdministration",Yf);function Yo(e){return ou(e)&&WC(e[fe])}var HC={},Rr="add",Ul="delete",Fl=function(){function e(n,i,o){var l=this;i===void 0&&(i=hi),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[fe]=HC,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=o,_n(Map)||Ce(18),Hr(function(){l.keysAtom_=Ty("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,n&&l.merge(n)})}var t=e.prototype;return t.has_=function(i){return this.data_.has(i)},t.has=function(i){var o=this;if(!K.trackingDerivation)return this.has_(i);var l=this.hasMap_.get(i);if(!l){var c=l=new Br(this.has_(i),au,"ObservableMap.key?",!1);this.hasMap_.set(i,c),t0(c,function(){return o.hasMap_.delete(i)})}return l.get()},t.set=function(i,o){var l=this.has_(i);if(Zt(this)){var c=en(this,{type:l?Mn:Rr,object:this,newValue:o,name:i});if(!c)return this;o=c.newValue}return l?this.updateValue_(i,o):this.addValue_(i,o),this},t.delete=function(i){var o=this;if(this.keysAtom_,Zt(this)){var l=en(this,{type:Ul,object:this,name:i});if(!l)return!1}if(this.has_(i)){var c=bo(),f=yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:Ul,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Yn(function(){var g;o.keysAtom_.reportChanged(),(g=o.hasMap_.get(i))==null||g.setNewValue_(!1);var v=o.data_.get(i);v.setNewValue_(void 0),o.data_.delete(i)}),f&&Sn(this,p),!0}return!1},t.updateValue_=function(i,o){var l=this.data_.get(i);if(o=l.prepareNewValue_(o),o!==K.UNCHANGED){var c=bo(),f=yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:Mn,object:this,oldValue:l.value_,name:i,newValue:o}:null;l.setNewValue_(o),f&&Sn(this,p)}},t.addValue_=function(i,o){var l=this;this.keysAtom_,Yn(function(){var g,v=new Br(o,l.enhancer_,"ObservableMap.key",!1);l.data_.set(i,v),o=v.value_,(g=l.hasMap_.get(i))==null||g.setNewValue_(!0),l.keysAtom_.reportChanged()});var c=bo(),f=yn(this),p=f||c?{observableKind:"map",debugObjectName:this.name_,type:Rr,object:this,name:i,newValue:o}:null;f&&Sn(this,p)},t.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var i=this,o=this.keys();return Hm({next:function(){var c=o.next(),f=c.done,p=c.value;return{done:f,value:f?void 0:i.get(p)}}})},t.entries=function(){var i=this,o=this.keys();return Hm({next:function(){var c=o.next(),f=c.done,p=c.value;return{done:f,value:f?void 0:[p,i.get(p)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(i,o){for(var l=is(this),c;!(c=l()).done;){var f=c.value,p=f[0],g=f[1];i.call(o,g,p,this)}},t.merge=function(i){var o=this;return Wr(i)&&(i=new Map(i)),Yn(function(){nr(i)?dA(i).forEach(function(l){return o.set(l,i[l])}):Array.isArray(i)?i.forEach(function(l){var c=l[0],f=l[1];return o.set(c,f)}):ms(i)?(cA(i)||Ce(19,i),i.forEach(function(l,c){return o.set(c,l)})):i!=null&&Ce(20,i)}),this},t.clear=function(){var i=this;Yn(function(){jy(function(){for(var o=is(i.keys()),l;!(l=o()).done;){var c=l.value;i.delete(c)}})})},t.replace=function(i){var o=this;return Yn(function(){for(var l=GC(i),c=new Map,f=!1,p=is(o.data_.keys()),g;!(g=p()).done;){var v=g.value;if(!l.has(v)){var S=o.delete(v);if(S)f=!0;else{var _=o.data_.get(v);c.set(v,_)}}}for(var x=is(l.entries()),T;!(T=x()).done;){var E=T.value,V=E[0],Q=E[1],G=o.data_.has(V);if(o.set(V,Q),o.data_.has(V)){var Y=o.data_.get(V);c.set(V,Y),G||(f=!0)}}if(!f)if(o.data_.size!==c.size)o.keysAtom_.reportChanged();else for(var re=o.data_.keys(),ue=c.keys(),Se=re.next(),R=ue.next();!Se.done;){if(Se.value!==R.value){o.keysAtom_.reportChanged();break}Se=re.next(),R=ue.next()}o.data_=c}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(i,o){return Qo(this,i)},t.intercept_=function(i){return Ko(this,i)},vs(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Wr=$r("ObservableMap",Fl);function Hm(e){return e[Symbol.toStringTag]="MapIterator",Jf(e)}function GC(e){if(ms(e)||Wr(e))return e;if(Array.isArray(e))return new Map(e);if(nr(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Ce(21,e)}var qC={},$l=function(){function e(n,i,o){var l=this;i===void 0&&(i=hi),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[fe]=qC,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,_n(Set)||Ce(22),this.enhancer_=function(c,f){return i(c,f,o)},Hr(function(){l.atom_=Ty(l.name_),n&&l.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.clear=function(){var i=this;Yn(function(){jy(function(){for(var o=is(i.data_.values()),l;!(l=o()).done;){var c=l.value;i.delete(c)}})})},t.forEach=function(i,o){for(var l=is(this),c;!(c=l()).done;){var f=c.value;i.call(o,f,f,this)}},t.add=function(i){var o=this;if(this.atom_,Zt(this)){var l=en(this,{type:Rr,object:this,newValue:i});if(!l)return this;i=l.newValue}if(!this.has(i)){Yn(function(){o.data_.add(o.enhancer_(i,void 0)),o.atom_.reportChanged()});var c=!1,f=yn(this),p=f||c?{observableKind:"set",debugObjectName:this.name_,type:Rr,object:this,newValue:i}:null;f&&Sn(this,p)}return this},t.delete=function(i){var o=this;if(Zt(this)){var l=en(this,{type:Ul,object:this,oldValue:i});if(!l)return!1}if(this.has(i)){var c=!1,f=yn(this),p=f||c?{observableKind:"set",debugObjectName:this.name_,type:Ul,object:this,oldValue:i}:null;return Yn(function(){o.atom_.reportChanged(),o.data_.delete(i)}),f&&Sn(this,p),!0}return!1},t.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},t.entries=function(){var i=this.values();return Gm({next:function(){var l=i.next(),c=l.value,f=l.done;return f?{value:void 0,done:f}:{value:[c,c],done:f}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var i=this,o=this.data_.values();return Gm({next:function(){var c=o.next(),f=c.value,p=c.done;return p?{value:void 0,done:p}:{value:i.dehanceValue_(f),done:p}}})},t.intersection=function(i){if(Qn(i)&&!mn(i))return i.intersection(this);var o=new Set(this);return o.intersection(i)},t.union=function(i){if(Qn(i)&&!mn(i))return i.union(this);var o=new Set(this);return o.union(i)},t.difference=function(i){return new Set(this).difference(i)},t.symmetricDifference=function(i){if(Qn(i)&&!mn(i))return i.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(i)},t.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},t.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},t.isDisjointFrom=function(i){if(Qn(i)&&!mn(i))return i.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(i)},t.replace=function(i){var o=this;return mn(i)&&(i=new Set(i)),Yn(function(){Array.isArray(i)?(o.clear(),i.forEach(function(l){return o.add(l)})):Qn(i)?(o.clear(),i.forEach(function(l){return o.add(l)})):i!=null&&Ce("Cannot initialize set from "+i)}),this},t.observe_=function(i,o){return Qo(this,i)},t.intercept_=function(i){return Ko(this,i)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},vs(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),mn=$r("ObservableSet",$l);function Gm(e){return e[Symbol.toStringTag]="SetIterator",Jf(e)}var qm=Object.create(null),Km="remove",l0=function(){function e(n,i,o,l){i===void 0&&(i=new Map),l===void 0&&(l=zA),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=o,this.defaultAnnotation_=l,this.keysAtom_=new jr("ObservableObject.keys"),this.isPlainObject_=nr(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(i){return this.values_.get(i).get()},t.setObservablePropValue_=function(i,o){var l=this.values_.get(i);if(l instanceof bn)return l.set(o),!0;if(Zt(this)){var c=en(this,{type:Mn,object:this.proxy_||this.target_,name:i,newValue:o});if(!c)return null;o=c.newValue}if(o=l.prepareNewValue_(o),o!==K.UNCHANGED){var f=yn(this),p=!1,g=f||p?{type:Mn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:i,newValue:o}:null;l.setNewValue_(o),f&&Sn(this,g)}return!0},t.get_=function(i){return K.trackingDerivation&&!Zn(this.target_,i)&&this.has_(i),this.target_[i]},t.set_=function(i,o,l){return l===void 0&&(l=!1),Zn(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,o):l?Reflect.set(this.target_,i,o):(this.target_[i]=o,!0):this.extend_(i,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},t.has_=function(i){if(!K.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(i);return o||(o=new Br(i in this.target_,au,"ObservableObject.key?",!1),this.pendingKeys_.set(i,o)),o.get()},t.make_=function(i,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(i in this.target_)){var l;if((l=this.target_[Pn])!=null&&l[i])return;Ce(1,o.annotationType_,this.name_+"."+i.toString())}for(var c=this.target_;c&&c!==zo;){var f=Rl(c,i);if(f){var p=o.make_(this,i,f,c);if(p===0)return;if(p===1)break}c=Object.getPrototypeOf(c)}Ym(this,o,i)}},t.extend_=function(i,o,l,c){if(c===void 0&&(c=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(i,o,c);var f=l.extend_(this,i,o,c);return f&&Ym(this,l,i),f},t.defineProperty_=function(i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{tn();var c=this.delete_(i);if(!c)return c;if(Zt(this)){var f=en(this,{object:this.proxy_||this.target_,name:i,type:Rr,newValue:o.value});if(!f)return null;var p=f.newValue;o.value!==p&&(o=fi({},o,{value:p}))}if(l){if(!Reflect.defineProperty(this.target_,i,o))return!1}else Rn(this.target_,i,o);this.notifyPropertyAddition_(i,o.value)}finally{nn()}return!0},t.defineObservableProperty_=function(i,o,l,c){c===void 0&&(c=!1),this.keysAtom_;try{tn();var f=this.delete_(i);if(!f)return f;if(Zt(this)){var p=en(this,{object:this.proxy_||this.target_,name:i,type:Rr,newValue:o});if(!p)return null;o=p.newValue}var g=Qm(i),v={configurable:K.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:g.get,set:g.set};if(c){if(!Reflect.defineProperty(this.target_,i,v))return!1}else Rn(this.target_,i,v);var S=new Br(o,l,"ObservableObject.key",!1);this.values_.set(i,S),this.notifyPropertyAddition_(i,S.value_)}finally{nn()}return!0},t.defineComputedProperty_=function(i,o,l){l===void 0&&(l=!1),this.keysAtom_;try{tn();var c=this.delete_(i);if(!c)return c;if(Zt(this)){var f=en(this,{object:this.proxy_||this.target_,name:i,type:Rr,newValue:void 0});if(!f)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var p=Qm(i),g={configurable:K.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:p.get,set:p.set};if(l){if(!Reflect.defineProperty(this.target_,i,g))return!1}else Rn(this.target_,i,g);this.values_.set(i,new bn(o)),this.notifyPropertyAddition_(i,void 0)}finally{nn()}return!0},t.delete_=function(i,o){if(o===void 0&&(o=!1),this.keysAtom_,!Zn(this.target_,i))return!0;if(Zt(this)){var l=en(this,{object:this.proxy_||this.target_,name:i,type:Km});if(!l)return null}try{var c;tn();var f=yn(this),p=!1,g=this.values_.get(i),v=void 0;if(!g&&(f||p)){var S;v=(S=Rl(this.target_,i))==null?void 0:S.value}if(o){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(g&&(this.values_.delete(i),g instanceof Br&&(v=g.value_),Ky(g)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(c=c.get(i))==null||c.set(i in this.target_),f||p){var _={type:Km,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:v,name:i};f&&Sn(this,_)}}finally{nn()}return!0},t.observe_=function(i,o){return Qo(this,i)},t.intercept_=function(i){return Ko(this,i)},t.notifyPropertyAddition_=function(i,o){var l,c=yn(this),f=!1;if(c||f){var p=c||f?{type:Rr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:o}:null;c&&Sn(this,p)}(l=this.pendingKeys_)==null||(l=l.get(i))==null||l.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ls(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Si(e,t){var n;if(Zn(e,fe))return e;var i=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new l0(e,new Map,String(i),eC(t));return Wo(e,fe,o),e}var KC=$r("ObservableObjectAdministration",l0);function Qm(e){return qm[e]||(qm[e]={get:function(){return this[fe].getObservablePropValue_(e)},set:function(n){return this[fe].setObservablePropValue_(e,n)}})}function ys(e){return ou(e)?KC(e[fe]):!1}function Ym(e,t,n){var i;(i=e.target_[Pn])==null||delete i[n]}var QC=c0(0),YC=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Od=0,u0=function(){};function XC(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}XC(u0,Array.prototype);var Xf=function(e){function t(i,o,l,c){var f;return l===void 0&&(l="ObservableArray"),c===void 0&&(c=!1),f=e.call(this)||this,Hr(function(){var p=new Yf(l,o,c,!0);p.proxy_=f,ky(f,fe,p),i&&i.length&&f.spliceWithArray(0,0,i),YC&&Object.defineProperty(f,"0",QC)}),f}xy(t,e);var n=t.prototype;return n.concat=function(){this[fe].atom_.reportObserved();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return Array.prototype.concat.apply(this.slice(),l.map(function(f){return Yo(f)?f.slice():f}))},n[Symbol.iterator]=function(){var i=this,o=0;return Jf({next:function(){return o<i.length?{value:i[o++],done:!1}:{done:!0,value:void 0}}})},vs(t,[{key:"length",get:function(){return this[fe].getArrayLength_()},set:function(o){this[fe].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(u0);Object.entries(Ll).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Wo(Xf.prototype,t,n)});function c0(e){return{enumerable:!1,configurable:!0,get:function(){return this[fe].get_(e)},set:function(n){this[fe].set_(e,n)}}}function JC(e){Rn(Xf.prototype,""+e,c0(e))}function d0(e){if(e>Od){for(var t=Od;t<e+100;t++)JC(t);Od=e}}d0(1e3);function ZC(e,t,n){return new Xf(e,t,n)}function Po(e,t){if(typeof e=="object"&&e!==null){if(Yo(e))return t!==void 0&&Ce(23),e[fe].atom_;if(mn(e))return e.atom_;if(Wr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Ce(25,t,lf(e)),n}if(ys(e)){if(!t)return Ce(26);var i=e[fe].values_.get(t);return i||Ce(27,t,lf(e)),i}if(Gf(e)||gi(e)||Bl(e))return e}else if(_n(e)&&Bl(e[fe]))return e[fe];Ce(28)}function eE(e,t){if(e||Ce(29),Gf(e)||gi(e)||Bl(e)||Wr(e)||mn(e))return e;if(e[fe])return e[fe];Ce(24,e)}function lf(e,t){var n;if(t!==void 0)n=Po(e,t);else{if(cs(e))return e.name;ys(e)||Wr(e)||mn(e)?n=eE(e):n=Po(e)}return n.name_}function Hr(e){var t=yi(),n=uu(!0);tn();try{return e()}finally{nn(),cu(n),er(t)}}var Xm=zo.toString;function f0(e,t,n){return n===void 0&&(n=-1),uf(e,t,n)}function uf(e,t,n,i,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var l=typeof e;if(l!=="function"&&l!=="object"&&typeof t!="object")return!1;var c=Xm.call(e);if(c!==Xm.call(t))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Jm(e),t=Jm(t);var f=c==="[object Array]";if(!f){if(typeof e!="object"||typeof t!="object")return!1;var p=e.constructor,g=t.constructor;if(p!==g&&!(_n(p)&&p instanceof p&&_n(g)&&g instanceof g)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],o=o||[];for(var v=i.length;v--;)if(i[v]===e)return o[v]===t;if(i.push(e),o.push(t),f){if(v=e.length,v!==t.length)return!1;for(;v--;)if(!uf(e[v],t[v],n-1,i,o))return!1}else{var S=Object.keys(e),_=S.length;if(Object.keys(t).length!==_)return!1;for(var x=0;x<_;x++){var T=S[x];if(!(Zn(t,T)&&uf(e[T],t[T],n-1,i,o)))return!1}}return i.pop(),o.pop(),!0}function Jm(e){return Yo(e)?e.slice():ms(e)||Wr(e)||Qn(e)||mn(e)?Array.from(e.entries()):e}var Zm,tE=((Zm=su().Iterator)==null?void 0:Zm.prototype)||{};function Jf(e){return e[Symbol.iterator]=nE,Object.assign(Object.create(tE),e)}function nE(){return this}["Symbol","Map","Set"].forEach(function(e){var t=su();typeof t[e]>"u"&&Ce("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:SC,extras:{getDebugName:lf},$mobx:fe});var rE={NX_WARMLY_NODE_ENV:"production"};const iE=rE.NX_WARMLY_NODE_ENV,fo="/api",sE="",Ss={TRPC:`${fo}/trpc`,SESSIONS_TRPC:`${fo}/sessions/trpc`,BASE:fo,SOCKET_IO:`${fo}/socketio`,GRAPHQL:`${fo}/graphql`,HASURA:`${sE}/v1/graphql`},Id="/slack",xd="/teams",oE={TRPC:"/trpc",HEALTH:"/health",CLOUDINARY_SIGNATURE:"/cloudinary-signature",CLOUDINARY_VIDEO_UPLOAD:"/cloudinary-video-upload",CLOUDINARY_CSV_UPLOAD:"/cloudinary-csv-upload",AI_STUDIO_GENERATE_UPLOAD_URL:"/ai-studio/generate-upload-url",AI_STUDIO_CONFIRM_UPLOAD:"/ai-studio/confirm-upload",SEGMENT_TEST:"/segmentTest",CURRENT_USER:"/me",ADMIN_ONLY:"/adminOnly",TEST_USER:"/test-user",LINK_PREVIEW:"/link-preview",SLACK:{REDIRECT:`${Id}/redirect`,EVENTS:`${Id}/events`,INTERACTIVITY:`${Id}/interactivity`},SUPAGLUE:{OPPORTUNITY_EXPORT:"/supaglue/export/:organizationId",SYNC:"/supaglue/sync",REDIRECT:"/supaglue/redirect/:providerName/:organizationId",RE_SETUP:"/supaglue/re-setup",RE_SYNC:"/supaglue/re-sync",RESET_ENUM_FIELDS:"/supaglue/reset-enums",WEBHOOK:"/supaglue/webhook"},TEAMS:{WEBHOOK:`${xd}/webhook`,CONNECT:`${xd}/connect`,CONNECT_CALLBACK:`${xd}/connect/callback`},AMPERSAND:{WEBHOOK:{SYNC:{COMPANY:"/ampersand/webhook/sync/company",CONTACT:"/ampersand/webhook/sync/contact",USER:"/ampersand/webhook/sync/user",LEAD:"/ampersand/webhook/sync/lead",DEAL:"/ampersand/webhook/sync/deal"},NOTIFICATION:"/ampersand/webhook/notification"}},CONTACT_PIXEL:"/warmly-contact",VECTOR_PIXEL:"/vector-contact",DB_TEST:"/db-test",HASURA_EVENT:"/hasura-event",REFRESH_WHITELIST:"/refresh-whitelist",GET_WHITELIST:"/get-whitelist",GET_CACHED_ORGS:"/cached-orgs",REFRESH_CACHED_ORGS:"/refresh-cached-orgs",DEBUG_SEGMENT_SEARCH:"/admin/debug-segment-search",TEST_LOGGER:"/test-logger",PROVISION_USER:"/provision-demo-user",QUEUE_CLEANUP:"/queue-cleanup",END_SESSION:"/sessions/end-session",DOWNLOAD_EXPORT:"/export",CRON:"/cron",IMMAGNIFY:{GENERATE:{LEADS:{WEBHOOK:"/warmly-generate/leads-webhook"}},SIGNALS:{COMPANIES:{INTENT:{WEBHOOK:"/warmly-signal/companies/intent",SOCIALINTENT:"/warmly-signal/companies/socialIntent",SOCIALINTENT_EXPORT:"/warmly-signal/companies/socialIntent/export"},JOB_POSTINGS:{WEBHOOK:"/warmly-signal/companies/job-postings"}},CONTACTS:{EMPLOYMENT_CHANGES:{WEBHOOK:"/warmly-signal/contacts/employment-changes"}}}},DEACTIVATE_INACTIVE_ORGS:"/deactivate-inactive-orgs",WARMGLUE_WEBHOOKS:{HUBSPOT:"/warm-glue/webhooks/hubspot",SALESFORCE:"/warm-glue/webhooks/salesforce",OUTREACH:"/warm-glue/webhooks/outreach"},ENQUEUE_SIGNALS_BY_ORGANIZATION_ID:"/enqueue-signals-by-organization-id",CVI:{WEBHOOK:"/cvi/webhook",LLM_COMPLETIONS:"/cvi/llm/v1/chat/completions"}},ev={PRIVACY_POLICY:"https://warmly.ai/p/privacy-policy"};var Lr={NX_GIPHY_API_KEY:"o7iE2aQ7HSTtqlA0hghByg8qXGcbZSaz",NX_API_ORIGIN:"https://opps-api.getwarmly.com",NX_HASURA_API_ORIGIN:"https://warm-opps-production.hasura.app",NX_CLOUDINARY_API_KEY:"151853927577567"};const tv=(Lr==null?void 0:Lr.NX_CI)==="true"?"ci":iE,du=Lr.NX_API_ORIGIN,aE=du+Ss.BASE,nv=du+Ss.TRPC,rv=du+Ss.SESSIONS_TRPC,lE=du+Ss.GRAPHQL,uE=Lr.NX_API_ORIGIN,cE=Lr.NX_HASURA_API_ORIGIN+Ss.HASURA;lE.replace("http://","ws://").replace("https://","wss://");cE.replace("http://","ws://").replace("https://","wss://");const NP=Lr.NX_CLOUDINARY_API_KEY,BP=Lr.NX_GIPHY_API_KEY,dE="x-warmly-referer",cf="x-warmly-user-identifier",h0="x-warmly-session-id",p0="x-warmly-fingerprint",g0="x-warmly-widget-version",fE="x-warmly-session-source",m0=()=>({[dE]:window.location.href}),Td={isSocketConnected:!1,remoteP2PSocketId:void 0,serverReady:!1};class hE{constructor(){y(this,"isSocketConnected",Td.isSocketConnected);y(this,"remoteP2PSocketId",Td.remoteP2PSocketId);y(this,"serverReady",Td.serverReady);y(this,"socket");y(this,"setIsSocketConnected",t=>this.isSocketConnected=t);y(this,"setRemoteP2PSocketId",t=>this.remoteP2PSocketId=t);y(this,"setServerReady",t=>this.serverReady=t);y(this,"setSocket",t=>{this.socket=t,this.isSocketConnected=!!t});y(this,"disconnectSocket",()=>{var t;(t=this.socket)==null||t.disconnect(),this.setSocket(void 0)});zr(this,{isSocketConnected:q,setIsSocketConnected:M,remoteP2PSocketId:q,setRemoteP2PSocketId:M,serverReady:q,setServerReady:M,socket:!1},{autoBind:!0})}}const be=new hE,pE=e=>{const t=uE,n={extraHeaders:{...m0(),...e==null?void 0:e.extraHeaders},...e};return Al(t,n)},iv=16*(60*1e3);var jl=(e=>(e.FILLED="filled",e.STROKED="stroked",e))(jl||{}),wn=(e=>(e.RIGHT="right",e.FULL="full",e.STACKED="stacked",e))(wn||{}),v0=(e=>(e.LOGO="logo",e.VIDEO="video",e))(v0||{}),So=(e=>(e.BOTTOM_RIGHT="bottom_right",e.BOTTOM_CENTER="bottom_center",e.BOTTOM_LEFT="bottom_left",e))(So||{}),Ol=(e=>(e.WIDGET="widget",e.AI_CHAT="ai_chat",e))(Ol||{}),df=(e=>(e.EMBED="embed",e.CURRENT_TAB="current_tab",e.NEW_TAB="new_tab",e))(df||{});function gE(e){if(typeof e!="object"||e===null)return!1;const t=e;return typeof t.text=="string"&&typeof t.enabled=="boolean"}function mE(e){return Array.isArray(e)?e.every(gE):!1}const sv="linear-gradient(90deg, rgba(255,144,0,0.4) 0%, rgba(199,15,255,0.4) 100%)",vE=e=>({backgroundColor:e.backgroundColor,headerColor:e.headerColor,messageBubbleColor:e.messageBubbleColor,messageBubbleColorPaired:e.messageBubbleColorPaired,buttonColor:e.buttonColor,buttonStyle:e.buttonStyle,buttonAlignment:e.buttonAlignment,cornerRadius:e.cornerRadius,fontFamily:e.fontFamily,widgetLauncherStyle:e.widgetLauncherStyle,widgetLauncherUrl:e.widgetLauncherUrl,widgetPosition:e.widgetPosition,videoGreetingDefaultUrl:e.videoGreetingDefaultUrl,greetingImageHeaderEnabled:e.greetingImageHeaderEnabled,greetingImageHeaderUrl:e.greetingImageHeaderUrl,greetingSenderAvatarEnabled:e.greetingSenderAvatarEnabled,greetingBackgroundColor:e.greetingBackgroundColor,greetingButtonColor:e.greetingButtonColor,greetingButtonStyle:e.greetingButtonStyle,greetingButtonAlignment:e.greetingButtonAlignment,greetingCornerRadius:e.greetingCornerRadius,genericTeamUserName:e.genericTeamUserName,genericTeamUserTagline:e.genericTeamUserTagline,genericTeamUserAvatarUrl:e.genericTeamUserAvatarUrl,customPrivacyPolicyUrl:e.customPrivacyPolicyUrl,customPrivacyPolicyEnabled:e.customPrivacyPolicyEnabled,calendarOpenMode:e.calendarOpenMode}),Vo=e=>{if(!e||typeof e!="string")return{r:0,g:0,b:0};let t=e.startsWith("#")?e.slice(1):e;t.length===3&&(t=t.split("").map(l=>l+l).join(""));const n=Number.parseInt(t.slice(0,2),16)||0,i=Number.parseInt(t.slice(2,4),16)||0,o=Number.parseInt(t.slice(4,6),16)||0;return{r:n,g:i,b:o}},yE=12,Mr="#6366f1",ff="#f9fafb",Pd="#fff",kt=(e,t=Mr)=>{if(!e.includes("gradient"))return e;const n=e.match(/#([0-9A-Fa-f]{6})\b/);if(n)return n[0];const i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(i){const o=Number.parseInt(i[1],10).toString(16).padStart(2,"0"),l=Number.parseInt(i[2],10).toString(16).padStart(2,"0"),c=Number.parseInt(i[3],10).toString(16).padStart(2,"0");return`#${o}${l}${c}`.toUpperCase()}return t},y0=(e,t)=>t&&e.greetingCornerRadius!==null?e.greetingCornerRadius:e.cornerRadius,gl=(e,t)=>{const n=e.cornerRadius;return Math.min(n,yE)},Tn=(e,t)=>t&&e.greetingButtonColor?e.greetingButtonColor:e.buttonColor||Mr,hf=(e,t)=>t&&e.greetingButtonStyle?e.greetingButtonStyle:e.buttonStyle,S0=(e,t)=>t&&e.greetingButtonAlignment?e.greetingButtonAlignment:t?wn.FULL:e.buttonAlignment,Ao=(e,t)=>t&&e.greetingBackgroundColor?e.greetingBackgroundColor:t?e.headerColor||Mr:e.backgroundColor||ff,SE=.55,w0=e=>{if(!e)return"#fff";const t=e.includes("gradient")?kt(e):e,{r:n,g:i,b:o}=Vo(t);return Number.isNaN(n)||Number.isNaN(i)||Number.isNaN(o)||(.299*n+.587*i+.114*o)/255>SE?"#000":"#fff"},wE=(e,t)=>w0(e)==="#000"?`rgba(0,0,0,${t})`:`rgba(255,255,255,${t})`,ov=e=>{const{settings:t,isGreeting:n,getContrastText:i}=e;if(!t)return{};const o=hf(t,n),l=Tn(t,n),c=kt(l),f=y0(t,n),p=S0(t,n),g=Ao(t,n),v=kt(g),S=_E(p),_={borderRadius:`${f}px`,fontFamily:t.fontFamily,textTransform:"none",fontSize:"14px",fontWeight:600,padding:"8px 12px",textAlign:S,boxSizing:"border-box",maxWidth:"100%",minWidth:0,width:p===wn.FULL?"100%":"auto",display:"block",wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"normal",cursor:"pointer",overflow:"hidden",lineHeight:1.4};if(o===jl.FILLED){const ue=i(c);return{..._,background:l,color:ue,border:"none","&:hover":{background:l,opacity:.85}}}const x=l.includes("gradient"),T=g.includes("gradient"),{r:E,g:V,b:Q}=Vo(c),G=`rgba(${E}, ${V}, ${Q}, 0.1)`,Y=i(v),re=i(c);if(x&&T)return{..._,position:"relative",background:"transparent",color:Y,border:"none",zIndex:0,"&::before":{content:'""',position:"absolute",inset:0,padding:"1px",background:l,WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude",zIndex:-1,borderRadius:"inherit",pointerEvents:"none"},"&:hover":{background:G,backgroundColor:G,color:re}};if(x){const ue=`linear-gradient(${G}, ${G}) padding-box, ${l} border-box`;return{..._,background:`linear-gradient(${v}, ${v}) padding-box, ${l} border-box`,color:Y,border:"1px solid transparent",borderColor:"transparent","&:hover":{background:ue,backgroundColor:"transparent",border:"1px solid transparent",borderColor:"transparent",color:re}}}return{..._,background:"transparent",color:Y,border:`1px solid ${c}`,borderColor:c,"&:hover":{background:G,backgroundColor:G,border:`1px solid ${c}`,borderColor:c,color:re}}},LP=e=>{const{settings:t,isGreeting:n,getContrastText:i}=e;if(!t)return{};const o=Tn(t,n),l=kt(o),c=y0(t,n),f=Ao(t,n),p=kt(f),g={borderRadius:`${c}px`,fontFamily:t.fontFamily,textTransform:"none",fontSize:"14px",fontWeight:600,padding:"8px 16px",textAlign:"center",cursor:"pointer",lineHeight:1.4},v=o.includes("gradient"),S=f.includes("gradient"),{r:_,g:x,b:T}=Vo(l),E=`rgba(${_}, ${x}, ${T}, 0.1)`,V=l,Q=i(l),G={marginRight:"8px",fontSize:"18px",color:"inherit"};if(v&&S)return{...g,position:"relative",background:"transparent",color:V,border:"none",zIndex:0,iconStyles:G,"&::before":{content:'""',position:"absolute",inset:0,padding:"1px",background:o,WebkitMask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",WebkitMaskComposite:"xor",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude",zIndex:-1,borderRadius:"inherit",pointerEvents:"none"},"&:hover":{background:E,backgroundColor:E,color:Q}};if(v){const Y=`linear-gradient(${E}, ${E}) padding-box, ${o} border-box`;return{...g,background:`linear-gradient(${p}, ${p}) padding-box, ${o} border-box`,color:V,border:"1px solid transparent",borderColor:"transparent",iconStyles:G,"&:hover":{background:Y,backgroundColor:"transparent",border:"1px solid transparent",borderColor:"transparent",color:Q}}}return{...g,background:"transparent",color:V,border:`1px solid ${l}`,borderColor:l,iconStyles:G,"&:hover":{background:E,backgroundColor:E,border:`1px solid ${l}`,borderColor:l,color:Q}}},UP=e=>{switch(e){case wn.RIGHT:return{flexDirection:"column",alignItems:"flex-end"};case wn.FULL:return{flexDirection:"column",alignItems:"stretch",width:"100%"};case wn.STACKED:default:return{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}}},_E=e=>{switch(e){case wn.RIGHT:return"left";case wn.FULL:return"center";case wn.STACKED:default:return"left"}},bE=(e,t,n)=>(...i)=>{const o=n!=null&&n.getState?n.getState:()=>({loading:!1,value:void 0,error:void 0}),{allowNull:l=!0}=n||{};Mt(()=>o().loading=!0),e(...i).then(c=>{const f=t?t(c):c;if(!l&&!f){n!=null&&n.onError&&(n==null||n.onError(new Error("")));return}Mt(()=>{o().value=f,o().error=void 0,n!=null&&n.onSuccess&&(n==null||n.onSuccess(f))})}).catch(c=>Mt(()=>{o().error=c,n!=null&&n.onError&&(n==null||n.onError(c))})).finally(()=>Mt(()=>o().loading=!1))},Vd=(e,t)=>bE(e,n=>n,t),AE="modulepreload",CE=function(e){return"https://opps-widget.getwarmly.com/"+e},av={},_0=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));o=c(n.map(g=>{if(g=CE(g),g in av)return;av[g]=!0;const v=g.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${S}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":AE,v||(_.as="script"),_.crossOrigin="",_.href=g,p&&_.setAttribute("nonce",p),document.head.appendChild(_),v)return new Promise((x,T)=>{_.addEventListener("load",x),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&l(f.reason);return t().catch(l)})};var zt=Uint8Array,jt=Uint16Array,Zf=Int32Array,eh=new zt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),th=new zt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lv=new zt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b0=function(e,t){for(var n=new jt(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var o=new Zf(n[30]),i=1;i<30;++i)for(var l=n[i];l<n[i+1];++l)o[l]=l-n[i]<<5|i;return{b:n,r:o}},A0=b0(eh,2),EE=A0.b,pf=A0.r;EE[28]=258,pf[258]=28;var kE=b0(th,0),uv=kE.r,gf=new jt(32768);for(var We=0;We<32768;++We){var Or=(We&43690)>>1|(We&21845)<<1;Or=(Or&52428)>>2|(Or&13107)<<2,Or=(Or&61680)>>4|(Or&3855)<<4,gf[We]=((Or&65280)>>8|(Or&255)<<8)>>1}var Co=function(e,t,n){for(var i=e.length,o=0,l=new jt(t);o<i;++o)e[o]&&++l[e[o]-1];var c=new jt(t);for(o=1;o<t;++o)c[o]=c[o-1]+l[o-1]<<1;var f;if(n){f=new jt(1<<t);var p=15-t;for(o=0;o<i;++o)if(e[o])for(var g=o<<4|e[o],v=t-e[o],S=c[e[o]-1]++<<v,_=S|(1<<v)-1;S<=_;++S)f[gf[S]>>p]=g}else for(f=new jt(i),o=0;o<i;++o)e[o]&&(f[o]=gf[c[e[o]-1]++]>>15-e[o]);return f},mi=new zt(288);for(var We=0;We<144;++We)mi[We]=8;for(var We=144;We<256;++We)mi[We]=9;for(var We=256;We<280;++We)mi[We]=7;for(var We=280;We<288;++We)mi[We]=8;var zl=new zt(32);for(var We=0;We<32;++We)zl[We]=5;var OE=Co(mi,9,0),IE=Co(zl,5,0),C0=function(e){return(e+7)/8|0},E0=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new zt(e.subarray(t,n))},Kn=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},ho=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},Rd=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var o=n.length,l=n.slice();if(!o)return{t:O0,l:0};if(o==1){var c=new zt(n[0].s+1);return c[n[0].s]=1,{t:c,l:1}}n.sort(function(ue,Se){return ue.f-Se.f}),n.push({s:-1,f:25001});var f=n[0],p=n[1],g=0,v=1,S=2;for(n[0]={s:-1,f:f.f+p.f,l:f,r:p};v!=o-1;)f=n[n[g].f<n[S].f?g++:S++],p=n[g!=v&&n[g].f<n[S].f?g++:S++],n[v++]={s:-1,f:f.f+p.f,l:f,r:p};for(var _=l[0].s,i=1;i<o;++i)l[i].s>_&&(_=l[i].s);var x=new jt(_+1),T=mf(n[v-1],x,0);if(T>t){var i=0,E=0,V=T-t,Q=1<<V;for(l.sort(function(Se,R){return x[R.s]-x[Se.s]||Se.f-R.f});i<o;++i){var G=l[i].s;if(x[G]>t)E+=Q-(1<<T-x[G]),x[G]=t;else break}for(E>>=V;E>0;){var Y=l[i].s;x[Y]<t?E-=1<<t-x[Y]++-1:++i}for(;i>=0&&E;--i){var re=l[i].s;x[re]==t&&(--x[re],++E)}T=t}return{t:new zt(x),l:T}},mf=function(e,t,n){return e.s==-1?Math.max(mf(e.l,t,n+1),mf(e.r,t,n+1)):t[e.s]=n},cv=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new jt(++t),i=0,o=e[0],l=1,c=function(p){n[i++]=p},f=1;f<=t;++f)if(e[f]==o&&f!=t)++l;else{if(!o&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(o),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(o);l=1,o=e[f]}return{c:n.subarray(0,i),n:t}},po=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},k0=function(e,t,n){var i=n.length,o=C0(t+2);e[o]=i&255,e[o+1]=i>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var l=0;l<i;++l)e[o+l+4]=n[l];return(o+4+i)*8},dv=function(e,t,n,i,o,l,c,f,p,g,v){Kn(t,v++,n),++o[256];for(var S=Rd(o,15),_=S.t,x=S.l,T=Rd(l,15),E=T.t,V=T.l,Q=cv(_),G=Q.c,Y=Q.n,re=cv(E),ue=re.c,Se=re.n,R=new jt(19),L=0;L<G.length;++L)++R[G[L]&31];for(var L=0;L<ue.length;++L)++R[ue[L]&31];for(var j=Rd(R,7),X=j.t,Ie=j.l,Ee=19;Ee>4&&!X[lv[Ee-1]];--Ee);var Me=g+5<<3,De=po(o,mi)+po(l,zl)+c,Ne=po(o,_)+po(l,E)+c+14+3*Ee+po(R,X)+2*R[16]+3*R[17]+7*R[18];if(p>=0&&Me<=De&&Me<=Ne)return k0(t,v,e.subarray(p,p+g));var Pe,ye,H,ae;if(Kn(t,v,1+(Ne<De)),v+=2,Ne<De){Pe=Co(_,x,0),ye=_,H=Co(E,V,0),ae=E;var Z=Co(X,Ie,0);Kn(t,v,Y-257),Kn(t,v+5,Se-1),Kn(t,v+10,Ee-4),v+=14;for(var L=0;L<Ee;++L)Kn(t,v+3*L,X[lv[L]]);v+=3*Ee;for(var C=[G,ue],D=0;D<2;++D)for(var me=C[D],L=0;L<me.length;++L){var pe=me[L]&31;Kn(t,v,Z[pe]),v+=X[pe],pe>15&&(Kn(t,v,me[L]>>5&127),v+=me[L]>>12)}}else Pe=OE,ye=mi,H=IE,ae=zl;for(var L=0;L<f;++L){var he=i[L];if(he>255){var pe=he>>18&31;ho(t,v,Pe[pe+257]),v+=ye[pe+257],pe>7&&(Kn(t,v,he>>23&31),v+=eh[pe]);var we=he&31;ho(t,v,H[we]),v+=ae[we],we>3&&(ho(t,v,he>>5&8191),v+=th[we])}else ho(t,v,Pe[he]),v+=ye[he]}return ho(t,v,Pe[256]),v+ye[256]},xE=new Zf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O0=new zt(0),TE=function(e,t,n,i,o,l){var c=l.z||e.length,f=new zt(i+c+5*(1+Math.ceil(c/7e3))+o),p=f.subarray(i,f.length-o),g=l.l,v=(l.r||0)&7;if(t){v&&(p[0]=l.r>>3);for(var S=xE[t-1],_=S>>13,x=S&8191,T=(1<<n)-1,E=l.p||new jt(32768),V=l.h||new jt(T+1),Q=Math.ceil(n/3),G=2*Q,Y=function(qr){return(e[qr]^e[qr+1]<<Q^e[qr+2]<<G)&T},re=new Zf(25e3),ue=new jt(288),Se=new jt(32),R=0,L=0,j=l.i||0,X=0,Ie=l.w||0,Ee=0;j+2<c;++j){var Me=Y(j),De=j&32767,Ne=V[Me];if(E[De]=Ne,V[Me]=De,Ie<=j){var Pe=c-j;if((R>7e3||X>24576)&&(Pe>423||!g)){v=dv(e,p,0,re,ue,Se,L,X,Ee,j-Ee,v),X=R=L=0,Ee=j;for(var ye=0;ye<286;++ye)ue[ye]=0;for(var ye=0;ye<30;++ye)Se[ye]=0}var H=2,ae=0,Z=x,C=De-Ne&32767;if(Pe>2&&Me==Y(j-C))for(var D=Math.min(_,Pe)-1,me=Math.min(32767,j),pe=Math.min(258,Pe);C<=me&&--Z&&De!=Ne;){if(e[j+H]==e[j+H-C]){for(var he=0;he<pe&&e[j+he]==e[j+he-C];++he);if(he>H){if(H=he,ae=C,he>D)break;for(var we=Math.min(C,he-2),Ve=0,ye=0;ye<we;++ye){var ke=j-C+ye&32767,Le=E[ke],vt=ke-Le&32767;vt>Ve&&(Ve=vt,Ne=ke)}}}De=Ne,Ne=E[De],C+=De-Ne&32767}if(ae){re[X++]=268435456|pf[H]<<18|uv[ae];var Gr=pf[H]&31,ws=uv[ae]&31;L+=eh[Gr]+th[ws],++ue[257+Gr],++Se[ws],Ie=j+H,++R}else re[X++]=e[j],++ue[e[j]]}}for(j=Math.max(j,Ie);j<c;++j)re[X++]=e[j],++ue[e[j]];v=dv(e,p,g,re,ue,Se,L,X,Ee,j-Ee,v),g||(l.r=v&7|p[v/8|0]<<3,v-=7,l.h=V,l.p=E,l.i=j,l.w=Ie)}else{for(var j=l.w||0;j<c+g;j+=65535){var ar=j+65535;ar>=c&&(p[v/8|0]=g,ar=c),v=k0(p,v+1,e.subarray(j,ar))}l.i=c}return E0(f,0,i+C0(v)+o)},I0=function(){var e=1,t=0;return{p:function(n){for(var i=e,o=t,l=n.length|0,c=0;c!=l;){for(var f=Math.min(c+2655,l);c<f;++c)o+=i+=n[c];i=(i&65535)+15*(i>>16),o=(o&65535)+15*(o>>16)}e=i,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},PE=function(e,t,n,i,o){if(!o&&(o={l:1},t.dictionary)){var l=t.dictionary.subarray(-32768),c=new zt(l.length+e.length);c.set(l),c.set(e,l.length),e=c,o.w=l.length}return TE(e,t.level==null?6:t.level,t.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,o)},x0=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},VE=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var o=I0();o.p(t.dictionary),x0(e,2,o.d())}};function RE(e,t){t||(t={});var n=I0();n.p(e);var i=PE(e,t,t.dictionary?6:2,4);return VE(i,t),x0(i,i.length-4,n.d()),i}var fv=typeof TextEncoder<"u"&&new TextEncoder,ME=typeof TextDecoder<"u"&&new TextDecoder,DE=0;try{ME.decode(O0,{stream:!0}),DE=1}catch{}function NE(e,t){var n;if(fv)return fv.encode(e);for(var i=e.length,o=new zt(e.length+(e.length>>1)),l=0,c=function(g){o[l++]=g},n=0;n<i;++n){if(l+5>o.length){var f=new zt(l+8+(i-n<<1));f.set(o),o=f}var p=e.charCodeAt(n);p<128||t?c(p):p<2048?(c(192|p>>6),c(128|p&63)):p>55295&&p<57344?(p=65536+(p&1047552)|e.charCodeAt(++n)&1023,c(240|p>>18),c(128|p>>12&63),c(128|p>>6&63),c(128|p&63)):(c(224|p>>12),c(128|p>>6&63),c(128|p&63))}return E0(o,0,l)}function BE(e,t){var n,i;{for(var i="",o=0;o<e.length;o+=16384)i+=String.fromCharCode.apply(null,e.subarray(o,o+16384));return i}}const LE=["[id*='toucan']","[class^='tou-']","grammarly-extension","grammarly-desktop-integration","grammarly-mirror",'[data-grammarly-part="button"]','[data-grammarly-part="gbuttonBadge"]','[data-grammarly-part="highlights"]','[data-grammarly-part="single-card-assistant"]','[data-grammarly-part="single-card-assistant-header"]','[data-grammarly-part="single-card-assistant-content"]','[data-grammarly-part="fonts-preloader"]','[data-grammarly-part="outer-elements-wrapper"]','[data-grammarly-part="expanded-gbutton"]','[data-grammarly-part="mirror"]','[data-grammarly-part="gdocs-sidebar"]','[data-grammarly-shadow-root="true"]'],UE="v1",FE=e=>{if(e.type!==2)return e;const t={...e,v:UE};return BE(RE(NE(JSON.stringify(t))))},T0=e=>["matrix","translate","rotate","scale","skew","perspective"].some(n=>e.includes(n.toLocaleLowerCase())),$E=e=>{var p,g,v,S,_;const t=e==null?void 0:e.style;if(!!!(t&&typeof t!="string"))return!0;const i=t;if(Object.keys(i).length===1&&i["background-image"])return!1;const o=Object.keys(e).length===1&&((p=Object.keys(e))==null?void 0:p[0])==="style",l=((g=Object.keys(i))==null?void 0:g.includes("opacity"))&&i.opacity!=="1"&&i.opacity!=="0",c=((v=Object.keys(i))==null?void 0:v.length)===1&&((S=Object.keys(i))==null?void 0:S[0])==="will-change",f=((_=Object.keys(i))==null?void 0:_.includes("transform"))&&typeof i.transform=="string"&&T0(i.transform);return!(o&&(l||c||f))},jE=["style","transform"],P0=["stop-color","stroke","stroke-width","stroke-opacity","d"],zE=jE.concat(P0),WE=e=>e.every(t=>!Object.keys(t).some(n=>zE.includes(n))),HE=e=>!Object.keys(e).some(t=>P0.includes(t)),GE=e=>{const t=e==null?void 0:e.transform;return!(t&&typeof t=="string")?!0:!T0(t)},qE=e=>{if(e.type!==3||e.data.source!==0)return!0;const n=e.data.attributes.map(o=>o.attributes);return WE(n)?!0:n.every(o=>!$E(o)||!GE(o)?!1:HE(o))},KE=e=>(e?e+", ":"")+LE.join(","),QE=e=>{var n,i;const t=((n=e==null?void 0:e.config)==null?void 0:n.rrwebRecordOptions)||{};return{...t,ignoreCSSAttributes:t.ignoreCSSAttributes?new Set(t.ignoreCSSAttributes):void 0,emit:e.emit,packFn:(i=e.config)!=null&&i.compressFullSnapshotEvents?FE:void 0,blockSelector:KE(t==null?void 0:t.blockSelector)}};class YE{constructor(){y(this,"isLoaded",!1);y(this,"isRecording",!1);y(this,"roomSize",0);y(this,"recordStopFn");y(this,"snapshotIntervalId");y(this,"maxSnapshotAttempts",15);y(this,"snapshotAttempts",0);y(this,"initialized",!1);y(this,"rrwebModule",null);y(this,"rrwebLoadPromise",null);y(this,"setRoomSize",t=>{this.roomSize=t});y(this,"loadRRWeb",async()=>{if(!this.isLoaded)try{await this._loadRRWebModule(),this.isLoaded=!0,ie.info("RRWeb module loaded",{location:"CaptureStore.loadRRWeb"})}catch(t){throw ie.error("Failed to load RRWeb module",{error:t,location:"CaptureStore.loadRRWeb"}),t}});y(this,"_loadRRWebModule",async()=>this.rrwebModule?this.rrwebModule:this.rrwebLoadPromise?this.rrwebLoadPromise:(this.rrwebLoadPromise=_0(()=>import("./rrweb-BPbOC8VF.js"),[]).then(t=>(this.rrwebModule={EventType:t.EventType,IncrementalSource:t.IncrementalSource,record:t.record},this.rrwebModule)),this.rrwebLoadPromise));y(this,"getRRWeb",()=>{if(!this.rrwebModule)throw new Error("RRWeb has not been loaded yet. Call loadRRWeb() first.");return this.rrwebModule});y(this,"isRRWebLoaded",()=>this.rrwebModule!==null);y(this,"startRecording",async(t,n)=>{if(this.isRecording){this.takeSnapshot();return}this.isLoaded||await this.loadRRWeb();try{const{record:i}=this.getRRWeb(),o=QE({config:t,emit:n});this.recordStopFn=i(o),this.isRecording=!0}catch(i){throw ie.error("Failed to start RRWeb recording",{error:i,location:"CaptureStore.startRecording"}),i}});y(this,"stopRecording",()=>{this.isRecording&&(this.recordStopFn&&(this.recordStopFn(),this.recordStopFn=void 0),this.clearSnapshotInterval(),this.isRecording=!1,this.initialized=!1,this.snapshotAttempts=0,ie.info("RRWeb recording stopped",{location:"CaptureStore.stopRecording"}))});y(this,"takeSnapshot",()=>{if(!this.isLoaded){ie.warn("Cannot take snapshot: RRWeb not loaded",{location:"CaptureStore.takeSnapshot"});return}try{const{record:t}=this.getRRWeb();t.takeFullSnapshot()}catch(t){ie.error("Failed to take snapshot",{error:t,location:"CaptureStore.takeSnapshot"})}});y(this,"startSnapshotInterval",()=>{if(this.snapshotIntervalId||!this.isLoaded)return;this.initialized=!1,this.snapshotAttempts=0;const t=()=>{if(this.initialized||this.snapshotAttempts>this.maxSnapshotAttempts){this.clearSnapshotInterval(),this.snapshotAttempts=0;return}this.takeSnapshot(),this.snapshotAttempts++};t(),this.snapshotIntervalId=window.setInterval(()=>t(),3e3)});y(this,"setInitialized",t=>{this.initialized=t,t&&this.clearSnapshotInterval()});y(this,"clearSnapshotInterval",()=>{this.snapshotIntervalId&&(clearInterval(this.snapshotIntervalId),this.snapshotIntervalId=void 0)});y(this,"reset",()=>{this.stopRecording(),this.roomSize=0,this.isLoaded=!1,this.rrwebModule=null,this.rrwebLoadPromise=null});zr(this,{isLoaded:q,isRecording:q,roomSize:q,initialized:q,shouldRecord:oe,setRoomSize:M,loadRRWeb:M,startRecording:M,stopRecording:M,takeSnapshot:M,setInitialized:M,reset:M})}get shouldRecord(){return this.roomSize>0}}const At=new YE,XE=e=>{jo.on("receivedP2PMessage",t=>{t.event==="video-state-changed"?e.webRtcStore.mediaStore.setRemoteVideoOn(t.payload.videoOn):t.event==="mic-state-changed"&&e.webRtcStore.mediaStore.setRemoteMicOn(t.payload.micOn)})},JE=()=>jo.off("receivedP2PMessage"),ZE=[{urls:["stun:us-turn4.xirsys.com"]},{username:"PvLJDpyuuyzUipceEtX3oFsiSmU3MBWAf9onI4j016VM6vHR6gzKBAsz_t0z9r2vAAAAAGQKUa9XYXJtbHlEZXY=",credential:"a4c3162a-bec2-11ed-bde9-0242ac140004",urls:["turn:us-turn4.xirsys.com:80?transport=udp","turn:us-turn4.xirsys.com:3478?transport=udp","turn:us-turn4.xirsys.com:80?transport=tcp","turn:us-turn4.xirsys.com:3478?transport=tcp","turns:us-turn4.xirsys.com:443?transport=tcp","turns:us-turn4.xirsys.com:5349?transport=tcp"]}],ek={iceServers:ZE},tk={offerToReceiveAudio:!0,offerToReceiveVideo:!0},nk=e=>{try{JSON.parse(e||"")}catch{return!1}return!0},Wl=e=>{if(e)try{return JSON.parse(e)}catch{return}};var Xo=new Map,rk=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(v){try{g(i.next(v))}catch(S){c(S)}}function p(v){try{g(i.throw(v))}catch(S){c(S)}}function g(v){v.done?l(v.value):o(v.value).then(f,p)}g((i=i.apply(e,t||[])).next())})},ik=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(i=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},V0=function(e){return rk(void 0,void 0,void 0,function(){var t;return ik(this,function(n){switch(n.label){case 0:return[4,(t=Xo.get(e))===null||t===void 0?void 0:t.clearPersistedStore()];case 1:return n.sent(),[2]}})})},es={},sk={},R0=function(e){var t,n;return(n=(t=Xo.get(e))===null||t===void 0?void 0:t.isHydrated)!==null&&n!==void 0?n:!1},ok=function(e){return new Date().getTime()+e},ak=function(e){var t=new Date().getTime(),n=new Date(e).getTime();return n<=t},lk=function(e){return!!e&&Array.isArray(e)===!1&&typeof e=="object"},uk=function(e,t){},ck=function(e,t){},dk=function(e,t){},fk=function(e,t){},Ir=function(e,t,n){},hk=function(e){return Array.isArray(e)?e.every(function(t){return Array.isArray(t)}):!1},pk=function(e){return Array.isArray(e)},gk=function(e,t){return Object.keys(e).forEach(function(n){return t(e[n])&&delete e[n]}),e},Md=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(v){try{g(i.next(v))}catch(S){c(S)}}function p(v){try{g(i.throw(v))}catch(S){c(S)}}function g(v){v.done?l(v.value):o(v.value).then(f,p)}g((i=i.apply(e,t||[])).next())})},Dd=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(i=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},mk=function(){function e(t){this.options=t}return e.prototype.setItem=function(t,n){var i;return Md(this,void 0,void 0,function(){var o,l,c,f,p,g;return Dd(this,function(v){switch(v.label){case 0:return o=this.options,l=o.stringify,c=l===void 0?!0:l,o.debugMode,f=gk({expireInTimestamp:this.options.expireIn?ok(this.options.expireIn):void 0,version:this.options.version},function(S){return S===void 0}),p=Object.keys(f).length?Object.assign({},n,{__mps__:f}):n,g=c?JSON.stringify(p):p,[4,(i=this.options.storage)===null||i===void 0?void 0:i.setItem(t,g)];case 1:return v.sent(),[2]}})})},e.prototype.getItem=function(t){var n,i,o;return Md(this,void 0,void 0,function(){var l,c,f,p,g,v,S,_;return Dd(this,function(x){switch(x.label){case 0:return l=this.options,c=l.removeOnExpiration,f=c===void 0?!0:c,l.debugMode,p=l.version,[4,(n=this.options.storage)===null||n===void 0?void 0:n.getItem(t)];case 1:g=x.sent();try{v=JSON.parse(g)||{}}catch{v=g||{}}return S=ak((i=v.__mps__)===null||i===void 0?void 0:i.expireInTimestamp),_=p&&((o=v.__mps__)===null||o===void 0?void 0:o.version)!==p,S&&f||_?[4,this.removeItem(t)]:[3,3];case 2:x.sent(),x.label=3;case 3:return v=S||_?{}:v,[2,v]}})})},e.prototype.removeItem=function(t){var n;return Md(this,void 0,void 0,function(){return Dd(this,function(i){switch(i.label){case 0:return this.options.debugMode,[4,(n=this.options.storage)===null||n===void 0?void 0:n.removeItem(t)];case 1:return i.sent(),[2]}})})},e}(),vk=function(e){var t=["key","serialize","deserialize"];return lk(e)?t.every(function(n){return!!(e.hasOwnProperty(n)&&typeof n<"u")}):!1},yk=function(e){return e.reduce(function(t,n){return typeof n=="string"?(t.push({key:n,serialize:function(i){return i},deserialize:function(i){return i}}),t):(vk(n)&&t.push(n),t)},[])},go=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(v){try{g(i.next(v))}catch(S){c(S)}}function p(v){try{g(i.throw(v))}catch(S){c(S)}}function g(v){v.done?l(v.value):o(v.value).then(f,p)}g((i=i.apply(e,t||[])).next())})},mo=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(i=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Sk=function(){function e(t,n,i){i===void 0&&(i={});var o,l,c,f,p,g,v,S;this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null,this.version=void 0,this.debugMode=!1,this.isHydrated=!1,this.isPersisting=!1,this.storageName="",this.target=t,this.storageName=n.name,this.version=(o=n.version)!==null&&o!==void 0?o:es.version,this.properties=yk(n.properties),this.reactionOptions=Object.assign({fireImmediately:!0},sk,i),this.debugMode=(c=(l=n.debugMode)!==null&&l!==void 0?l:es.debugMode)!==null&&c!==void 0?c:!1,this.storageAdapter=new mk({version:this.version,expireIn:(f=n.expireIn)!==null&&f!==void 0?f:es.expireIn,removeOnExpiration:(g=(p=n.removeOnExpiration)!==null&&p!==void 0?p:es.removeOnExpiration)!==null&&g!==void 0?g:!0,stringify:(S=(v=n.stringify)!==null&&v!==void 0?v:es.stringify)!==null&&S!==void 0?S:!0,storage:n.storage?n.storage:es.storage,debugMode:this.debugMode}),zr(this,{clearPersistedStore:M,hydrateStore:M,isHydrated:q,isPersisting:q,pausePersisting:M,startPersisting:M,stopPersisting:M},{autoBind:!0,deep:!1}),uk(this.storageAdapter.options.storage,this.storageName),Ir(this.debugMode,"".concat(this.storageName," - (makePersistable)"),{properties:this.properties,storageAdapter:this.storageAdapter,reactionOptions:this.reactionOptions})}return e.prototype.init=function(){return go(this,void 0,void 0,function(){return mo(this,function(t){switch(t.label){case 0:return[4,this.hydrateStore()];case 1:return t.sent(),this.startPersisting(),[2,this]}})})},e.prototype.hydrateStore=function(){return go(this,void 0,void 0,function(){var t,n,i,o=this;return mo(this,function(l){switch(l.label){case 0:return t=!!this.cancelWatch,this.isPersisting&&this.pausePersisting(),Mt(function(){o.isHydrated=!1,Ir(o.debugMode,"".concat(o.storageName," - (hydrateStore) isHydrated:"),o.isHydrated)}),this.storageAdapter&&this.target?[4,this.storageAdapter.getItem(this.storageName)]:[3,2];case 1:n=l.sent(),i=this.target,n&&Mt(function(){o.properties.forEach(function(c){var f=[c.key in i,typeof n[c.key]<"u"].every(Boolean);if(f){var p=n[c.key];i[c.key]instanceof Fl&&hk(p)?i[c.key]=c.deserialize(new Map(p)):i[c.key]instanceof $l&&pk(p)?i[c.key]=c.deserialize(new Set(p)):i[c.key]=c.deserialize(p)}})}),l.label=2;case 2:return Mt(function(){o.isHydrated=!0,Ir(o.debugMode,"".concat(o.storageName," - isHydrated:"),o.isHydrated)}),t&&this.startPersisting(),[2]}})})},e.prototype.startPersisting=function(){var t=this;if(!(!this.storageAdapter||!this.target||this.cancelWatch)){var n=this.target;this.cancelWatch=Ke(function(){var i={};return t.properties.forEach(function(o){var l=NC(n,o.key),c=cs(n[o.key]);if(dk(l,String(o.key)),fk(c,String(o.key)),!l&&!c){var f=o.serialize(n[o.key]);if(f instanceof Fl){var p=[];f.forEach(function(g,v){p.push([v,Ed(g)])}),f=p}else f instanceof $l&&(f=Array.from(f).map(Ed));i[o.key]=Ed(f)}}),i},function(i){return go(t,void 0,void 0,function(){return mo(this,function(o){switch(o.label){case 0:return this.storageAdapter?[4,this.storageAdapter.setItem(this.storageName,i)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},this.reactionOptions),this.isPersisting=!0,Ir(this.debugMode,"".concat(this.storageName," - (startPersisting) isPersisting:"),this.isPersisting)}},e.prototype.pausePersisting=function(){this.isPersisting=!1,Ir(this.debugMode,"".concat(this.storageName," - pausePersisting (isPersisting):"),this.isPersisting),this.cancelWatch&&(this.cancelWatch(),this.cancelWatch=null)},e.prototype.stopPersisting=function(){this.pausePersisting(),Ir(this.debugMode,"".concat(this.storageName," - (stopPersisting)")),Xo.delete(this.target),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null},e.prototype.clearPersistedStore=function(){return go(this,void 0,void 0,function(){return mo(this,function(t){switch(t.label){case 0:return this.storageAdapter?(Ir(this.debugMode,"".concat(this.storageName," - (clearPersistedStore)")),[4,this.storageAdapter.removeItem(this.storageName)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.getPersistedStore=function(){return go(this,void 0,void 0,function(){return mo(this,function(t){return this.storageAdapter?(Ir(this.debugMode,"".concat(this.storageName," - (getPersistedStore)")),[2,this.storageAdapter.getItem(this.storageName)]):[2,null]})})},e}(),wk=function(e,t,n,i){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(v){try{g(i.next(v))}catch(S){c(S)}}function p(v){try{g(i.throw(v))}catch(S){c(S)}}function g(v){v.done?l(v.value):o(v.value).then(f,p)}g((i=i.apply(e,[])).next())})},_k=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,o,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(i=1,o&&(l=g[0]&2?o.return:g[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,g[1])).done)return l;switch(o=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(v){g=[6,v],o=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},bk=function(e,t){Xo.set(e,t)},nh=function(e,t,n){return wk(void 0,void 0,void 0,function(){var i,o;return _k(this,function(l){return i=new Sk(e,t,n),o=Array.from(Xo.values()).map(function(c){return c.storageName}).includes(i.storageName),ck(o,i.storageName),bk(e,i),[2,i.init()]})})},M0=typeof global=="object"&&global&&global.Object===Object&&global,Ak=typeof self=="object"&&self&&self.Object===Object&&self,Un=M0||Ak||Function("return this")(),Bn=Un.Symbol,D0=Object.prototype,Ck=D0.hasOwnProperty,Ek=D0.toString,vo=Bn?Bn.toStringTag:void 0;function kk(e){var t=Ck.call(e,vo),n=e[vo];try{e[vo]=void 0;var i=!0}catch{}var o=Ek.call(e);return i&&(t?e[vo]=n:delete e[vo]),o}var Ok=Object.prototype,Ik=Ok.toString;function xk(e){return Ik.call(e)}var Tk="[object Null]",Pk="[object Undefined]",hv=Bn?Bn.toStringTag:void 0;function wi(e){return e==null?e===void 0?Pk:Tk:hv&&hv in Object(e)?kk(e):xk(e)}function Ur(e){return e!=null&&typeof e=="object"}var Vk="[object Symbol]";function rh(e){return typeof e=="symbol"||Ur(e)&&wi(e)==Vk}function Rk(e,t){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}var sn=Array.isArray,pv=Bn?Bn.prototype:void 0,gv=pv?pv.toString:void 0;function N0(e){if(typeof e=="string")return e;if(sn(e))return Rk(e,N0)+"";if(rh(e))return gv?gv.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ln(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ih(e){return e}var Mk="[object AsyncFunction]",Dk="[object Function]",Nk="[object GeneratorFunction]",Bk="[object Proxy]";function sh(e){if(!Ln(e))return!1;var t=wi(e);return t==Dk||t==Nk||t==Mk||t==Bk}var Nd=Un["__core-js_shared__"],mv=function(){var e=/[^.]+$/.exec(Nd&&Nd.keys&&Nd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lk(e){return!!mv&&mv in e}var Uk=Function.prototype,Fk=Uk.toString;function _i(e){if(e!=null){try{return Fk.call(e)}catch{}try{return e+""}catch{}}return""}var $k=/[\\^$.*+?()[\]{}|]/g,jk=/^\[object .+?Constructor\]$/,zk=Function.prototype,Wk=Object.prototype,Hk=zk.toString,Gk=Wk.hasOwnProperty,qk=RegExp("^"+Hk.call(Gk).replace($k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kk(e){if(!Ln(e)||Lk(e))return!1;var t=sh(e)?qk:jk;return t.test(_i(e))}function Qk(e,t){return e==null?void 0:e[t]}function bi(e,t){var n=Qk(e,t);return Kk(n)?n:void 0}var vf=bi(Un,"WeakMap"),vv=Object.create,Yk=function(){function e(){}return function(t){if(!Ln(t))return{};if(vv)return vv(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Xk(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Jk(){}function Zk(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var eO=800,tO=16,nO=Date.now;function rO(e){var t=0,n=0;return function(){var i=nO(),o=tO-(i-n);if(n=i,o>0){if(++t>=eO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function iO(e){return function(){return e}}var Hl=function(){try{var e=bi(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sO=Hl?function(e,t){return Hl(e,"toString",{configurable:!0,enumerable:!1,value:iO(t),writable:!0})}:ih,B0=rO(sO);function oO(e,t,n,i){for(var o=e.length,l=n+-1;++l<o;)if(t(e[l],l,e))return l;return-1}function aO(e){return e!==e}function lO(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}function uO(e,t,n){return t===t?lO(e,t,n):oO(e,aO,n)}function cO(e,t){var n=e==null?0:e.length;return!!n&&uO(e,t,0)>-1}var dO=9007199254740991,fO=/^(?:0|[1-9]\d*)$/;function fu(e,t){var n=typeof e;return t=t??dO,!!t&&(n=="number"||n!="symbol"&&fO.test(e))&&e>-1&&e%1==0&&e<t}function oh(e,t,n){t=="__proto__"&&Hl?Hl(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Jo(e,t){return e===t||e!==e&&t!==t}var hO=Object.prototype,pO=hO.hasOwnProperty;function L0(e,t,n){var i=e[t];(!(pO.call(e,t)&&Jo(i,n))||n===void 0&&!(t in e))&&oh(e,t,n)}function gO(e,t,n,i){var o=!n;n||(n={});for(var l=-1,c=t.length;++l<c;){var f=t[l],p=void 0;p===void 0&&(p=e[f]),o?oh(n,f,p):L0(n,f,p)}return n}var yv=Math.max;function U0(e,t,n){return t=yv(t===void 0?e.length-1:t,0),function(){for(var i=arguments,o=-1,l=yv(i.length-t,0),c=Array(l);++o<l;)c[o]=i[t+o];o=-1;for(var f=Array(t+1);++o<t;)f[o]=i[o];return f[t]=n(c),Xk(e,this,f)}}function mO(e,t){return B0(U0(e,t,ih),e+"")}var vO=9007199254740991;function ah(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=vO}function hu(e){return e!=null&&ah(e.length)&&!sh(e)}function yO(e,t,n){if(!Ln(n))return!1;var i=typeof t;return(i=="number"?hu(n)&&fu(t,n.length):i=="string"&&t in n)?Jo(n[t],e):!1}function SO(e){return mO(function(t,n){var i=-1,o=n.length,l=o>1?n[o-1]:void 0,c=o>2?n[2]:void 0;for(l=e.length>3&&typeof l=="function"?(o--,l):void 0,c&&yO(n[0],n[1],c)&&(l=o<3?void 0:l,o=1),t=Object(t);++i<o;){var f=n[i];f&&e(t,f,i,l)}return t})}var wO=Object.prototype;function lh(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||wO;return e===n}function _O(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var bO="[object Arguments]";function Sv(e){return Ur(e)&&wi(e)==bO}var F0=Object.prototype,AO=F0.hasOwnProperty,CO=F0.propertyIsEnumerable,Ro=Sv(function(){return arguments}())?Sv:function(e){return Ur(e)&&AO.call(e,"callee")&&!CO.call(e,"callee")};function EO(){return!1}var $0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wv=$0&&typeof module=="object"&&module&&!module.nodeType&&module,kO=wv&&wv.exports===$0,_v=kO?Un.Buffer:void 0,OO=_v?_v.isBuffer:void 0,Gl=OO||EO,IO="[object Arguments]",xO="[object Array]",TO="[object Boolean]",PO="[object Date]",VO="[object Error]",RO="[object Function]",MO="[object Map]",DO="[object Number]",NO="[object Object]",BO="[object RegExp]",LO="[object Set]",UO="[object String]",FO="[object WeakMap]",$O="[object ArrayBuffer]",jO="[object DataView]",zO="[object Float32Array]",WO="[object Float64Array]",HO="[object Int8Array]",GO="[object Int16Array]",qO="[object Int32Array]",KO="[object Uint8Array]",QO="[object Uint8ClampedArray]",YO="[object Uint16Array]",XO="[object Uint32Array]",ze={};ze[zO]=ze[WO]=ze[HO]=ze[GO]=ze[qO]=ze[KO]=ze[QO]=ze[YO]=ze[XO]=!0;ze[IO]=ze[xO]=ze[$O]=ze[TO]=ze[jO]=ze[PO]=ze[VO]=ze[RO]=ze[MO]=ze[DO]=ze[NO]=ze[BO]=ze[LO]=ze[UO]=ze[FO]=!1;function JO(e){return Ur(e)&&ah(e.length)&&!!ze[wi(e)]}function ZO(e){return function(t){return e(t)}}var j0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Eo=j0&&typeof module=="object"&&module&&!module.nodeType&&module,e2=Eo&&Eo.exports===j0,Bd=e2&&M0.process,bv=function(){try{var e=Eo&&Eo.require&&Eo.require("util").types;return e||Bd&&Bd.binding&&Bd.binding("util")}catch{}}(),Av=bv&&bv.isTypedArray,uh=Av?ZO(Av):JO,t2=Object.prototype,n2=t2.hasOwnProperty;function z0(e,t){var n=sn(e),i=!n&&Ro(e),o=!n&&!i&&Gl(e),l=!n&&!i&&!o&&uh(e),c=n||i||o||l,f=c?_O(e.length,String):[],p=f.length;for(var g in e)(t||n2.call(e,g))&&!(c&&(g=="length"||o&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||fu(g,p)))&&f.push(g);return f}function W0(e,t){return function(n){return e(t(n))}}var r2=W0(Object.keys,Object),i2=Object.prototype,s2=i2.hasOwnProperty;function o2(e){if(!lh(e))return r2(e);var t=[];for(var n in Object(e))s2.call(e,n)&&n!="constructor"&&t.push(n);return t}function H0(e){return hu(e)?z0(e):o2(e)}function a2(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var l2=Object.prototype,u2=l2.hasOwnProperty;function c2(e){if(!Ln(e))return a2(e);var t=lh(e),n=[];for(var i in e)i=="constructor"&&(t||!u2.call(e,i))||n.push(i);return n}function G0(e){return hu(e)?z0(e,!0):c2(e)}var d2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f2=/^\w*$/;function ch(e,t){if(sn(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||rh(e)?!0:f2.test(e)||!d2.test(e)||t!=null&&e in Object(t)}var Mo=bi(Object,"create");function h2(){this.__data__=Mo?Mo(null):{},this.size=0}function p2(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var g2="__lodash_hash_undefined__",m2=Object.prototype,v2=m2.hasOwnProperty;function y2(e){var t=this.__data__;if(Mo){var n=t[e];return n===g2?void 0:n}return v2.call(t,e)?t[e]:void 0}var S2=Object.prototype,w2=S2.hasOwnProperty;function _2(e){var t=this.__data__;return Mo?t[e]!==void 0:w2.call(t,e)}var b2="__lodash_hash_undefined__";function A2(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mo&&t===void 0?b2:t,this}function vi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}vi.prototype.clear=h2;vi.prototype.delete=p2;vi.prototype.get=y2;vi.prototype.has=_2;vi.prototype.set=A2;function C2(){this.__data__=[],this.size=0}function pu(e,t){for(var n=e.length;n--;)if(Jo(e[n][0],t))return n;return-1}var E2=Array.prototype,k2=E2.splice;function O2(e){var t=this.__data__,n=pu(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():k2.call(t,n,1),--this.size,!0}function I2(e){var t=this.__data__,n=pu(t,e);return n<0?void 0:t[n][1]}function x2(e){return pu(this.__data__,e)>-1}function T2(e,t){var n=this.__data__,i=pu(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}ir.prototype.clear=C2;ir.prototype.delete=O2;ir.prototype.get=I2;ir.prototype.has=x2;ir.prototype.set=T2;var Do=bi(Un,"Map");function P2(){this.size=0,this.__data__={hash:new vi,map:new(Do||ir),string:new vi}}function V2(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function gu(e,t){var n=e.__data__;return V2(t)?n[typeof t=="string"?"string":"hash"]:n.map}function R2(e){var t=gu(this,e).delete(e);return this.size-=t?1:0,t}function M2(e){return gu(this,e).get(e)}function D2(e){return gu(this,e).has(e)}function N2(e,t){var n=gu(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function sr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}sr.prototype.clear=P2;sr.prototype.delete=R2;sr.prototype.get=M2;sr.prototype.has=D2;sr.prototype.set=N2;var B2="Expected a function";function dh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(B2);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],l=n.cache;if(l.has(o))return l.get(o);var c=e.apply(this,i);return n.cache=l.set(o,c)||l,c};return n.cache=new(dh.Cache||sr),n}dh.Cache=sr;var L2=500;function U2(e){var t=dh(e,function(i){return n.size===L2&&n.clear(),i}),n=t.cache;return t}var F2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$2=/\\(\\)?/g,j2=U2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(F2,function(n,i,o,l){t.push(o?l.replace($2,"$1"):i||n)}),t});function z2(e){return e==null?"":N0(e)}function mu(e,t){return sn(e)?e:ch(e,t)?[e]:j2(z2(e))}function Zo(e){if(typeof e=="string"||rh(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function fh(e,t){t=mu(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[Zo(t[n++])];return n&&n==i?e:void 0}function W2(e,t,n){var i=e==null?void 0:fh(e,t);return i===void 0?n:i}function q0(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}var Cv=Bn?Bn.isConcatSpreadable:void 0;function H2(e){return sn(e)||Ro(e)||!!(Cv&&e&&e[Cv])}function G2(e,t,n,i,o){var l=-1,c=e.length;for(n||(n=H2),o||(o=[]);++l<c;){var f=e[l];n(f)?q0(o,f):o[o.length]=f}return o}function q2(e){var t=e==null?0:e.length;return t?G2(e):[]}function K2(e){return B0(U0(e,void 0,q2),e+"")}var K0=W0(Object.getPrototypeOf,Object),Q2="[object Object]",Y2=Function.prototype,X2=Object.prototype,Q0=Y2.toString,J2=X2.hasOwnProperty,Z2=Q0.call(Object);function eI(e){if(!Ur(e)||wi(e)!=Q2)return!1;var t=K0(e);if(t===null)return!0;var n=J2.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Q0.call(n)==Z2}function tI(){this.__data__=new ir,this.size=0}function nI(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function rI(e){return this.__data__.get(e)}function iI(e){return this.__data__.has(e)}var sI=200;function oI(e,t){var n=this.__data__;if(n instanceof ir){var i=n.__data__;if(!Do||i.length<sI-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new sr(i)}return n.set(e,t),this.size=n.size,this}function Dn(e){var t=this.__data__=new ir(e);this.size=t.size}Dn.prototype.clear=tI;Dn.prototype.delete=nI;Dn.prototype.get=rI;Dn.prototype.has=iI;Dn.prototype.set=oI;var Y0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ev=Y0&&typeof module=="object"&&module&&!module.nodeType&&module,aI=Ev&&Ev.exports===Y0,kv=aI?Un.Buffer:void 0;kv&&kv.allocUnsafe;function lI(e,t){return e.slice()}function uI(e,t){for(var n=-1,i=e==null?0:e.length,o=0,l=[];++n<i;){var c=e[n];t(c,n,e)&&(l[o++]=c)}return l}function cI(){return[]}var dI=Object.prototype,fI=dI.propertyIsEnumerable,Ov=Object.getOwnPropertySymbols,hI=Ov?function(e){return e==null?[]:(e=Object(e),uI(Ov(e),function(t){return fI.call(e,t)}))}:cI;function pI(e,t,n){var i=t(e);return sn(e)?i:q0(i,n(e))}function Iv(e){return pI(e,H0,hI)}var yf=bi(Un,"DataView"),Sf=bi(Un,"Promise"),as=bi(Un,"Set"),xv="[object Map]",gI="[object Object]",Tv="[object Promise]",Pv="[object Set]",Vv="[object WeakMap]",Rv="[object DataView]",mI=_i(yf),vI=_i(Do),yI=_i(Sf),SI=_i(as),wI=_i(vf),Pr=wi;(yf&&Pr(new yf(new ArrayBuffer(1)))!=Rv||Do&&Pr(new Do)!=xv||Sf&&Pr(Sf.resolve())!=Tv||as&&Pr(new as)!=Pv||vf&&Pr(new vf)!=Vv)&&(Pr=function(e){var t=wi(e),n=t==gI?e.constructor:void 0,i=n?_i(n):"";if(i)switch(i){case mI:return Rv;case vI:return xv;case yI:return Tv;case SI:return Pv;case wI:return Vv}return t});var ql=Un.Uint8Array;function _I(e){var t=new e.constructor(e.byteLength);return new ql(t).set(new ql(e)),t}function bI(e,t){var n=_I(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}function AI(e){return typeof e.constructor=="function"&&!lh(e)?Yk(K0(e)):{}}var CI="__lodash_hash_undefined__";function EI(e){return this.__data__.set(e,CI),this}function kI(e){return this.__data__.has(e)}function No(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sr;++t<n;)this.add(e[t])}No.prototype.add=No.prototype.push=EI;No.prototype.has=kI;function OI(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function X0(e,t){return e.has(t)}var II=1,xI=2;function J0(e,t,n,i,o,l){var c=n&II,f=e.length,p=t.length;if(f!=p&&!(c&&p>f))return!1;var g=l.get(e),v=l.get(t);if(g&&v)return g==t&&v==e;var S=-1,_=!0,x=n&xI?new No:void 0;for(l.set(e,t),l.set(t,e);++S<f;){var T=e[S],E=t[S];if(i)var V=c?i(E,T,S,t,e,l):i(T,E,S,e,t,l);if(V!==void 0){if(V)continue;_=!1;break}if(x){if(!OI(t,function(Q,G){if(!X0(x,G)&&(T===Q||o(T,Q,n,i,l)))return x.push(G)})){_=!1;break}}else if(!(T===E||o(T,E,n,i,l))){_=!1;break}}return l.delete(e),l.delete(t),_}function TI(e){var t=-1,n=Array(e.size);return e.forEach(function(i,o){n[++t]=[o,i]}),n}function hh(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var PI=1,VI=2,RI="[object Boolean]",MI="[object Date]",DI="[object Error]",NI="[object Map]",BI="[object Number]",LI="[object RegExp]",UI="[object Set]",FI="[object String]",$I="[object Symbol]",jI="[object ArrayBuffer]",zI="[object DataView]",Mv=Bn?Bn.prototype:void 0,Ld=Mv?Mv.valueOf:void 0;function WI(e,t,n,i,o,l,c){switch(n){case zI:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case jI:return!(e.byteLength!=t.byteLength||!l(new ql(e),new ql(t)));case RI:case MI:case BI:return Jo(+e,+t);case DI:return e.name==t.name&&e.message==t.message;case LI:case FI:return e==t+"";case NI:var f=TI;case UI:var p=i&PI;if(f||(f=hh),e.size!=t.size&&!p)return!1;var g=c.get(e);if(g)return g==t;i|=VI,c.set(e,t);var v=J0(f(e),f(t),i,o,l,c);return c.delete(e),v;case $I:if(Ld)return Ld.call(e)==Ld.call(t)}return!1}var HI=1,GI=Object.prototype,qI=GI.hasOwnProperty;function KI(e,t,n,i,o,l){var c=n&HI,f=Iv(e),p=f.length,g=Iv(t),v=g.length;if(p!=v&&!c)return!1;for(var S=p;S--;){var _=f[S];if(!(c?_ in t:qI.call(t,_)))return!1}var x=l.get(e),T=l.get(t);if(x&&T)return x==t&&T==e;var E=!0;l.set(e,t),l.set(t,e);for(var V=c;++S<p;){_=f[S];var Q=e[_],G=t[_];if(i)var Y=c?i(G,Q,_,t,e,l):i(Q,G,_,e,t,l);if(!(Y===void 0?Q===G||o(Q,G,n,i,l):Y)){E=!1;break}V||(V=_=="constructor")}if(E&&!V){var re=e.constructor,ue=t.constructor;re!=ue&&"constructor"in e&&"constructor"in t&&!(typeof re=="function"&&re instanceof re&&typeof ue=="function"&&ue instanceof ue)&&(E=!1)}return l.delete(e),l.delete(t),E}var QI=1,Dv="[object Arguments]",Nv="[object Array]",ml="[object Object]",YI=Object.prototype,Bv=YI.hasOwnProperty;function XI(e,t,n,i,o,l){var c=sn(e),f=sn(t),p=c?Nv:Pr(e),g=f?Nv:Pr(t);p=p==Dv?ml:p,g=g==Dv?ml:g;var v=p==ml,S=g==ml,_=p==g;if(_&&Gl(e)){if(!Gl(t))return!1;c=!0,v=!1}if(_&&!v)return l||(l=new Dn),c||uh(e)?J0(e,t,n,i,o,l):WI(e,t,p,n,i,o,l);if(!(n&QI)){var x=v&&Bv.call(e,"__wrapped__"),T=S&&Bv.call(t,"__wrapped__");if(x||T){var E=x?e.value():e,V=T?t.value():t;return l||(l=new Dn),o(E,V,n,i,l)}}return _?(l||(l=new Dn),KI(e,t,n,i,o,l)):!1}function ph(e,t,n,i,o){return e===t?!0:e==null||t==null||!Ur(e)&&!Ur(t)?e!==e&&t!==t:XI(e,t,n,i,ph,o)}var JI=1,ZI=2;function ex(e,t,n,i){var o=n.length,l=o;if(e==null)return!l;for(e=Object(e);o--;){var c=n[o];if(c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<l;){c=n[o];var f=c[0],p=e[f],g=c[1];if(c[2]){if(p===void 0&&!(f in e))return!1}else{var v=new Dn,S;if(!(S===void 0?ph(g,p,JI|ZI,i,v):S))return!1}}return!0}function Z0(e){return e===e&&!Ln(e)}function tx(e){for(var t=H0(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,Z0(o)]}return t}function eS(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function nx(e){var t=tx(e);return t.length==1&&t[0][2]?eS(t[0][0],t[0][1]):function(n){return n===e||ex(n,e,t)}}function rx(e,t){return e!=null&&t in Object(e)}function ix(e,t,n){t=mu(t,e);for(var i=-1,o=t.length,l=!1;++i<o;){var c=Zo(t[i]);if(!(l=e!=null&&n(e,c)))break;e=e[c]}return l||++i!=o?l:(o=e==null?0:e.length,!!o&&ah(o)&&fu(c,o)&&(sn(e)||Ro(e)))}function tS(e,t){return e!=null&&ix(e,t,rx)}var sx=1,ox=2;function ax(e,t){return ch(e)&&Z0(t)?eS(Zo(e),t):function(n){var i=W2(n,e);return i===void 0&&i===t?tS(n,e):ph(t,i,sx|ox)}}function lx(e){return function(t){return t==null?void 0:t[e]}}function ux(e){return function(t){return fh(t,e)}}function cx(e){return ch(e)?lx(Zo(e)):ux(e)}function dx(e){return typeof e=="function"?e:e==null?ih:typeof e=="object"?sn(e)?ax(e[0],e[1]):nx(e):cx(e)}function fx(e){return function(t,n,i){for(var o=-1,l=Object(t),c=i(t),f=c.length;f--;){var p=c[++o];if(n(l[p],p,l)===!1)break}return t}}var hx=fx();function wf(e,t,n){(n!==void 0&&!Jo(e[t],n)||n===void 0&&!(t in e))&&oh(e,t,n)}function px(e){return Ur(e)&&hu(e)}function _f(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function gx(e){return gO(e,G0(e))}function mx(e,t,n,i,o,l,c){var f=_f(e,n),p=_f(t,n),g=c.get(p);if(g){wf(e,n,g);return}var v=l?l(f,p,n+"",e,t,c):void 0,S=v===void 0;if(S){var _=sn(p),x=!_&&Gl(p),T=!_&&!x&&uh(p);v=p,_||x||T?sn(f)?v=f:px(f)?v=Zk(f):x?(S=!1,v=lI(p)):T?(S=!1,v=bI(p)):v=[]:eI(p)||Ro(p)?(v=f,Ro(f)?v=gx(f):(!Ln(f)||sh(f))&&(v=AI(p))):S=!1}S&&(c.set(p,v),o(v,p,i,l,c),c.delete(p)),wf(e,n,v)}function nS(e,t,n,i,o){e!==t&&hx(t,function(l,c){if(o||(o=new Dn),Ln(l))mx(e,t,c,n,nS,i,o);else{var f=i?i(_f(e,c),l,c+"",e,t,o):void 0;f===void 0&&(f=l),wf(e,c,f)}},G0)}var vx=SO(function(e,t,n){nS(e,t,n)});function yx(e,t,n,i){if(!Ln(e))return e;t=mu(t,e);for(var o=-1,l=t.length,c=l-1,f=e;f!=null&&++o<l;){var p=Zo(t[o]),g=n;if(p==="__proto__"||p==="constructor"||p==="prototype")return e;if(o!=c){var v=f[p];g=void 0,g===void 0&&(g=Ln(v)?v:fu(t[o+1])?[]:{})}L0(f,p,g),f=f[p]}return e}function Sx(e,t,n){for(var i=-1,o=t.length,l={};++i<o;){var c=t[i],f=fh(e,c);n(f,c)&&yx(l,mu(c,e),f)}return l}function wx(e,t){return Sx(e,t,function(n,i){return tS(e,i)})}var _x=K2(function(e,t){return e==null?{}:wx(e,t)}),bx=1/0,Ax=as&&1/hh(new as([,-0]))[1]==bx?function(e){return new as(e)}:Jk,Cx=200;function Ex(e,t,n){var i=-1,o=cO,l=e.length,c=!0,f=[],p=f;if(l>=Cx){var g=t?null:Ax(e);if(g)return hh(g);c=!1,o=X0,p=new No}else p=t?[]:f;e:for(;++i<l;){var v=e[i],S=t?t(v):v;if(v=v!==0?v:0,c&&S===S){for(var _=p.length;_--;)if(p[_]===S)continue e;t&&p.push(S),f.push(v)}else o(p,S,n)||(p!==f&&p.push(S),f.push(v))}return f}function Ud(e,t){return e&&e.length?Ex(e,dx(t)):[]}const gt={mediaDevices:[],selectedAudioInputMediaDevice:void 0,selectedAudioOutputMediaDevice:void 0,selectedVideoInputMediaDevice:void 0,remoteVideoElement:void 0,otherRemoteVideoElements:[],otherLocalVideoElements:[],localVideoElement:void 0,showVideoControls:!1,showMediaControls:!0,videoOn:!1,micOn:!1,remoteVideoOn:!1,remoteMicOn:!1,lastPlayedMessageId:void 0,stateAtDisconnect:{videoOn:!1,micOn:!1,remoteVideoOn:!1,remoteMicOn:!1}};class kx{constructor(t){y(this,"mediaDevices",gt.mediaDevices);y(this,"selectedAudioInputMediaDevice",gt.selectedAudioInputMediaDevice);y(this,"selectedAudioOutputMediaDevice",gt.selectedAudioOutputMediaDevice);y(this,"selectedVideoInputMediaDevice",gt.selectedVideoInputMediaDevice);y(this,"remoteVideoElement",gt.remoteVideoElement);y(this,"localVideoElement",gt.localVideoElement);y(this,"showVideoControls",gt.showVideoControls);y(this,"showMediaControls",gt.showMediaControls);y(this,"videoOn",gt.videoOn);y(this,"micOn",gt.micOn);y(this,"remoteVideoOn",gt.remoteVideoOn);y(this,"remoteMicOn",gt.remoteMicOn);y(this,"lastPlayedMessageId",gt.lastPlayedMessageId);y(this,"otherRemoteVideoElements",gt.otherRemoteVideoElements);y(this,"otherLocalVideoElements",gt.otherLocalVideoElements);y(this,"stateAtDisconnect",gt.stateAtDisconnect);y(this,"type");y(this,"setVideoOn",t=>this.videoOn=t);y(this,"setMicOn",t=>this.micOn=t);y(this,"setLastPlayedMessageId",t=>this.lastPlayedMessageId=t);y(this,"setSelectedAudioInputMediaDevice",t=>this.selectedAudioInputMediaDevice=t);y(this,"setSelectedAudioOutputMediaDevice",t=>this.selectedAudioOutputMediaDevice=t);y(this,"setSelectedVideoInputMediaDevice",t=>this.selectedVideoInputMediaDevice=t);y(this,"setRemoteVideoElement",t=>this.remoteVideoElement=t);y(this,"addOtherRemoteVideoElements",t=>{var i;const n=Array.isArray(t)?t:[t];this.otherRemoteVideoElements=(i=this.otherRemoteVideoElements)==null?void 0:i.concat(n),n.forEach(o=>{var l,c;return(l=this.remoteVideoElement)!=null&&l.srcObject?o.srcObject=(c=this.remoteVideoElement)==null?void 0:c.srcObject:null})});y(this,"setLocalVideoElement",t=>this.localVideoElement=t);y(this,"setShowVideoControls",t=>this.showVideoControls=t);y(this,"setShowMediaControls",t=>this.showVideoControls=t);y(this,"addOtherLocalVideoElements",t=>{var i;const n=Array.isArray(t)?t:[t];this.otherLocalVideoElements=(i=this.otherLocalVideoElements)==null?void 0:i.concat(n),n.forEach(o=>{var l,c;return(l=this.localVideoElement)!=null&&l.srcObject?o.srcObject=(c=this.localVideoElement)==null?void 0:c.srcObject:null})});y(this,"setStateAtDisconnect",()=>this.stateAtDisconnect={videoOn:this.videoOn,micOn:this.micOn,remoteMicOn:this.remoteMicOn,remoteVideoOn:this.remoteVideoOn});y(this,"setRemoteVideoOn",t=>this.remoteVideoOn=t);y(this,"setRemoteMicOn",t=>this.remoteMicOn=t);y(this,"getUserMediaError",({error:t,permissionRequestType:n})=>{const i="error",o=n=="camera"?"video_permission_error":"microphone_permission_error";let l=n=="microphone"?"Microphone not found":"Microphone and Camera not found",c=`Please connect to a ${n=="microphone"?"microphone.":"camera and microphone."}`;const f=n=="microphone";return t.message.includes("Permission denied")?(l=`${f?"Microphone":"Camera and microphone"} access denied`,c=`Click the ${f?"red microphone icon":"camera icon"} on the right of the URL bar and enable the permission to continue the call.`):t.message.includes("Permission dismissed")&&(l=`${f?"Microphone":"Camera"} permission dismissed`,c=`Try clicking the ${f?"microphone":"video"} icon to toggle on your ${f?"microphone":"video"} again`),l=" "+l,{type:i,name:o,header:l,body:c}});y(this,"getMediaPermissions",async()=>{let t=!1,n=!1;try{t=(await navigator.permissions.query({name:"microphone"})).state==="granted",n=(await navigator.permissions.query({name:"camera"})).state==="granted"}catch(i){ie.log(i)}return{hasMicrophone:t,hasCamera:n}});y(this,"requestMediaPermissions",async t=>{var o;const{hasMicrophone:n,hasCamera:i}=await this.getMediaPermissions();if(!n||!i){const l=await this.getMediaStream({audio:!n,video:!i,setUserNotificationMessage:t});return(o=l==null?void 0:l.getTracks())==null||o.forEach(c=>c.stop()),!!l}return!0});y(this,"loadMediaDevices",async()=>{try{const t=await navigator.mediaDevices.enumerateDevices();Mt(()=>{t!=null&&t.length&&(this.mediaDevices=Ud(t,n=>n.kind+n.groupId))})}catch(t){ie.error(t)}});y(this,"getMediaStream",async({audio:t,video:n,setUserNotificationMessage:i})=>{try{const o=await navigator.mediaDevices.getUserMedia({audio:t,video:n});return await this.loadMediaDevices(),o}catch(o){const l=this.getUserMediaError({error:o,permissionRequestType:n&&"camera"||"microphone"});i&&i(l);return}});y(this,"attachSinkId",async t=>{const n=this.remoteVideoElement;if(!n||!t)return;const i=n;if(typeof i.sinkId<"u"&&typeof i.setSinkId=="function")try{await i.setSinkId(t)}catch(o){let l=o;o.name==="SecurityError"&&(l=`You need to use HTTPS for selecting audio output device: ${o}`),ie.error(l)}else ie.warn("Browser does not support output device selection.")});y(this,"deviceExists",t=>this.mediaDevices.find(n=>n.deviceId===t)!==void 0);y(this,"resetState",()=>{Object.entries(gt).forEach(([t,n])=>this[t]=n),V0(this)});this.type=t,o0(this),nh(this,{name:`MediaStore-${t}`,properties:["selectedAudioInputMediaDevice","selectedVideoInputMediaDevice","selectedAudioOutputMediaDevice","showVideoControls","lastPlayedMessageId"],storage:window.localStorage}),this.loadMediaDevices(),Ke(()=>({hasDevices:this.mediaDevices.length>0,mediaDevice:this.selectedAudioInputMediaDevice}),({hasDevices:n,mediaDevice:i})=>{!n||!(i!=null&&i.deviceId)||this.deviceExists(i.deviceId)||(ie.error("Failed to find audio input device"),this.setSelectedAudioInputMediaDevice())}),Ke(()=>({hasDevices:this.mediaDevices.length>0,mediaDevice:this.selectedVideoInputMediaDevice}),({hasDevices:n,mediaDevice:i})=>{!n||!(i!=null&&i.deviceId)||this.deviceExists(i.deviceId)||(ie.error("Failed to find video input device"),this.setSelectedVideoInputMediaDevice())}),Ke(()=>({hasDevices:this.mediaDevices.length>0,remoteElement:this.remoteVideoElement,mediaDevice:this.selectedAudioOutputMediaDevice}),({hasDevices:n,remoteElement:i,mediaDevice:o})=>{!n||!i||!(o!=null&&o.deviceId)||(this.deviceExists(o.deviceId)||(ie.error("Failed to find audio output device"),this.setSelectedAudioOutputMediaDevice(void 0)),this.attachSinkId(o==null?void 0:o.deviceId))})}get audioInputMediaDevices(){return Ud(this.mediaDevices.filter(t=>t.kind==="audioinput"&&t.deviceId),"deviceId")}get audioOutputMediaDevices(){return Ud(this.mediaDevices.filter(t=>t.kind==="audiooutput"&&t.deviceId),"deviceId")}get videoInputMediaDevices(){return this.mediaDevices.filter(t=>t.kind==="videoinput"&&t.deviceId)}}const xr={isP2PConnected:!1,isCaller:!1,isStartingVideoStream:!1,isStartingAudioStream:!1,connectionState:"disconnected",isEstablishingConnection:!1,connectionTimeoutTimer:void 0};class Ox{constructor(t){y(this,"isP2PConnected",xr.isP2PConnected);y(this,"isCaller",xr.isCaller);y(this,"isStartingVideoStream",xr.isStartingVideoStream);y(this,"isStartingAudioStream",xr.isStartingAudioStream);y(this,"connectionState",xr.connectionState);y(this,"isEstablishingConnection",xr.isEstablishingConnection);y(this,"connectionTimeoutTimer",xr.connectionTimeoutTimer);y(this,"mediaStore");y(this,"peerConnection");y(this,"localStream");y(this,"remoteStream");y(this,"receiveDataChannel");y(this,"sendDataChannel");y(this,"dataChannelQueue",[]);y(this,"type","client");y(this,"makingOffer",!1);y(this,"setIsCaller",t=>this.isCaller=t);y(this,"setIsStartingVideoStream",t=>this.isStartingVideoStream=t);y(this,"setIsStartingAudioStream",t=>this.isStartingAudioStream=t);y(this,"setLocalStream",t=>this.localStream=t);y(this,"setRemoteStream",t=>this.remoteStream=t);y(this,"setSendDataChannel",t=>this.sendDataChannel=t);y(this,"setReceiveDataChannel",t=>this.receiveDataChannel=t);y(this,"setPeerConnection",t=>this.peerConnection=t);y(this,"setConnectionState",t=>this.connectionState=t);y(this,"setIsP2PConnected",async t=>{var n;t&&this.type==="agent"&&((n=be.socket)==null||n.emit("peer-connection-established")),t&&this.type==="client"&&At.isRecording&&At.takeSnapshot(),this.isP2PConnected=t});y(this,"checkConnectionTimeout",async()=>{this.isEstablishingConnection&&await this.closeWebRtcConnection()});y(this,"setIsEstablishingConnection",t=>{this.isEstablishingConnection=t,t&&(this.connectionTimeoutTimer=setTimeout(this.checkConnectionTimeout,7500))});y(this,"onIceStateChange",()=>{});y(this,"onSignalStateChange",()=>{var t;((t=this.peerConnection)==null?void 0:t.signalingState)==="closed"&&this.closeWebRtcConnection()});y(this,"manipulateVideoElement",(t,n)=>{const{remoteVideoElement:i,localVideoElement:o,otherRemoteVideoElements:l,otherLocalVideoElements:c}=this.mediaStore,f=t==="remote"?i:o,p=t==="remote"?l:c;f&&n(f),p.forEach(g=>g?n(g):null)});y(this,"onAddRemoteStreamCallback",({event:t})=>{const n=this.mediaStore.remoteVideoElement;n&&n.srcObject!==t.streams[0]&&(this.manipulateVideoElement("remote",i=>i.srcObject=t.streams[0]),this.setRemoteStream(t.streams[0]))});y(this,"onNegotiationNeeded",()=>{var t;((t=this.peerConnection)==null?void 0:t.signalingState)==="stable"&&this.createOffer()});y(this,"onConnectionStateChange",async()=>{if(!this.peerConnection)return;this.setConnectionState(this.peerConnection.connectionState);const t=["connected"],n=["disconnected","closed","failed"];try{t.includes(this.peerConnection.connectionState)?await this.setIsP2PConnected(!0):n.includes(this.peerConnection.connectionState)&&await this.disconnectWebRtcSession()}catch(i){ie.error("Error in connection state change handler",i)}});y(this,"createOffer",async()=>{var t;if(!(!this.peerConnection||!be.remoteP2PSocketId||this.makingOffer))try{this.makingOffer=!0;const n=await this.peerConnection.createOffer(tk);await this.peerConnection.setLocalDescription(n),(t=be.socket)==null||t.emit("p2p-negotiation",{type:"offer",description:n,to:be.remoteP2PSocketId})}catch{return}finally{this.makingOffer=!1}});y(this,"createAnswer",async({message:t})=>{var n;if(!(!t.description||!this.peerConnection||!be.remoteP2PSocketId)){await this.peerConnection.setRemoteDescription(new RTCSessionDescription(t.description));try{await this.peerConnection.addEventListener("icecandidate",o=>this.onIceCandidateAdded({event:o}));const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i),(n=be.socket)==null||n.emit("p2p-negotiation",{type:"answer",description:i,to:be.remoteP2PSocketId})}catch{return}}});y(this,"handleP2PNegotiation",async({message:t,userIdentifier:n})=>{var i;try{switch(t.type){case"candidate":this.peerConnection&&await this.peerConnection.addIceCandidate(t.candidate);break;case"offer":if(!t.from)return;be.setRemoteP2PSocketId(t.from),this.peerConnection||await this.createRtcPeerConnection({userIdentifier:n}),this.peerConnection&&be.socket&&await this.createAnswer({message:t});break;case"answer":if(!be.remoteP2PSocketId)return;this.peerConnection&&t.description&&await this.peerConnection.setRemoteDescription(new RTCSessionDescription(t.description)),(i=be.socket)==null||i.emit("p2p-negotiation",{type:"ready",to:be.remoteP2PSocketId});break;case"hang_up":await this.disconnectWebRtcSession();break;case"ready":await this.setIsP2PConnected(!0);break}}catch(o){ie.error("P2P negotiation callback error",o);return}});y(this,"onIceCandidateAdded",({event:{candidate:t}})=>{!t||!be.socket||!be.remoteP2PSocketId||be.socket.emit("p2p-negotiation",{type:"candidate",candidate:t,to:be.remoteP2PSocketId})});y(this,"sendP2PEvent",t=>{var n;((n=this.dataChannel)==null?void 0:n.readyState)!=="open"&&(this.dataChannelQueue=[...this.dataChannelQueue,t]),this.sendP2PMessage({message:t})});y(this,"sendP2PMessage",({message:t})=>{var i,o;const n=JSON.stringify({...t,origin:"warmly"});this.isCaller&&((i=this.sendDataChannel)==null?void 0:i.readyState)==="open"?this.sendDataChannel.send(n):!this.isCaller&&((o=this.receiveDataChannel)==null?void 0:o.readyState)==="open"&&this.receiveDataChannel.send(n)});y(this,"isAgentOwnedSession",(t,n)=>t&&t!==n);y(this,"closeWebRtcConnection",async()=>{var t;try{this.dataChannelQueue=[],be.remoteP2PSocketId&&((t=be.socket)==null||t.emit("p2p-negotiation",{type:"hang_up",to:be.remoteP2PSocketId})),await this.disconnectWebRtcSession(),this.resetState()}catch(n){ie.error("Close WebRTC connection error",n)}});y(this,"createRtcPeerConnection",async({userIdentifier:t,agentId:n})=>{var i;if(!(!be.socket||this.isAgentOwnedSession(n,t))){this.peerConnection&&await this.closeWebRtcConnection();try{this.setIsEstablishingConnection(!0);const o=new RTCPeerConnection(ek);if(this.setPeerConnection(o),!this.peerConnection){ie.error("Failed to get peerConnection");return}this.peerConnection.addEventListener("iceconnectionstatechange",()=>this.onIceStateChange()),this.localStream&&this.localStream.getTracks().forEach(l=>{var c;return(c=this.peerConnection)==null?void 0:c.addTrack(l,this.localStream)}),this.peerConnection.addEventListener("track",l=>this.onAddRemoteStreamCallback({event:l})),this.peerConnection.onnegotiationneeded=()=>this.onNegotiationNeeded(),this.peerConnection.onsignalingstatechange=()=>this.onSignalStateChange(),this.peerConnection.onconnectionstatechange=()=>this.onConnectionStateChange(),this.isCaller?(this.peerConnection.addEventListener("icecandidate",l=>this.onIceCandidateAdded({event:l})),this.createDataChannel({rtcDataChannelName:(i=be.socket)==null?void 0:i.id})):this.peerConnection.ondatachannel=l=>this.receiveChannelCallback({event:l})}catch{this.setPeerConnection(void 0)}}});y(this,"toggleWebRtcVideo",async t=>{const{videoOn:n,setVideoOn:i}=this.mediaStore;try{this.setIsStartingVideoStream(!0),i(!n),await this.getUserAudioVideoStream(t);const o=this.localStream;o&&this.peerConnection&&(o.getTracks().forEach(l=>{var c;return(c=this.peerConnection)==null?void 0:c.addTrack(l,o)}),t(void 0))}catch(o){ie.error("toggleWebRtcVideo error",o)}finally{this.setIsStartingVideoStream(!1)}});y(this,"toggleWebRtcAudio",async t=>{const{micOn:n,setMicOn:i}=this.mediaStore;try{this.setIsStartingAudioStream(!0),i(!n),await this.getUserAudioVideoStream(t);const o=this.localStream;o&&this.peerConnection&&(o.getTracks().forEach(l=>{var c;return(c=this.peerConnection)==null?void 0:c.addTrack(l,o)}),t(void 0))}catch(o){ie.error("toggleWebRtcAudio error",o)}finally{this.setIsStartingAudioStream(!1)}});y(this,"onDataChannelReady",()=>{var t;((t=this.dataChannel)==null?void 0:t.readyState)==="open"&&(this.dataChannelQueue.forEach(n=>this.sendP2PMessage({message:n})),this.dataChannelQueue=[])});y(this,"createDataChannel",async({rtcDataChannelName:t})=>{const n={ordered:!1,maxPacketLifeTime:3e3},i=`webrtc_channel_${t}`;if(!this.peerConnection)return;const o=await this.peerConnection.createDataChannel(i,n);o.onmessage=this.processIncomingP2PMessage,o.onopen=()=>{this.setIsCaller(!0),this.onDataChannelReady()},this.setSendDataChannel(o)});y(this,"onReceiveChannelOpenState",()=>{var t;this.setIsCaller(!1),(t=this.receiveDataChannel)==null||t.readyState});y(this,"processIncomingP2PMessage",t=>{if(!nk(t.data))return;const n=JSON.parse(t.data);n.origin==="warmly"&&(n.payload.createdAt&&(n.payload.createdAt=new Date(n.payload.createdAt)),jo.emit("receivedP2PMessage",n))});y(this,"receiveChannelCallback",({event:t})=>{const n=t.channel;n.onopen=()=>this.onReceiveChannelOpenState(),n.onmessage=this.processIncomingP2PMessage,this.setReceiveDataChannel(n)});y(this,"disconnectWebRtcSession",async()=>{var t;this.mediaStore.setStateAtDisconnect(),this.mediaStore.setVideoOn(!1),this.mediaStore.setMicOn(!1),this.mediaStore.setRemoteVideoOn(!1),this.isCaller&&this.sendDataChannel?this.sendDataChannel.close():this.receiveDataChannel&&this.receiveDataChannel.close(),this.peerConnection&&(this.peerConnection.onicecandidate=null),this.closeLocalStream(),this.closeRemoteStream(),this.peerConnection&&this.peerConnection.close(),this.setPeerConnection(void 0),await this.setIsP2PConnected(!1),(t=be.socket)==null||t.emit("peer-connection-ended")});y(this,"removeAllTracks",t=>{const n=t==null?void 0:t.getTracks();n==null||n.forEach(i=>{i.stop(),t==null||t.removeTrack(i)})});y(this,"closeLocalStream",()=>{const t=this.mediaStore.localVideoElement;t&&this.manipulateVideoElement("local",n=>n.srcObject=null),(t==null?void 0:t.muted)===!1&&this.manipulateVideoElement("local",n=>n.muted=!0),this.removeAllTracks(this.localStream),this.setLocalStream(void 0)});y(this,"closeRemoteStream",()=>{const t=this.mediaStore.remoteVideoElement;t&&this.manipulateVideoElement("remote",n=>n.srcObject=null),(t==null?void 0:t.muted)===!1&&this.manipulateVideoElement("remote",n=>n.muted=!0),this.removeAllTracks(this.remoteStream),this.setRemoteStream(void 0)});y(this,"getUserAudioVideoStream",async t=>{const{selectedVideoInputMediaDevice:n,selectedAudioInputMediaDevice:i,videoOn:o,micOn:l,localVideoElement:c}=this.mediaStore;let f,p;if(l&&i?f={deviceId:{exact:i.deviceId}}:f=l,o&&n?p={deviceId:{exact:n.deviceId}}:p=o,this.closeLocalStream(),!f&&!o){this.closeLocalStream(),this.reattachRemoteStream();return}const g=await this.mediaStore.getMediaStream({audio:f,video:p,setUserNotificationMessage:t});this.setLocalStream(g),g&&(c&&this.manipulateVideoElement("local",v=>v.srcObject=g),this.reattachRemoteStream())});y(this,"reattachRemoteStream",()=>{const{micOn:t,remoteVideoElement:n}=this.mediaStore;if(n){if(n.srcObject&&this.remoteStream){const i=this.remoteStream;this.manipulateVideoElement("remote",o=>o.srcObject=i)}this.manipulateVideoElement("remote",i=>i.muted=!t)}});y(this,"resetState",()=>{const t=this.isCaller;Object.entries(xr).forEach(([n,i])=>this[n]=i),this.isCaller=t});this.type=t,this.mediaStore=new kx(t),zr(this,{isP2PConnected:q,setIsP2PConnected:M,isCaller:q,setIsCaller:M,isStartingVideoStream:q,setIsStartingVideoStream:M,isStartingAudioStream:q,setIsStartingAudioStream:M,setConnectionState:M,connectionState:q,isEstablishingConnection:q,setIsEstablishingConnection:M,connectionTimeoutTimer:q,checkConnectionTimeout:M,onIceStateChange:M,onSignalStateChange:M,onAddRemoteStreamCallback:M,onNegotiationNeeded:M,onConnectionStateChange:M,createOffer:M,createAnswer:M,handleP2PNegotiation:M,onIceCandidateAdded:M,sendP2PEvent:M,sendP2PMessage:M,closeWebRtcConnection:M,createRtcPeerConnection:M,toggleWebRtcVideo:M,toggleWebRtcAudio:M,resetState:M,isConnecting:oe,dataChannel:oe},{autoBind:!0}),Ke(()=>this.connectionState,n=>{n!=="connecting"&&this.isEstablishingConnection&&(this.setIsEstablishingConnection(!1),clearTimeout(this.connectionTimeoutTimer),this.connectionTimeoutTimer=void 0)}),Ke(()=>this.mediaStore.videoOn,n=>{this.sendP2PEvent({event:"video-state-changed",payload:{videoOn:n}})}),Ke(()=>this.mediaStore.micOn,n=>{this.sendP2PEvent({event:"mic-state-changed",payload:{micOn:n}})}),Ke(()=>this.mediaStore.mediaDevices.length>0&&this.mediaStore.selectedAudioInputMediaDevice,()=>{this.mediaStore.micOn&&this.getUserAudioVideoStream()}),Ke(()=>this.mediaStore.mediaDevices.length>0&&this.mediaStore.selectedVideoInputMediaDevice,()=>{this.mediaStore.videoOn&&this.getUserAudioVideoStream()})}get dataChannel(){return this.type==="client"?this.receiveDataChannel:this.sendDataChannel}get isConnecting(){return this.isEstablishingConnection||this.connectionState==="connecting"}}const bt={type:"client",getMessagesState:{loading:!1},userNotificationMessage:void 0,sentMessages:[],receivedMessages:[],remoteIsTyping:!1,typingOrigin:void 0,remoteUser:void 0,userIdentifier:"",initialMessagesCount:void 0,callType:void 0,sessionIdEngagedInConversation:void 0,sessionIdEngagedByWorkflow:void 0,isLastMessageQuestion:!1,answeredWorkflowMessageIds:new Set};class Ix{constructor({type:t,userIdentifier:n}){y(this,"type",bt.type);y(this,"getMessagesState",bt.getMessagesState);y(this,"userNotificationMessage",bt.userNotificationMessage);y(this,"sentMessages",bt.sentMessages);y(this,"receivedMessages",bt.receivedMessages);y(this,"remoteIsTyping",bt.remoteIsTyping);y(this,"remoteUser",bt.remoteUser);y(this,"userIdentifier",bt.userIdentifier);y(this,"initialMessagesCount",bt.initialMessagesCount);y(this,"callType",bt.callType);y(this,"webRtcStore");y(this,"sessionIdEngagedInConversation",bt.sessionIdEngagedInConversation);y(this,"sessionIdEngagedByWorkflow",bt.sessionIdEngagedByWorkflow);y(this,"isLastMessageQuestion",bt.isLastMessageQuestion);y(this,"typingOrigin",bt.typingOrigin);y(this,"answeredWorkflowMessageIds",bt.answeredWorkflowMessageIds);y(this,"keepAliveTimer");y(this,"getMessages",t=>{});y(this,"setRemoteIsTyping",t=>this.remoteIsTyping=t);y(this,"setTypingOrigin",t=>this.typingOrigin=t);y(this,"setUserNotificationMessage",t=>this.userNotificationMessage=t);y(this,"setRemoteUser",t=>this.remoteUser=t);y(this,"onIsTypingChange",(t,n)=>{var i;return(i=be.socket)==null?void 0:i.emit("typing-state-changed",{isTyping:t,origin:n})});y(this,"setCallType",t=>this.callType=t);y(this,"setSessionIdEngagedByWorkflow",t=>this.sessionIdEngagedByWorkflow=t);y(this,"setIsLastMessageQuestion",t=>this.isLastMessageQuestion=t);y(this,"setSessionIdEngagedInConversation",t=>this.sessionIdEngagedInConversation=t);y(this,"markWorkflowMessageAnswered",t=>{this.answeredWorkflowMessageIds=new Set(this.answeredWorkflowMessageIds).add(t)});y(this,"toggleVideo",async()=>{await this.webRtcStore.toggleWebRtcVideo(this.setUserNotificationMessage)});y(this,"toggleAudio",async()=>{await this.webRtcStore.toggleWebRtcAudio(this.setUserNotificationMessage)});y(this,"initiateCall",async()=>{const{videoOn:t,micOn:n,localVideoElement:i}=this.webRtcStore.mediaStore;!this.webRtcStore.isP2PConnected||!i||!this.callType||(this.callType==="video"?(t||await this.toggleVideo(),n||await this.toggleAudio()):this.callType==="audio"&&!n&&this.toggleAudio(),this.setCallType(void 0))});this.type=t,this.webRtcStore=new Ox(t),n&&(this.userIdentifier=n),jo.on("logout",()=>this.resetState()),XE(this),zr(this,{type:q,getMessagesState:q,userNotificationMessage:q,sentMessages:q,receivedMessages:q,remoteIsTyping:q,remoteUser:q,userIdentifier:q,initialMessagesCount:q,callType:q,webRtcStore:!1,sessionIdEngagedInConversation:q,sessionIdEngagedByWorkflow:q,isLastMessageQuestion:q,typingOrigin:q,answeredWorkflowMessageIds:q,setRemoteIsTyping:M,setTypingOrigin:M,setUserNotificationMessage:M,setRemoteUser:M,onIsTypingChange:M,setCallType:M,setSessionIdEngagedByWorkflow:M,setSessionIdEngagedInConversation:M,setIsLastMessageQuestion:M,markWorkflowMessageAnswered:M,toggleVideo:M,toggleAudio:M,sendMessage:M,receiveMessage:M.bound,processChatMessages:M.bound,resetState:M.bound,messagesLoading:oe,sortedReceivedMessages:oe,visitorInfo:oe,isEngagedByWorkflow:oe,isEngagedInConversation:oe},{autoBind:!0}),Ke(()=>({videoElement:this.webRtcStore.mediaStore.localVideoElement,isConnected:this.webRtcStore.isP2PConnected}),async({videoElement:i,isConnected:o})=>{o&&i&&this.callType&&await this.initiateCall()}),Ke(()=>this.sessionIdEngagedInConversation,i=>{!i&&this.webRtcStore.isP2PConnected&&this.webRtcStore.closeWebRtcConnection(),t==="client"&&(i&&!this.keepAliveTimer&&(this.keepAliveTimer=setInterval(()=>{var o;(o=be.socket)==null||o.emit("keep-alive")},1e4)),!i&&this.keepAliveTimer&&(clearInterval(this.keepAliveTimer),this.keepAliveTimer=void 0))})}sendMessage(t){this.sentMessages=this.sentMessages.concat(t)}receiveMessage(t){this.remoteIsTyping=!1,this.receivedMessages=this.receivedMessages.concat(t)}processChatMessages(t){typeof this.initialMessagesCount>"u"&&(this.initialMessagesCount=t.length);const n=this.type==="agent",i=t.filter(o=>n?!o.isFromAgent:o.isFromAgent).map(o=>({...o,createdAt:new Date(o.createdAt)}));this.receivedMessages=i,this.sentMessages=t.filter(o=>n?o.isFromAgent:!o.isFromAgent).map(o=>({...o,createdAt:new Date(o.createdAt)}))}resetState(){JE(),this.webRtcStore.closeWebRtcConnection(),be.disconnectSocket(),Object.entries(bt).forEach(([t,n])=>{const i=t;["type","userIdentifier"].every(o=>o!==i)&&(this[i]=n)})}get messagesLoading(){return this.getMessagesState.loading}get sortedReceivedMessages(){return this.receivedMessages.slice().sort((t,n)=>t.createdAt.getTime()-n.createdAt.getTime())}get visitorInfo(){var t,n;return(n=(t=this.getMessagesState.value)==null?void 0:t.find(i=>{var o;return i.messageOrigin==="visitor"&&!!((o=i.sender)!=null&&o.email)}))==null?void 0:n.sender}get isEngagedByWorkflow(){return!1}get isEngagedInConversation(){return!1}}const xx=e=>`${Math.round(e/60)}m`;function Tx(e){return e}function Px(e){return e.length===0?Tx:e.length===1?e[0]:function(n){return e.reduce((i,o)=>o(i),n)}}function vu(e){const t={subscribe(n){let i=null,o=!1,l=!1,c=!1;function f(){if(i===null){c=!0;return}l||(l=!0,typeof i=="function"?i():i&&i.unsubscribe())}return i=e({next(p){var g;o||(g=n.next)==null||g.call(n,p)},error(p){var g;o||(o=!0,(g=n.error)==null||g.call(n,p),f())},complete(){var p;o||(o=!0,(p=n.complete)==null||p.call(n),f())}}),c&&f(),{unsubscribe:f}},pipe(...n){return Px(n)(t)}};return t}function Vx(e){return t=>{let n=0,i=null;const o=[];function l(){i||(i=t.subscribe({next(f){var p;for(const g of o)(p=g.next)==null||p.call(g,f)},error(f){var p;for(const g of o)(p=g.error)==null||p.call(g,f)},complete(){var f;for(const p of o)(f=p.complete)==null||f.call(p)}}))}function c(){if(n===0&&i){const f=i;i=null,f.unsubscribe()}}return{subscribe(f){return n++,o.push(f),l(),{unsubscribe(){n--,c();const p=o.findIndex(g=>g===f);p>-1&&o.splice(p,1)}}}}}}class gh extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,gh.prototype)}}function Rx(e){let t;return{promise:new Promise((i,o)=>{let l=!1;function c(){l||(l=!0,o(new gh("This operation was aborted.")),f.unsubscribe())}const f=e.subscribe({next(p){l=!0,i(p),c()},error(p){l=!0,o(p),c()},complete(){l=!0,c()}});t=c}),abort:t}}function rS(e){return vu(t=>{function n(o=0,l=e.op){const c=e.links[o];if(!c)throw new Error("No more links to execute - did you forget to add an ending link?");return c({op:l,next(p){return n(o+1,p)}})}return n().subscribe(t)})}function Lv(e){return Array.isArray(e)?e:[e]}function Fd(e){return t=>{const n=Lv(e.true).map(o=>o(t)),i=Lv(e.false).map(o=>o(t));return o=>vu(l=>{const c=e.condition(o.op)?n:i;return rS({op:o.op,links:c}).subscribe(l)})}}function iS(e){const t=Object.create(null);for(const n in e){const i=e[n];t[i]=n}return t}const sS={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};iS(sS);iS(sS);const oS=()=>{};function aS(e,t){return new Proxy(oS,{get(i,o){if(!(typeof o!="string"||o==="then"))return aS(e,[...t,o])},apply(i,o,l){const c=t[t.length-1]==="apply";return e({args:c?l.length>=2?l[1]:[]:l,path:c?t.slice(0,-1):t})}})}const Mx=e=>aS(e,[]),Dx=e=>new Proxy(oS,{get(t,n){if(!(typeof n!="string"||n==="then"))return e(n)}});function Nx(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}class Bx extends Error{}function Lx(e){if(e instanceof Error)return e;const t=typeof e;if(!(t==="undefined"||t==="function"||e===null)){if(t!=="object")return new Error(String(e));if(Nx(e)){const n=new Bx;for(const i in e)n[i]=e[i];return n}}}function Kl(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function Ux(e,t){if("error"in e){const i=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:i}}}return{ok:!0,result:{...e.result,...(!e.result.type||e.result.type==="data")&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}class $d extends Error{constructor(){super("Unable to transform response from server")}}function lS(e,t){let n;try{n=Ux(e,t)}catch{throw new $d}if(!n.ok&&(!Kl(n.error.error)||typeof n.error.error.code!="number"))throw new $d;if(n.ok&&!Kl(n.result))throw new $d;return n}function Fx(e){return e instanceof rn||e instanceof Error&&e.name==="TRPCClientError"}function $x(e){return Kl(e)&&Kl(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}class rn extends Error{static from(t,n={}){const i=t;return Fx(i)?(n.meta&&(i.meta={...i.meta,...n.meta}),i):$x(i)?new rn(i.error.message,{...n,result:i}):i instanceof Error?new rn(i.message,{...n,cause:Lx(i)}):new rn("Unknown error",{...n,cause:i})}constructor(t,n){var o,l;const i=n==null?void 0:n.cause;super(t,{cause:i}),this.meta=n==null?void 0:n.meta,this.cause=i,this.shape=(o=n==null?void 0:n.result)==null?void 0:o.error,this.data=(l=n==null?void 0:n.result)==null?void 0:l.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,rn.prototype)}}const Uv=e=>typeof e=="function";function jx(e){if(e)return e;if(typeof window<"u"&&Uv(window.fetch))return window.fetch;if(typeof globalThis<"u"&&Uv(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function zx(e){return e||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function uS(e){return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:zx(e.AbortController)}}function Wx(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];t[n]=i}return t}const Hx={query:"GET",mutation:"POST"};function cS(e){return"input"in e?e.runtime.transformer.serialize(e.input):Wx(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}const mh=e=>{let t=e.url+"/"+e.path;const n=[];if("inputs"in e&&n.push("batch=1"),e.type==="query"){const i=cS(e);i!==void 0&&n.push(`input=${encodeURIComponent(JSON.stringify(i))}`)}return n.length&&(t+="?"+n.join("&")),t},dS=e=>{if(e.type==="query")return;const t=cS(e);return t!==void 0?JSON.stringify(t):void 0},Gx=e=>qx({...e,contentTypeHeader:"application/json",getUrl:mh,getBody:dS});async function fS(e,t){const n=e.getUrl(e),i=e.getBody(e),{type:o}=e,l=await e.headers();/* istanbul ignore if -- @preserve */if(o==="subscription")throw new Error("Subscriptions should use wsLink");const c={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...l};return jx(e.fetch)(n,{method:Hx[o],signal:t==null?void 0:t.signal,body:i,headers:c})}function qx(e){const t=e.AbortController?new e.AbortController:null,n={};let i=!1;return{promise:new Promise((c,f)=>{fS(e,t).then(p=>(n.response=p,i=!0,p.json())).then(p=>{n.responseJSON=p,c({json:p,meta:n})}).catch(p=>{i=!0,f(rn.from(p,{meta:n}))})}),cancel:()=>{i||t==null||t.abort()}}}const jd=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function zd(e){let t=null,n=null;const i=()=>{clearTimeout(n),n=null,t=null};function o(f){var v,S;const p=[[]];let g=0;for(;;){const _=f[g];if(!_)break;const x=p[p.length-1];if(_.aborted){(v=_.reject)==null||v.call(_,new Error("Aborted")),g++;continue}if(e.validate(x.concat(_).map(E=>E.key))){x.push(_),g++;continue}if(x.length===0){(S=_.reject)==null||S.call(_,new Error("Input is too big for a single dispatch")),g++;continue}p.push([])}return p}function l(){const f=o(t);i();for(const p of f){if(!p.length)continue;const g={items:p,cancel:jd};for(const x of p)x.batch=g;const v=(x,T)=>{var V;const E=g.items[x];(V=E.resolve)==null||V.call(E,T),E.batch=null,E.reject=null,E.resolve=null},{promise:S,cancel:_}=e.fetch(g.items.map(x=>x.key),v);g.cancel=_,S.then(x=>{var T;for(let E=0;E<x.length;E++){const V=x[E];v(E,V)}for(const E of g.items)(T=E.reject)==null||T.call(E,new Error("Missing result")),E.batch=null}).catch(x=>{var T;for(const E of g.items)(T=E.reject)==null||T.call(E,x),E.batch=null})}}function c(f){const p={aborted:!1,key:f,batch:null,resolve:jd,reject:jd},g=new Promise((S,_)=>{p.reject=_,p.resolve=S,t||(t=[]),t.push(p)});return n||(n=setTimeout(l)),{promise:g,cancel:()=>{var S;p.aborted=!0,(S=p.batch)!=null&&S.items.every(_=>_.aborted)&&(p.batch.cancel(),p.batch=null)}}}return{load:c}}function Kx(e){return function(n){const i=uS(n),o=n.maxURLLength??1/0;return l=>{const c=S=>{const _=T=>{if(o===1/0)return!0;const E=T.map(G=>G.path).join(","),V=T.map(G=>G.input);return mh({...i,runtime:l,type:S,path:E,inputs:V}).length<=o},x=e({...i,runtime:l,type:S,opts:n});return{validate:_,fetch:x}},f=zd(c("query")),p=zd(c("mutation")),g=zd(c("subscription")),v={query:f,subscription:g,mutation:p};return({op:S})=>vu(_=>{const x=v[S.type],{promise:T,cancel:E}=x.load(S);let V;return T.then(Q=>{V=Q;const G=lS(Q.json,l);if(!G.ok){_.error(rn.from(G.error,{meta:Q.meta}));return}_.next({context:Q.meta,result:G.result}),_.complete()}).catch(Q=>{_.error(rn.from(Q,{meta:V==null?void 0:V.meta}))}),()=>{E()}})}}}function Qx(e){return t=>{const n=uS(t);return i=>({op:o})=>vu(l=>{const{path:c,input:f,type:p}=o,{promise:g,cancel:v}=e.requester({...n,runtime:i,type:p,path:c,input:f,headers(){return t.headers?typeof t.headers=="function"?t.headers({op:o}):t.headers:{}}});let S;return g.then(_=>{S=_.meta;const x=lS(_.json,i);if(!x.ok){l.error(rn.from(x.error,{meta:S}));return}l.next({context:_.meta,result:x.result}),l.complete()}).catch(_=>{l.error(rn.from(_,{meta:S}))}),()=>{v()}})}}const Fv=Qx({requester:Gx});class Yx{$request({type:t,input:n,path:i,context:o={}}){return rS({links:this.links,op:{id:++this.requestId,type:t,path:i,input:n,context:o}}).pipe(Vx())}requestAsPromise(t){const n=this.$request(t),{promise:i,abort:o}=Rx(n);return new Promise((c,f)=>{var p;(p=t.signal)==null||p.addEventListener("abort",o),i.then(g=>{c(g.result.data)}).catch(g=>{f(rn.from(g))})})}query(t,n,i){return this.requestAsPromise({type:"query",path:t,input:n,context:i==null?void 0:i.context,signal:i==null?void 0:i.signal})}mutation(t,n,i){return this.requestAsPromise({type:"mutation",path:t,input:n,context:i==null?void 0:i.context,signal:i==null?void 0:i.signal})}subscription(t,n,i){return this.$request({type:"subscription",path:t,input:n,context:i==null?void 0:i.context}).subscribe({next(l){var c,f,p;l.result.type==="started"?(c=i.onStarted)==null||c.call(i):l.result.type==="stopped"?(f=i.onStopped)==null||f.call(i):(p=i.onData)==null||p.call(i,l.result.data)},error(l){var c;(c=i.onError)==null||c.call(i,l)},complete(){var l;(l=i.onComplete)==null||l.call(i)}})}constructor(t){this.requestId=0;const n=(()=>{const i=t.transformer;return i?"input"in i?t.transformer:{input:i,output:i}:{input:{serialize:o=>o,deserialize:o=>o},output:{serialize:o=>o,deserialize:o=>o}}})();this.runtime={transformer:{serialize:i=>n.input.serialize(i),deserialize:i=>n.output.deserialize(i)},combinedTransformer:n},this.links=t.links.map(i=>i(this.runtime))}}const Xx={query:"query",mutate:"mutation",subscribe:"subscription"},Jx=e=>Xx[e];function Zx(e){return Dx(t=>e.hasOwnProperty(t)?e[t]:t==="__untypedClient"?e:Mx(({path:n,args:i})=>{const o=[t,...n],l=Jx(o.pop()),c=o.join(".");return e[l](c,...i)}))}function eT(e){const t=new Yx(e);return Zx(t)}function tT(e){if(e)return e;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function nT(e){const t=e.parse??JSON.parse,n=i=>{var f;if((f=e.signal)!=null&&f.aborted||!i||i==="}")return;const o=i.indexOf(":"),l=i.substring(2,o-1),c=i.substring(o+1);e.onSingle(Number(l),t(c))};await rT(e.readableStream,n,e.textDecoder)}async function rT(e,t,n){let i="";const o=l=>{const f=n.decode(l).split(`
`);if(f.length===1)i+=f[0];else if(f.length>1){t(i+f[0]);for(let p=1;p<f.length-1;p++)t(f[p]);i=f[f.length-1]}};"getReader"in e?await sT(e,o):await iT(e,o),t(i)}function iT(e,t){return new Promise(n=>{e.on("data",t),e.on("end",n)})}async function sT(e,t){const n=e.getReader();let i=await n.read();for(;!i.done;)t(i.value),i=await n.read()}const oT=(e,t)=>{const n=e.AbortController?new e.AbortController:null,i=fS({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:mh,getBody:dS},n),o=()=>n==null?void 0:n.abort(),l=i.then(async c=>{if(!c.body)throw new Error("Received response without body");const f={response:c};return nT({readableStream:c.body,onSingle:t,parse:p=>({json:JSON.parse(p),meta:f}),signal:n==null?void 0:n.signal,textDecoder:e.textDecoder})});return{cancel:o,promise:l}},aT=e=>{const t=tT(e.opts.textDecoder);return(n,i)=>{const o=n.map(p=>p.path).join(","),l=n.map(p=>p.input),{cancel:c,promise:f}=oT({...e,textDecoder:t,path:o,inputs:l,headers(){return e.opts.headers?typeof e.opts.headers=="function"?e.opts.headers({opList:n}):e.opts.headers:{}}},(p,g)=>{i(p,g)});return{promise:f.then(()=>[]),cancel:c}}},$v=Kx(aT);var lT=function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)},e.prototype.getByKey=function(t){return this.keyToValue.get(t)},e.prototype.getByValue=function(t){return this.valueToKey.get(t)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e}(),hS=function(){function e(t){this.generateIdentifier=t,this.kv=new lT}return e.prototype.register=function(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(t){return this.kv.getByValue(t)},e.prototype.getValue=function(t){return this.kv.getByKey(t)},e}(),uT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),cT=function(e){uT(t,e);function t(){var n=e.call(this,function(i){return i.name})||this;return n.classToAllowedProps=new Map,n}return t.prototype.register=function(n,i){typeof i=="object"?(i.allowProps&&this.classToAllowedProps.set(n,i.allowProps),e.prototype.register.call(this,n,i.identifier)):e.prototype.register.call(this,n,i)},t.prototype.getAllowedProps=function(n){return this.classToAllowedProps.get(n)},t}(hS),dT=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,l=[],c;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l};function fT(e){if("values"in Object)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function hT(e,t){var n=fT(e);if("find"in n)return n.find(t);for(var i=n,o=0;o<i.length;o++){var l=i[o];if(t(l))return l}}function fs(e,t){Object.entries(e).forEach(function(n){var i=dT(n,2),o=i[0],l=i[1];return t(l,o)})}function Il(e,t){return e.indexOf(t)!==-1}function jv(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return i}}var pT=function(){function e(){this.transfomers={}}return e.prototype.register=function(t){this.transfomers[t.name]=t},e.prototype.findApplicable=function(t){return hT(this.transfomers,function(n){return n.isApplicable(t)})},e.prototype.findByName=function(t){return this.transfomers[t]},e}(),gT=function(e){return Object.prototype.toString.call(e).slice(8,-1)},pS=function(e){return typeof e>"u"},mT=function(e){return e===null},Bo=function(e){return typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype},bf=function(e){return Bo(e)&&Object.keys(e).length===0},Fr=function(e){return Array.isArray(e)},vT=function(e){return typeof e=="string"},yT=function(e){return typeof e=="number"&&!isNaN(e)},ST=function(e){return typeof e=="boolean"},wT=function(e){return e instanceof RegExp},Lo=function(e){return e instanceof Map},Uo=function(e){return e instanceof Set},gS=function(e){return gT(e)==="Symbol"},_T=function(e){return e instanceof Date&&!isNaN(e.valueOf())},bT=function(e){return e instanceof Error},zv=function(e){return typeof e=="number"&&isNaN(e)},AT=function(e){return ST(e)||mT(e)||pS(e)||yT(e)||vT(e)||gS(e)},CT=function(e){return typeof e=="bigint"},ET=function(e){return e===1/0||e===-1/0},kT=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},OT=function(e){return e instanceof URL},mS=function(e){return e.replace(/\./g,"\\.")},Wd=function(e){return e.map(String).map(mS).join(".")},ko=function(e){for(var t=[],n="",i=0;i<e.length;i++){var o=e.charAt(i),l=o==="\\"&&e.charAt(i+1)===".";if(l){n+=".",i++;continue}var c=o===".";if(c){t.push(n),n="";continue}n+=o}var f=n;return t.push(f),t},Af=function(){return Af=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Af.apply(this,arguments)},Cf=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,l=[],c;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l},Ef=function(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e};function xn(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var vS=[xn(pS,"undefined",function(){return null},function(){}),xn(CT,"bigint",function(e){return e.toString()},function(e){return typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),xn(_T,"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),xn(bT,"Error",function(e,t){var n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(i){n[i]=e[i]}),n},function(e,t){var n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(function(i){n[i]=e[i]}),n}),xn(wT,"regexp",function(e){return""+e},function(e){var t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),xn(Uo,"set",function(e){return Ef([],Cf(e.values()))},function(e){return new Set(e)}),xn(Lo,"map",function(e){return Ef([],Cf(e.entries()))},function(e){return new Map(e)}),xn(function(e){return zv(e)||ET(e)},"number",function(e){return zv(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),xn(function(e){return e===0&&1/e===-1/0},"number",function(){return"-0"},Number),xn(OT,"URL",function(e){return e.toString()},function(e){return new URL(e)})];function yu(e,t,n,i){return{isApplicable:e,annotation:t,transform:n,untransform:i}}var yS=yu(function(e,t){if(gS(e)){var n=!!t.symbolRegistry.getIdentifier(e);return n}return!1},function(e,t){var n=t.symbolRegistry.getIdentifier(e);return["symbol",n]},function(e){return e.description},function(e,t,n){var i=n.symbolRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown symbol");return i}),IT=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),SS=yu(kT,function(e){return["typed-array",e.constructor.name]},function(e){return Ef([],Cf(e))},function(e,t){var n=IT[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function wS(e,t){if(e!=null&&e.constructor){var n=!!t.classRegistry.getIdentifier(e.constructor);return n}return!1}var _S=yu(wS,function(e,t){var n=t.classRegistry.getIdentifier(e.constructor);return["class",n]},function(e,t){var n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return Af({},e);var i={};return n.forEach(function(o){i[o]=e[o]}),i},function(e,t,n){var i=n.classRegistry.getValue(t[1]);if(!i)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(i.prototype),e)}),bS=yu(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){var n=t.customTransformerRegistry.findApplicable(e);return["custom",n.name]},function(e,t){var n=t.customTransformerRegistry.findApplicable(e);return n.serialize(e)},function(e,t,n){var i=n.customTransformerRegistry.findByName(t[1]);if(!i)throw new Error("Trying to deserialize unknown custom value");return i.deserialize(e)}),xT=[_S,yS,bS,SS],Wv=function(e,t){var n=jv(xT,function(o){return o.isApplicable(e,t)});if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};var i=jv(vS,function(o){return o.isApplicable(e,t)});if(i)return{value:i.transform(e,t),type:i.annotation}},AS={};vS.forEach(function(e){AS[e.annotation]=e});var TT=function(e,t,n){if(Fr(t))switch(t[0]){case"symbol":return yS.untransform(e,t,n);case"class":return _S.untransform(e,t,n);case"custom":return bS.untransform(e,t,n);case"typed-array":return SS.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{var i=AS[t];if(!i)throw new Error("Unknown transformation: "+t);return i.untransform(e,n)}},ss=function(e,t){for(var n=e.keys();t>0;)n.next(),t--;return n.next().value};function CS(e){if(Il(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Il(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Il(e,"constructor"))throw new Error("constructor is not allowed as a property")}var PT=function(e,t){CS(t);for(var n=0;n<t.length;n++){var i=t[n];if(Uo(e))e=ss(e,+i);else if(Lo(e)){var o=+i,l=+t[++n]==0?"key":"value",c=ss(e,o);switch(l){case"key":e=c;break;case"value":e=e.get(c);break}}else e=e[i]}return e},kf=function(e,t,n){if(CS(t),t.length===0)return n(e);for(var i=e,o=0;o<t.length-1;o++){var l=t[o];if(Fr(i)){var c=+l;i=i[c]}else if(Bo(i))i=i[l];else if(Uo(i)){var f=+l;i=ss(i,f)}else if(Lo(i)){var p=o===t.length-2;if(p)break;var f=+l,g=+t[++o]==0?"key":"value",v=ss(i,f);switch(g){case"key":i=v;break;case"value":i=i.get(v);break}}}var S=t[t.length-1];if(Fr(i)?i[+S]=n(i[+S]):Bo(i)&&(i[S]=n(i[S])),Uo(i)){var _=ss(i,+S),x=n(_);_!==x&&(i.delete(_),i.add(x))}if(Lo(i)){var f=+t[t.length-2],T=ss(i,f),g=+S==0?"key":"value";switch(g){case"key":{var E=n(T);i.set(E,i.get(T)),E!==T&&i.delete(T);break}case"value":{i.set(T,n(i.get(T)));break}}}return e},Xn=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,l=[],c;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l},Dr=function(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e};function Of(e,t,n){if(n===void 0&&(n=[]),!!e){if(!Fr(e)){fs(e,function(c,f){return Of(c,t,Dr(Dr([],Xn(n)),Xn(ko(f))))});return}var i=Xn(e,2),o=i[0],l=i[1];l&&fs(l,function(c,f){Of(c,t,Dr(Dr([],Xn(n)),Xn(ko(f))))}),t(o,n)}}function VT(e,t,n){return Of(t,function(i,o){e=kf(e,o,function(l){return TT(l,i,n)})}),e}function RT(e,t){function n(c,f){var p=PT(e,ko(f));c.map(ko).forEach(function(g){e=kf(e,g,function(){return p})})}if(Fr(t)){var i=Xn(t,2),o=i[0],l=i[1];o.forEach(function(c){e=kf(e,ko(c),function(){return e})}),l&&fs(l,n)}else fs(t,n);return e}var MT=function(e,t){return Bo(e)||Fr(e)||Lo(e)||Uo(e)||wS(e,t)};function DT(e,t,n){var i=n.get(e);i?i.push(t):n.set(e,[t])}function NT(e,t){var n={},i=void 0;return e.forEach(function(o){if(!(o.length<=1)){t||(o=o.map(function(p){return p.map(String)}).sort(function(p,g){return p.length-g.length}));var l=Xn(o),c=l[0],f=l.slice(1);c.length===0?i=f.map(Wd):n[Wd(c)]=f.map(Wd)}}),i?bf(n)?[i]:[i,n]:bf(n)?void 0:n}var ES=function(e,t,n,i,o,l,c){var f;o===void 0&&(o=[]),l===void 0&&(l=[]),c===void 0&&(c=new Map);var p=AT(e);if(!p){DT(e,o,t);var g=c.get(e);if(g)return i?{transformedValue:null}:g}if(!MT(e,n)){var v=Wv(e,n),S=v?{transformedValue:v.value,annotations:[v.type]}:{transformedValue:e};return p||c.set(e,S),S}if(Il(l,e))return{transformedValue:null};var _=Wv(e,n),x=(f=_==null?void 0:_.value)!==null&&f!==void 0?f:e,T=Fr(x)?[]:{},E={};fs(x,function(Q,G){var Y=ES(Q,t,n,i,Dr(Dr([],Xn(o)),[G]),Dr(Dr([],Xn(l)),[e]),c);T[G]=Y.transformedValue,Fr(Y.annotations)?E[G]=Y.annotations:Bo(Y.annotations)&&fs(Y.annotations,function(re,ue){E[mS(G)+"."+ue]=re})});var V=bf(E)?{transformedValue:T,annotations:_?[_.type]:void 0}:{transformedValue:T,annotations:_?[_.type,E]:E};return p||c.set(e,V),V};function kS(e){return Object.prototype.toString.call(e).slice(8,-1)}function Hv(e){return kS(e)==="Array"}function BT(e){if(kS(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function LT(e,t,n,i,o){const l={}.propertyIsEnumerable.call(i,t)?"enumerable":"nonenumerable";l==="enumerable"&&(e[t]=n),o&&l==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function If(e,t={}){if(Hv(e))return e.map(o=>If(o,t));if(!BT(e))return e;const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertySymbols(e);return[...n,...i].reduce((o,l)=>{if(Hv(t.props)&&!t.props.includes(l))return o;const c=e[l],f=If(c,t);return LT(o,l,f,e,t.nonenumerable),o},{})}var li=function(){return li=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},li.apply(this,arguments)},UT=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,l=[],c;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(f){c={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l},FT=function(e,t){for(var n=0,i=t.length,o=e.length;n<i;n++,o++)e[o]=t[n];return e},or=function(){function e(t){var n=t===void 0?{}:t,i=n.dedupe,o=i===void 0?!1:i;this.classRegistry=new cT,this.symbolRegistry=new hS(function(l){var c;return(c=l.description)!==null&&c!==void 0?c:""}),this.customTransformerRegistry=new pT,this.allowedErrorProps=[],this.dedupe=o}return e.prototype.serialize=function(t){var n=new Map,i=ES(t,n,this,this.dedupe),o={json:i.transformedValue};i.annotations&&(o.meta=li(li({},o.meta),{values:i.annotations}));var l=NT(n,this.dedupe);return l&&(o.meta=li(li({},o.meta),{referentialEqualities:l})),o},e.prototype.deserialize=function(t){var n=t.json,i=t.meta,o=If(n);return i!=null&&i.values&&(o=VT(o,i.values,this)),i!=null&&i.referentialEqualities&&(o=RT(o,i.referentialEqualities)),o},e.prototype.stringify=function(t){return JSON.stringify(this.serialize(t))},e.prototype.parse=function(t){return this.deserialize(JSON.parse(t))},e.prototype.registerClass=function(t,n){this.classRegistry.register(t,n)},e.prototype.registerSymbol=function(t,n){this.symbolRegistry.register(t,n)},e.prototype.registerCustom=function(t,n){this.customTransformerRegistry.register(li({name:n},t))},e.prototype.allowErrorProps=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(t=this.allowedErrorProps).push.apply(t,FT([],UT(n)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e}();or.serialize;or.deserialize;or.stringify;or.parse;or.registerClass;or.registerCustom;or.registerSymbol;or.allowErrorProps;const vl=(e,t)=>fetch(e,{...t,credentials:"include"}),$T=e=>({links:[Fd({condition:t=>t.context.batch===!0,true:Fd({condition:t=>t.context.target==="session-server",true:$v({url:rv,fetch:vl,headers:async({opList:t})=>{var l,c,f;const n=e!=null&&e.headers?await((l=e==null?void 0:e.headers)==null?void 0:l.call(e)):{},i=((f=(c=t==null?void 0:t[0])==null?void 0:c.context)==null?void 0:f.headers)||{};return{...n,...i}},maxURLLength:4092}),false:$v({url:nv,fetch:vl,headers:async({opList:t})=>{var l,c,f;const n=e!=null&&e.headers?await((l=e==null?void 0:e.headers)==null?void 0:l.call(e)):{},i=((f=(c=t==null?void 0:t[0])==null?void 0:c.context)==null?void 0:f.headers)||{};return{...n,...i,"X-Warmly-Target":"session-server"}},maxURLLength:4092})}),false:Fd({condition:t=>t.context.target==="session-server",true:Fv({url:rv,fetch:vl,headers:async({op:t})=>{var l,c;const n=e!=null&&e.headers?await((l=e==null?void 0:e.headers)==null?void 0:l.call(e)):{},i=((c=t.context)==null?void 0:c.headers)||{};return{...n,...i,"X-Warmly-Target":"session-server"}}}),false:Fv({url:nv,fetch:vl,headers:async({op:t})=>{var l,c;const n=e!=null&&e.headers?await((l=e==null?void 0:e.headers)==null?void 0:l.call(e)):{},i=((c=t.context)==null?void 0:c.headers)||{};return{...n,...i}}})})})],transformer:or}),jT=e=>eT($T(e)),zT=()=>{const{sessionId:e,userIdentifier:t,sessionSource:n}=JSON.parse(localStorage.getItem("ClientSessionStore")||"{}");return{...t&&{[cf]:t},...e&&{[h0]:e},...n&&{[fE]:n},...window.warmly_fingerprint&&{[p0]:window.warmly_fingerprint},[g0]:Pl,...m0()}},Be=jT({headers:zT});function WT(){try{let e=document.getElementById("warmly-script-loader");e||(e=document.querySelector('script[src*="warmly.js"]'));const t=e==null?void 0:e.src;return t?new URL(t).origin:"/"}catch(e){return ie.error("Error getting widget root url",e),"/"}}function HT(e,t){try{const n=new URL(e);return n.href.replace(n.origin,t)}catch{return`${t}/${e}`}}const GT="data:audio/mpeg;base64,SUQzBAAAAAACXVRYWFgAAAASAAADbWFqb3JfYnJhbmQATTRBIABUWFhYAAAAEQAAA21pbm9yX3ZlcnNpb24AMABUWFhYAAAAIAAAA2NvbXBhdGlibGVfYnJhbmRzAE00QSBpc29tbXA0MgBUWFhYAAAANgAAA3ZvaWNlLW1lbW8tdXVpZAAyMTBGRjU4NC1GMDJELTRBRUItOUFCRC1CM0I0OUJBQjBGOTEAVElUMgAAAAYAAANCb29wAFRYWFgAAAB/AAADaVR1blNNUEIAIDAwMDAwMDAwIDAwMDAwNzcyIDAwMDAwMDE5IDAwMDAwMDAwMDAwMDIwNzUgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAAVFNTRQAAAA8AAANMYXZmNTkuMjcuMTAwAAAAAAAAAAAAAAD/+1TAAAAAAAAAAAAAAAAAAAAAAABYaW5nAAAADwAAAAkAAA2AAEBAQEBAQEBAQEBAUVFRUVFRUVFRUVFubm5ubm5ubm5ubpGRkZGRkZGRkZGRrq6urq6urq6urq7KysrKysrKysrKyuDg4ODg4ODg4ODg+Pj4+Pj4+Pj4+Pj//////////////wAAAABMYXZjNTkuMzcAAAAAAAAAAAAAAAAkBbIAAAAAAAANgAh2D/oAAAAAAAAAAAAAAAAAAAD/+8TEAAAFmAM7oIAAIZCn5XT2DV0IBubXbbf/cAg+D5QHz5xbwifnAi+XLvlHdb/T5QMdYP5CUv/y7yn8P/KHMHwZNo2iUmkioFydgQ0BzKUegPoHED/GAKA5QJF0HyeePkjVrD12MkEn7CeE0dgTEQciyV1QQ2/X3qMhE5w55LNvB3ke50mr8bQ0BaZsWVM9czbL789/yJup2FIm5rUyGPZhauYeAkZ5U1Vm5o05B0DjRwaUyRW5UjS1Zva+2WB3JhzCgoVODNEg+E2QPsiBL41iXdlxuOUn8+mWINDzuahahu9khuXurZJt0+qV2Qt72XVKqrSKVndyOnVHa1ws5xaHtM6tqzvqw/Yc20bcjTjSUAlBaoSpN9BGY0AwZ/sR7REEIBUjX6BDFcsGQtxYJh0OxPF4/CIVzIQScC6IeiWJJ6TkxOcQ1qVWoP7O6yYrX1601xqV6zoKRNlg9L+Osdx8e6du3yHis1VppbsRxaFrIWTurt5cs1FildjtogryXhKZO7xeky9MY02ynrPOIUaVCbbpFHmGa9OZq3cwTn4f/CcZu5/3IABVCcvtrrljRKhkjBGpqVrkDlTCEakABAwgwzQ4IibYyhLWEW+5SPN+D15wh2Ph2PZWH3CQuiudIThsVCfATDJSSCWgwBKfnxLPS40vJ/utYsUn6VUhnJk7AcLC1EsXxJLTTguz2woYBUZiDba7RLTJpb5jGi7+GPVQ+T2XDa7G469xsrJJrTcw0kYVJh8Nv7a9VtGa7lV/9/sI4Nhyv+IIEFAjQrISEjKiRIYgMgKya6kZ8CY0WHPwQVMywAIdmAkm4DATpwNB8HLDGYUKFn8pzlQ9FsDhM9SzgoWJlSSLmY1fLBcXyQw3YZ3N3XblGZ1hblVkVsj/+2TE/QAMnSEz7CBP6n8wJHWGGjzwXkatYL2rMpfCeNyujeHBePKtbbSBBcILjAfedq8lJsRYlLPb6eQJMZnzuI/n1NNuFSm9Pouou4sWNH1rEettV3i3tPDlpHvjWf66zHxEcrPb7pq+IsSOwwETE/2xUYZlIQEQAwAwBhFrdoqEZsmr1AAQAo/MwRw1NNzJrQNUkYyGEx4ZHsWGKC0y2xTM7mCwZMYhE5XUwA4jr6xLeGTwSUBg2jLDZybAoNGQIYbB4OG7BDkqUOfsAzYkQqGVqq0I5hALXIYrHhgAQGTQqYoEZkMMmCh+oAsOpkr/+5TE6AAUFYElrLDRotOwJD608ATANAQx8IBIsmLQaFQOYdEqjhVAiIwjDMKn4owSA4W04w0IjE4xFAeYMDBhAGAUKRJXTCWcqdS90VL0D3cm3njAFC5jQlGcwUJDRTAmHAkT29QTJjpYJjVQoFa6scos/zK+ZaIQFCQyAY1Godgx6DGwBSFZVlTzG7FFD7E37sNq7+T/ytraJidheBfZcFdS7FFlhZ+Hpe01+fjUSs3JHC7Mva/q629JOY00UVQBoARtXNKg4FgYEBgMRiCAooKpkxuNNiXdRTUSZk6VG7tJT54b////////////////////+l//9kauABT2/ctdEIkwRYypEwB4w4xBIY0AVDIYPERfy9xgkBw+AujMMUU9LgHG7HoxxUA2Hl+h0P5aBqdGxJM1p6+78R0cnZEgXPmJJWkFGvYbVEOFtVFnuzOzbdRO110ej4SkoSlmjxjA1mWiYXg8NyUDUSDpUtq0/CzTK530o7a+fnbrdHnftZ//+6TE8oArpb81+c4QArYv6De0wATurkzM49a7tvrad60PW2vZQ+utYXXd5msDzLtqtMPat46VFWI9ooAIAAnLrHNebnhJi5BhywkEwDptBDmodJYCFKlCBovr9LzETmnSyD39i7wtgHgFnF1x5EqzTak4NivC4sEnj1aZwnSHGf8TYojh2iCryCNPlHG7a9DHHHaIvDs8nXq5nJej9ft1o8i0j13nJ1DnaZb81uTs5pHIxaLFLQJRCBtwdDtVZbVXlGa/6JXXMztJIxDjUgIuRCIQYVpakT/3cp0uSUBULl2jd3Nkw0jDDSFIAIaaPQQUgGNYEapX4DWgoOoaFgYMQahLXWoKxDSWR/w9Lp6bnQnNKz6xaEFSnLcOvIrDWIaxthuMlCKPBiyflYzENWtOYq3Ys7U5eo6xc9LiZbDS9L689d5mKOE8GwfHpebTXBrRK1MY2n1b5cWcixqxa3DKh2Mg0qkOg2XloFhZEu7RogaLCwhDGE0BlKf9o+aqDhHqbV8Cyl30l36PACmMLFqJrBoJQKgZ6S9R1EBKAwsYFJglF1GmHMhdhSCTA5g+MTwpAeeLRZGod054oZXlZy5NXvKhyimkbjDpOMllW6oRhCfMkm7y91usWqrc/sIcK1P/+5TE0oAUFX05rDDT6pKwJrWWIjwJ4rrT8pSJlQ6kFjCyYfSVLV7lPhiKcvWYcTXUfSHxnlj9WfSjSZ19BhJJL1ymBcoH2bOfbVzqtlVjw2wf/////y0qruCrLt/b96CTDoVL2hlogiMgI0wDKEC6RaSPDJyUzT2argb+LuhekL/Q81plYOiSXSaaNF4vtfkUEDR8fJFrTCtd5lDVWlWNsXJbCW51rNMtBfaZjlVC08CcGpRejiq0+xaPdY0JSOPj7x6vWlU/ll15nYHrX1+dbuUp31djU5TuilNNgqkgBmmIulZRMmx2Q1de84F5Dq+ulsiBTf37tlgMlEBxkwiOJF4cXLBS6jBGKga6FljwTptAVLDNJEGfv8CY7jUFJDUGBkck8GoglouNsF5AOniYSV5UdZWGCOyo8QD8vOqnCnY7aPey09S/9RPzz1hDEAiGfXsfxKabeJr8TmMKX8OZyrKRuEQNBNjJzWx78RN05qvLukVNkMRNXkOMdSaRybb/+5TE5QAUMYE1rLDR4mUpZrWWGnx1YUdeJr3xOkzoDC3dI24wDgdKFqheaLAo0iyDnA9Q840ptgrC5XNU0f1u8JYK0AchDHVktGKAvaJb7CzTsvtiXRdY4QF4FTgwPqo2jKWPhcRdU+YqeQWbvQ+qdXszC0wVSmdK+2v7lvy18QYwnRHXC9Z5Z4rxGvO3ohFGE2QlOfZWTeVoajEoMnEYzdSlI9G4KZdkuZZsx/hFNGN1AUSNrpZLDBsskM9DLL7P0S54ICCmBEwutG8IepBVqYMIgKAlDmI0lCqWy2rT6Vpb/RZ83gcukshQqhHy6ryARkzcF4LueSitkitxklLFIJSJlWHJoPCo7sB88esiPE6r0aUIrk2IF8XSJ9uc5ol7tlBkJtbi6xRCvsU0c1Zwc5vHddSDaM2mjU2prTRiZvY1s0SS9QRkaNTJQWXigRv65iN2WyyOsAiCAkNQBwRjoCqYGdWFJRgsUleZQseS1QpiDPkcospjAjYLBJyMdZL/+3TE/QAS1UkvrLDR4kgppTWGGj3gBMpAlq0gRGB8l+akTSgiTdGwFGtraRyWdwwCTVpEotcJgFXouCMnBWz+9GxvNCXI/864JbuyxJMAoV22c3DtKyq2WrfJyVGquDwo2gVDSh0/08JEWSyjcef/205LlQZMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVlVlEAACgcjYeyFAooCJoD1JInGlmWr5KlUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+4TE7gAUFWsr7CR34kGsZPWUmiVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/+xTE5oPDECsDBJjEqAAANIAAAARVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";class qT{constructor(){y(this,"dbName","WarmlyActivityQueue");y(this,"dbVersion",1);y(this,"storeName","activities");y(this,"db",null);y(this,"isInitialized",!1)}async initialize(){if(!(this.isInitialized&&this.db))return new Promise((t,n)=>{const i=indexedDB.open(this.dbName,this.dbVersion);i.onerror=()=>{ie.error("Failed to open IndexedDB for activity queue",i.error),n(i.error)},i.onsuccess=()=>{this.db=i.result,this.isInitialized=!0,t()},i.onupgradeneeded=o=>{const l=o.target.result;if(!l.objectStoreNames.contains(this.storeName)){const c=l.createObjectStore(this.storeName,{keyPath:"id"});c.createIndex("timestamp","timestamp",{unique:!1}),c.createIndex("type","type",{unique:!1}),c.createIndex("sessionUserId","sessionUserId",{unique:!1})}}})}async enqueueActivity(t){await this.ensureInitialized();const n={...t,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,retryCount:0,createdAt:Date.now()};return new Promise((i,o)=>{const f=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).add(n);f.onsuccess=()=>{i()},f.onerror=()=>{ie.error("Failed to enqueue activity",f.error),o(f.error)}})}async getAllActivities(){return await this.ensureInitialized(),new Promise((t,n)=>{const c=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).index("timestamp").getAll();c.onsuccess=()=>{const f=c.result.sort((p,g)=>p.timestamp-g.timestamp);t(f)},c.onerror=()=>{ie.error("Failed to get queued activities",c.error),n(c.error)}})}async getQueueStats(){const t=await this.getAllActivities(),n=t.filter(i=>i.type==="keep_alive"&&i.data.activeSeconds).reduce((i,o)=>i+(o.data.activeSeconds||0),0);return{totalActivities:t.length,oldestActivity:t[0],newestActivity:t[t.length-1],totalActiveSeconds:n}}async clearQueue(){return await this.ensureInitialized(),new Promise((t,n)=>{const l=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).clear();l.onsuccess=()=>{t()},l.onerror=()=>{ie.error("Failed to clear activity queue",l.error),n(l.error)}})}async removeActivity(t){return await this.ensureInitialized(),new Promise((n,i)=>{const c=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(t);c.onsuccess=()=>{n()},c.onerror=()=>{ie.error("Failed to remove activity from queue",c.error),i(c.error)}})}async cleanupOldActivities(){await this.ensureInitialized();const t=24*60*60*1e3,n=Date.now()-t;return new Promise((i,o)=>{const f=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).index("timestamp"),p=IDBKeyRange.upperBound(n),g=f.openCursor(p);g.onsuccess=v=>{const S=v.target.result;S?(S.delete(),S.continue()):i()},g.onerror=()=>{ie.error("Failed to cleanup old activities",g.error),o(g.error)}})}async ensureInitialized(){(!this.isInitialized||!this.db)&&await this.initialize()}close(){this.db&&(this.db.close(),this.db=null,this.isInitialized=!1)}}const Vr=new qT;class KT{constructor(){y(this,"isProcessing",!1);y(this,"maxRetries",3)}async processQueuedActivities(t){var n,i,o,l;if(this.isProcessing)return ie.warn("Activity processing already in progress, skipping"),{processed:0,failed:0,totalActiveSeconds:0,errors:["Processing already in progress"]};this.isProcessing=!0,ie.info(`Starting to process queued activities for session ${t}`);try{const c=await Vr.getAllActivities();if(c.length===0)return ie.info("No queued activities to process"),{processed:0,failed:0,totalActiveSeconds:0,errors:[]};ie.info(`Found ${c.length} queued activities to process`);const f={processed:0,failed:0,totalActiveSeconds:0,errors:[]},p=this.groupActivitiesByType(c);if(((n=p.page_visit)==null?void 0:n.length)>0){const g=await this.processPageVisits(t,p.page_visit);f.processed+=g.processed||0,f.failed+=g.failed||0,f.errors.push(...g.errors||[])}if(((i=p.keep_alive)==null?void 0:i.length)>0){const g=await this.processKeepAlives(t,p.keep_alive);f.processed+=g.processed||0,f.failed+=g.failed||0,f.totalActiveSeconds=g.totalActiveSeconds||0,f.errors.push(...g.errors||[])}if(((o=p.form_fill)==null?void 0:o.length)>0){const g=await this.processFormFills(t,p.form_fill);f.processed+=g.processed||0,f.failed+=g.failed||0,f.errors.push(...g.errors||[])}if(((l=p.navigation)==null?void 0:l.length)>0){const g=await this.processNavigations(t,p.navigation);f.processed+=g.processed||0,f.failed+=g.failed||0,f.errors.push(...g.errors||[])}return f.processed>0&&(await Vr.clearQueue(),ie.info(`Successfully processed and cleared ${f.processed} activities`)),ie.info("Activity processing completed",f),f}catch(c){return ie.error("Error during activity processing",c),{processed:0,failed:0,totalActiveSeconds:0,errors:[c instanceof Error?c.message:"Unknown processing error"]}}finally{this.isProcessing=!1}}groupActivitiesByType(t){return t.reduce((n,i)=>(n[i.type]||(n[i.type]=[]),n[i.type].push(i),n),{})}async processPageVisits(t,n){const i={processed:0,failed:0,errors:[]},o=Array.from(new Set(n.map(c=>c.data.url).filter(c=>!!c)));return o.length===0||((await Promise.allSettled(o.map(c=>Be.sessions.trackPageVisit.mutate({sessionId:t,url:c},{context:{target:"session-server"}})))).forEach((c,f)=>{if(c.status==="fulfilled")i.processed++;else{i.failed++;const p=`Failed to process page visit ${o[f]}: ${c.reason instanceof Error?c.reason.message:"Unknown error"}`;i.errors.push(p),ie.error(p)}}),ie.info(`Batch processed ${i.processed}/${o.length} unique page visits (${i.failed} failed)`)),i}async processKeepAlives(t,n){const i={processed:0,failed:0,errors:[],totalActiveSeconds:0},o=n.reduce((l,c)=>l+(c.data.activeSeconds||0),0);if(o>0)try{await Be.sessions.keepAlive.mutate({sessionId:t,activeSeconds:o},{context:{target:"session-server"}}),i.processed=n.length,i.totalActiveSeconds=o,ie.info(`Processed accumulated keep-alive: ${o}s from ${n.length} activities`)}catch(l){i.failed=n.length;const c=`Failed to process accumulated keep-alive: ${l instanceof Error?l.message:"Unknown error"}`;i.errors.push(c),ie.error(c)}return i}async processFormFills(t,n){const i={processed:0,failed:0,errors:[]},o=n.map(c=>c.data.formData).filter(c=>!!c);return o.length===0||((await Promise.allSettled(o.map(c=>Be.sessions.formFill.mutate({sessionId:t,...c},{context:{target:"session-server"}})))).forEach((c,f)=>{if(c.status==="fulfilled")i.processed++;else{i.failed++;const p=`Failed to process form fill: ${c.reason instanceof Error?c.reason.message:"Unknown error"}`;i.errors.push(p),ie.error(p)}}),ie.info(`Batch processed ${i.processed}/${o.length} form fills (${i.failed} failed)`)),i}async processNavigations(t,n){const i={processed:0,failed:0,errors:[]},o=Array.from(new Set(n.map(c=>c.data.url).filter(c=>!!c)));return o.length===0||((await Promise.allSettled(o.map(c=>Be.sessions.trackPageVisit.mutate({sessionId:t,url:c},{context:{target:"session-server"}})))).forEach((c,f)=>{if(c.status==="fulfilled")i.processed++;else{i.failed++;const p=`Failed to process navigation ${o[f]}: ${c.reason instanceof Error?c.reason.message:"Unknown error"}`;i.errors.push(p),ie.error(p)}}),ie.info(`Batch processed ${i.processed}/${o.length} unique navigations (${i.failed} failed)`)),i}isCurrentlyProcessing(){return this.isProcessing}resetProcessingState(){this.isProcessing=!1}}const QT=new KT;class YT{constructor(){y(this,"isDebugMode",!1);y(this,"sessionId");this.isDebugMode=new URLSearchParams(window.location.search).get("debug")==="true"}setSessionId(t){this.sessionId=t}getSessionId(){return this.sessionId}isDebugEnabled(){return this.isDebugMode}async log({sessionId:t,stage:n,level:i,message:o,details:l,skipBackend:c=!1}){if(!this.isDebugMode)return;const f=t||this.sessionId,p=new Date().toISOString(),g=navigator.userAgent,v=window.location.href,S=`[Widget] ${n}: ${o}`,_={sessionId:f,stage:n,timestamp:p,userAgent:g,url:v,details:l};try{ie[i](S,_)}catch{}f&&!c&&Be.widget.logFrontendEvent.mutate({sessionId:f,stage:n,level:i,message:o,details:l,timestamp:p,userAgent:g,url:v},{context:{target:"session-server"}}).catch(x=>{ie.warn("[Widget] Backend logging failed",{error:x,originalMessage:o})})}info(t,n,i,o){return this.log({sessionId:o,stage:t,level:"info",message:n,details:i})}warn(t,n,i,o){return this.log({sessionId:o,stage:t,level:"warn",message:n,details:i})}error(t,n,i,o){return this.log({sessionId:o,stage:t,level:"error",message:n,details:i})}debug(t,n,i,o){return this.log({sessionId:o,stage:t,level:"debug",message:n,details:i})}logWidgetInit(t){return this.info("widget_init","Widget initialization started",t)}logSessionCreation(t,n){const i=t?"Session created successfully":"Session creation failed",o=t?"info":"error";return this.log({stage:"session_creation",level:o,message:i,details:n})}logSocketConnection(t,n){const i=t==="error"?"error":t==="disconnected"?"warn":"info";return this.log({stage:"socket_connection",level:i,message:`Socket ${t}`,details:n})}logChatMessages(t,n,i){const o=n!==void 0?`${t} ${n} messages`:`Messages ${t}`;return this.info("chat_messages",o,i)}logUIStateChange(t,n){return this.info("ui_state_change",t,n)}logKeepAlive(t){return this.debug("keep_alive","Keep alive sent",t)}logWorkflowTrigger(t,n){return this.info("workflow_trigger",t,n)}logUserInteraction(t,n){return this.info("user_interaction",t,n)}}const $=new YT,vh={context:{target:"session-server"}},yh=e=>{var n;if(typeof e=="string")return e;const t=(n=e.target)==null?void 0:n.src;return t?`script load error: ${t}`:"script load error"},ea=(e,t)=>{try{Be.sessions.trackPixelScriptAdded.mutate({sessionId:e,scriptType:t},vh).catch(n=>{try{$.error("pixel_setup","trackPixelScriptAdded failed",{sessionId:e,scriptType:t,error:String(n)})}catch{}})}catch{}},Sh=(e,t,n)=>{try{Be.sessions.trackPixelScriptLoaded.mutate({sessionId:e,scriptType:t,loadDurationMs:n},vh).catch(i=>{try{$.error("pixel_setup","trackPixelScriptLoaded failed",{sessionId:e,scriptType:t,error:String(i)})}catch{}})}catch{}},ui=(e,t,n)=>{try{Be.sessions.trackPixelScriptError.mutate({sessionId:e,scriptType:t,errorMessage:n},vh).catch(i=>{try{$.error("pixel_setup","trackPixelScriptError failed",{sessionId:e,scriptType:t,error:String(i)})}catch{}})}catch{}},wh=({script:e,sessionId:t,scriptType:n,scriptAddedAt:i,onLoad:o})=>{e.onload=()=>{o==null||o(),Sh(t,n,Date.now()-i)},e.onerror=l=>{ui(t,n,yh(l))}};let Gv=!1;const XT=(e,t=!1)=>{try{if(tv!=="production"){ie.warn(`Not setting up contact pixel because environment is ${tv}`);return}if(Gv)return;Gv=!0;const n=Date.now(),i=document.createElement("script");i.type="text/javascript";const o=encodeURIComponent(`https://api.immagnify.com/v1/integrations/fxf/webhook/khlFEhkHvc?hem=\${HEM_SHA256_LOWERCASE}&up_id=\${UP_ID}&puid=${e}`);i.src=`https://a.usbrowserspeed.com/cs?pid=4dd5c5fae59ce3249cf6f13469fbc883b27c8135ce5092e6a3b38092dc07d387&puid=${e}&r=${o}`,t&&wh({script:i,sessionId:e,scriptType:"warmly",scriptAddedAt:n}),document.head.append(i),Be.sessions.trackScriptAdded.mutate({sessionId:e,type:"warmly"},{context:{target:"session-server"}}),t&&ea(e,"warmly")}catch(n){$.error("pixel_setup","setupContactPixel failed",{sessionId:e,error:String(n)})}};class JT{constructor(){y(this,"sessionId",null);y(this,"conversationId",null);y(this,"conversationUrl",null);y(this,"meetingToken",null);y(this,"isActive",!1);y(this,"isConnecting",!1);y(this,"isVideoReady",!1);y(this,"error",null);y(this,"isMuted",!1);y(this,"isProcessing",!1);y(this,"hasAudioPermission",!0);y(this,"audioPermissionDenied",!1);y(this,"callObject",null);y(this,"mediaStream",null);y(this,"wasMutedBeforeProcessing",!1);y(this,"permissionStatusCleanup",null);y(this,"checkAudioPermission",async()=>{try{const t=await navigator.permissions.query({name:"microphone"}),n=o=>{Mt(()=>{this.hasAudioPermission=o!=="denied",this.audioPermissionDenied=o==="denied"})};n(t.state);const i=()=>n(t.state);t.addEventListener("change",i),this.permissionStatusCleanup&&this.permissionStatusCleanup(),this.permissionStatusCleanup=()=>t.removeEventListener("change",i)}catch(t){ie.error("Failed to query microphone permission",t),Mt(()=>{this.hasAudioPermission=!0,this.audioPermissionDenied=!1})}});y(this,"startConversation",async(t,n,i)=>{if(!(this.isConnecting||this.isActive)){this.isConnecting=!0,this.error=null,this.checkAudioPermission();try{const o=await Be.cvi.createConversation.mutate({sessionId:t,organizationId:n,agentId:i});if(!this.isConnecting)return;Mt(()=>{this.sessionId=t,this.conversationId=o.conversationId,this.conversationUrl=o.conversationUrl,this.meetingToken=o.meetingToken??null,this.isActive=!0,this.isConnecting=!1,this.isMuted=!1,this.isVideoReady=!1})}catch(o){Mt(()=>{this.isConnecting=!1,this.error=o instanceof Error?o.message:"Failed to start video conversation"}),ie.error("Failed to start CVI conversation",o)}}});y(this,"endConversation",async()=>{const t=this.conversationId,n=this.sessionId;if(!(!t||!n)){try{await Be.cvi.endConversation.mutate({conversationId:t,sessionId:n})}catch(i){ie.error("Failed to end CVI conversation",i)}Mt(()=>this.reset())}});y(this,"handleConversationEnded",()=>{this.reset()});y(this,"setVideoReady",t=>{this.isVideoReady=t});y(this,"toggleMute",()=>{this.isProcessing&&this.isMuted||(this.isMuted=!this.isMuted,this.isProcessing&&(this.wasMutedBeforeProcessing=this.isMuted))});y(this,"setProcessing",t=>{if(t){if(this.isProcessing)return;this.wasMutedBeforeProcessing=this.isMuted,this.isMuted=!0,this.isProcessing=!0}else this.isProcessing=!1,this.wasMutedBeforeProcessing||(this.isMuted=!1)});y(this,"setCallObject",t=>{this.callObject=t});y(this,"getCallObject",()=>this.callObject);y(this,"setMediaStream",t=>{this.mediaStream=t});y(this,"getMediaStream",()=>this.mediaStream);y(this,"sendTextToConversation",async t=>{if(!this.callObject||!this.conversationId||!t.trim())return;const n={message_type:"conversation",event_type:"conversation.respond",conversation_id:this.conversationId,properties:{text:t.trim()}};try{this.callObject.sendAppMessage(n,"*")}catch(i){ie.error("Failed to send text to CVI conversation",i),Mt(()=>{this.error="Failed to send message to avatar"})}});y(this,"reset",()=>{const t=this.callObject;this.callObject=null,t&&!t.isDestroyed()&&t.leave().then(()=>t.destroy()).catch(()=>{}),this.sessionId=null,this.conversationId=null,this.conversationUrl=null,this.meetingToken=null,this.isActive=!1,this.isConnecting=!1,this.isVideoReady=!1,this.error=null,this.isMuted=!1,this.isProcessing=!1,this.mediaStream=null,this.wasMutedBeforeProcessing=!1,this.hasAudioPermission=!0,this.audioPermissionDenied=!1,this.permissionStatusCleanup&&(this.permissionStatusCleanup(),this.permissionStatusCleanup=null)});zr(this,{sessionId:q,conversationId:q,conversationUrl:q,meetingToken:q,isActive:q,isConnecting:q,isVideoReady:q,error:q,isMuted:q,isProcessing:q,hasAudioPermission:q,audioPermissionDenied:q,startConversation:M,endConversation:M,handleConversationEnded:M,setVideoReady:M,toggleMute:M,setProcessing:M,checkAudioPermission:M,reset:M})}}const pn=new JT,ZT=15e3,eP=3e3;class tP{constructor(t){y(this,"isActive",!1);y(this,"activityStartTime");y(this,"lastActivityTime");y(this,"debounceTimer");y(this,"eventListeners",[]);y(this,"options");y(this,"initialKeepAliveSent",!1);y(this,"lastKeepAliveTime");y(this,"throttleMs");y(this,"debounceMs");y(this,"sendKeepAlive",t=>{const n=Date.now();this.options.onActivity(t),this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.activityStartTime=void 0,this.lastActivityTime=void 0,this.lastKeepAliveTime=n});y(this,"clearDebounceTimer",()=>{this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0)});y(this,"setupDebounceTimer",()=>{this.clearDebounceTimer();const t=this.lastActivityTime,n=this.activityStartTime,i=this.lastKeepAliveTime;this.debounceTimer=window.setTimeout(()=>{if(!this.isActive||!n||!t||this.lastKeepAliveTime&&i&&this.lastKeepAliveTime!==i||!this.activityStartTime&&!this.lastActivityTime||this.activityStartTime&&this.activityStartTime!==n&&t>=this.activityStartTime)return;const o=n,l=t;if(!o||!l)return;const c=Math.max(0,Math.round((l-o)/1e3));this.sendKeepAlive(c)},this.debounceMs)});y(this,"start",()=>{this.isActive||(this.isActive=!0,this.addEventListener(window,"mousemove",this.handleActivity,{passive:!0}),this.addEventListener(document,"mousedown",this.handleActivity,{passive:!0}),this.addEventListener(document,"mouseup",this.handleActivity,{passive:!0}),this.addEventListener(document,"click",this.handleActivity,{passive:!0}),this.addEventListener(document,"contextmenu",this.handleActivity,{passive:!0}),this.addEventListener(document,"dblclick",this.handleActivity,{passive:!0}),this.addEventListener(document,"focus",this.handleActivity,{capture:!0,passive:!0}),this.addEventListener(document,"blur",this.handleActivity,{capture:!0,passive:!0}),this.addEventListener(window,"scroll",this.handleActivity,{passive:!0,capture:!0}),this.addEventListener(document,"scroll",this.handleActivity,{passive:!0,capture:!0}),this.addEventListener(window,"resize",this.handleActivity,{passive:!0}),this.addEventListener(document,"input",this.handleActivity,{passive:!0,capture:!0}),this.addEventListener(document,"change",this.handleActivity,{passive:!0,capture:!0}),this.addEventListener(document,"touchmove",this.handleActivity,{passive:!0}),this.addEventListener(document,"touchstart",this.handleActivity,{passive:!0}),this.addEventListener(document,"touchend",this.handleActivity,{passive:!0}),this.addEventListener(document,"touchcancel",this.handleActivity,{passive:!0}),this.addEventListener(document,"drag",this.handleActivity,{passive:!0}),this.addEventListener(document,"dragstart",this.handleActivity,{passive:!0}),this.addEventListener(document,"dragend",this.handleActivity,{passive:!0}),this.addEventListener(document,"dragover",this.handleActivity,{passive:!0}),this.addEventListener(document,"dragenter",this.handleActivity,{passive:!0}),this.addEventListener(document,"dragleave",this.handleActivity,{passive:!0}),this.addEventListener(document,"selectionchange",this.handleActivity))});y(this,"stop",()=>{this.isActive&&(this.isActive=!1,this.clearDebounceTimer(),this.eventListeners.forEach(({element:t,event:n,handler:i,options:o})=>{t.removeEventListener(n,i,o)}),this.eventListeners=[],this.activityStartTime=void 0,this.lastActivityTime=void 0)});y(this,"reset",()=>{this.isActive&&this.stop(),this.activityStartTime=void 0,this.lastActivityTime=void 0,this.initialKeepAliveSent=!1,this.lastKeepAliveTime=void 0});y(this,"handleActivity",()=>{if(!this.isActive)return;const t=Date.now();if(!this.initialKeepAliveSent){this.initialKeepAliveSent=!0,this.lastActivityTime=t,this.sendKeepAlive(0);return}if(this.activityStartTime||(this.activityStartTime=t),this.lastActivityTime=t,this.lastKeepAliveTime&&this.activityStartTime&&this.lastActivityTime&&t-this.lastKeepAliveTime>=this.throttleMs){const i=Math.max(0,Math.round((this.lastActivityTime-this.activityStartTime)/1e3));this.sendKeepAlive(i);return}this.setupDebounceTimer()});this.options=t,this.throttleMs=t.throttleMs??ZT,this.debounceMs=t.debounceMs??eP,zr(this,{isActive:q,start:M,stop:M,reset:M})}getActivityTimer(){return this.activityStartTime}addEventListener(t,n,i,o){t.addEventListener(n,i,o),this.eventListeners.push({element:t,event:n,handler:i,options:o})}}let qv=!1;const nP=(e,t=!1)=>{try{if(qv)return;qv=!0;const n=Date.now(),i=document.createElement("script");i.type="text/javascript",i.src="https://d-code.liadm.com/did-008f.min.js",i.onload=function(){const o=Date.now()-n,l=Date.now();t&&Sh(e,"live_intent",o);const c=window.liQd_did_008f;if(!c){t&&ui(e,"live_intent","liQd_did_008f not defined after load");return}c.resolve(function(f){const p=Date.now()-l;if(t&&Be.sessions.trackLiveIntentResolved.mutate({sessionId:e,resolveDurationMs:p},{context:{target:"session-server"}}).catch(g=>{try{$.error("pixel_setup","trackLiveIntentResolved failed",{sessionId:e,error:String(g)})}catch{}}),f){const g={...f,sessionId:e,sourceUrl:window.location.href,sourceDomain:window.location.hostname};Be.sessions.captureLiveIntent.mutate({payload:g},{context:{target:"session-server"}})}},function(f){ie.error(f),t&&ui(e,"live_intent",`resolve failed: ${String(f).substring(0,200)}`)},{resolve:["md5","sha2","age","gender"]})},t&&(i.onerror=o=>{ui(e,"live_intent",yh(o))}),document.head.append(i),t&&ea(e,"live_intent")}catch(n){$.error("pixel_setup","setupLiveIntentScript failed",{sessionId:e,error:String(n)})}};let Kv=!1;const rP=e=>{document.cookie=`warmly_id=${e}; path=/; secure; samesite=none`},iP=(e,t,n=!1)=>{try{if(Kv)return;Kv=!0,rP(e);const i=document.createElement("script");i.type="text/javascript",i.text=`!function () {var reb2b = window.reb2b = window.reb2b || [];
    if (reb2b.invoked) return;reb2b.invoked = true;reb2b.methods = ["identify", "collect"];
    reb2b.factory = function (method) {return function () {var args = Array.prototype.slice.call(arguments);
    args.unshift(method);reb2b.push(args);return reb2b;};};
    for (var i = 0; i < reb2b.methods.length; i++) {var key = reb2b.methods[i];reb2b[key] = reb2b.factory(key);}
    reb2b.load = function (key) {var script = document.createElement("script");script.type = "text/javascript";script.async = true;
    script.src = "https://s3-us-west-2.amazonaws.com/b2bjsstore/b/" + key + "/${t}.js.gz";
    var first = document.getElementsByTagName("script")[0];
    first.parentNode.insertBefore(script, first);};
    reb2b.SNIPPET_VERSION = "1.0.1";reb2b.load("${t}");}();`,i.id="warmly-rb2b-contact-pixel-script";const o=Date.now();if(document.head.append(i),n){const l=document.querySelector('script[src*="b2bjsstore"]');l?wh({script:l,sessionId:e,scriptType:"rb2b_contact",scriptAddedAt:o}):ui(e,"rb2b_contact","rb2b inner script not found after inline execution")}Be.sessions.trackScriptAdded.mutate({sessionId:e,type:"rb2b_contact"},{context:{target:"session-server"}}),n&&ea(e,"rb2b_contact")}catch(i){$.error("pixel_setup","setupRB2BScript failed",{sessionId:e,error:String(i)})}};let Qv=!1;const sP=(e,t,n,i=!1)=>{try{if(Qv)return;Qv=!0;const o=`${t}_${e}`,l=document.createElement("script");l.type="text/javascript",l.text=`window.rb2bConfig = { options: { customer_id: ${JSON.stringify(o)} } };`,l.id="warmly-rb2b-oem-api-config",document.head.append(l);const c=document.createElement("script");c.type="text/javascript",c.text=`!function(key) {
      if (window.reb2b) return;
      window.reb2b = {loaded: true};
      var s = document.createElement("script");
      s.async = true;
      s.src = "https://ddwl4m2hdecbv.cloudfront.net/b/" + key + "/" + key + ".js.gz";
      document.getElementsByTagName("script")[0].parentNode.insertBefore(s, document.getElementsByTagName("script")[0]);
    }(${JSON.stringify(n)});`,c.id="warmly-rb2b-oem-api-script";const f=Date.now();if(document.head.append(c),i){const p=document.querySelector('script[src*="ddwl4m2hdecbv.cloudfront.net"]');p?wh({script:p,sessionId:e,scriptType:"rb2b_oem_api",scriptAddedAt:f}):ui(e,"rb2b_oem_api","rb2b oem inner script not found after inline execution")}Be.sessions.trackScriptAdded.mutate({sessionId:e,type:"rb2b_oem_api"},{context:{target:"session-server"}}),i&&ea(e,"rb2b_oem_api")}catch(o){$.error("pixel_setup","setupRB2BOemApiScript failed",{sessionId:e,error:String(o)})}},oP=e=>{var t;if(!((t=window==null?void 0:window.Upvert)!=null&&t.showPopup)){ie.warn("Upvert not loaded on the page");return}window.Upvert.showPopup(e)};let Yv=!1;const aP=(e,t,n=!1)=>{try{if(Yv)return;Yv=!0;const i=Date.now(),o=document.createElement("script");o.type="text/javascript",o.src="https://cdn.vector.co/pixel.js",o.id="warmly-vector-contact-pixel-script",o.onload=()=>{var c,f,p,g;const l=Date.now()-i;if(window.vector){if(!t||!e){ie.error("Vector organization UUID or session ID is not set",{vectorOrgId:t,sessionId:e});return}(f=(c=window.vector)==null?void 0:c.load)==null||f.call(c,t),(g=(p=window.vector)==null?void 0:p.identify)==null||g.call(p,e)}n&&Sh(e,"vector_contact",l)},n&&(o.onerror=l=>{ui(e,"vector_contact",yh(l))}),document.head.append(o),Be.sessions.trackScriptAdded.mutate({sessionId:e,type:"vector_contact"},{context:{target:"session-server"}}),n&&ea(e,"vector_contact")}catch(i){$.error("pixel_setup","setupVectorScript failed",{sessionId:e,error:String(i)})}},lP=async({createdSession:e,eventHandlers:t,config:n,processEvent:i})=>{let o=!1;$.logSocketConnection("connecting",{sessionId:e.sessionId,sessionUserId:e.sessionUserId,widgetVersion:Pl});const l=pE({path:Ss.SOCKET_IO,query:{..._x(e,["sessionId","sessionUserId"]),widgetVersion:Pl},autoConnect:!0,reconnectionDelayMax:3e4,reconnectionAttempts:10,transports:["websocket","polling"]});return l.on("connect",()=>{var c,f;o||(o=!0,$.logSocketConnection("connected",{sessionId:e.sessionId,socketId:l.id,transport:(f=(c=l.io.engine)==null?void 0:c.transport)==null?void 0:f.name}),Object.entries(t).forEach(([p,g])=>{const v=p.replace(/[A-Z]/g,x=>`-${x.toLowerCase()}`).replace("on-","");if(["session-joined","session-ended"].includes(v))return;const _=(...x)=>(v==="chat-messages-enriched"&&$.logChatMessages("received",Array.isArray(x[0])?x[0].length:void 0,{sessionId:e.sessionId,payload:x[0]}),g(...x));l.on(v,_)}),l.on("session-joined",async({initialized:p,roomSize:g})=>{if($.logSocketConnection("connected",{sessionId:e.sessionId,event:"session-joined",initialized:p,roomSize:g}),t.onSetRoomSize(g),At.setInitialized(p),p){At.isRecording&&At.takeSnapshot();return}l.emit("client-socket-connected"),g>0&&!At.isRecording?(await At.startRecording(n,i),At.takeSnapshot(),At.startSnapshotInterval()):At.isRecording&&(At.takeSnapshot(),At.startSnapshotInterval())}),l.on("session-ended",p=>{$.logSocketConnection("disconnected",{sessionId:e.sessionId,reason:"session-ended",args:p}),l.disconnect(),t.onSessionEnded(p)}),l.on("disconnect",async()=>{$.logSocketConnection("disconnected",{sessionId:e.sessionId,reason:"socket-disconnect"});try{(await Be.sessions.getSessionStatus.mutate({sessionId:e.sessionId},{context:{target:"session-server"}})).includes("closed")&&l.disconnect()}catch(p){$.logSocketConnection("error",{sessionId:e.sessionId,error:"getSessionStatus failed",details:p}),ie.error("getSessionStatus Error",p),l.disconnect()}}))}),l.on("connect_error",c=>{$.logSocketConnection("error",{sessionId:e.sessionId,error:"connect_error",details:c.message}),l.io.opts.transports=["polling","websocket"]}),l},uP={IncrementalSnapshot:3},Tr={MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,Drag:12,Selection:14},cP=[Tr.MouseMove,Tr.MouseInteraction,Tr.Scroll,Tr.ViewportResize,Tr.Input,Tr.TouchMove,Tr.Drag,Tr.Selection],qe={recordSessionState:{loading:!1},updateHubspotUserTokenState:{loading:!1},sessionId:void 0,sessionSource:void 0,createdSession:void 0,prompts:{promptForVideo:!1},roomSize:0,currentActivityTimer:0,widgetRootUrl:void 0,inboundSettings:{inboundEnabled:!1,customPrivacyPolicyEnabled:!1,inboundCalendarUrl:void 0,inboundCustomSettings:void 0,inboundVideoGreetingEnabled:!1,videoGreetingDefaultUrl:void 0,privacyPolicyUrl:void 0,initialPrivacyPolicyMessage:void 0,shortenedPrivacyPolicyMessage:void 0,chatBrandingSettings:null},agentHasTurnedOnAudioOrVideo:!1,sessionTerminated:!1,recreatingSession:!1,reconnectionState:void 0,inactivityTimeout:void 0,hideVisitorsReplay:!1,workflowId:void 0,isWorkflowCompleted:!1,isCviEnabled:!1,cviAgentId:null,cviGreetingVideoUrl:null,isVideoGreetingCollapsed:!1};class dP extends Ix{constructor(){super({type:"client",getWarmlyWidgetIdHeader:()=>({...this.userIdentifier&&{[cf]:this.userIdentifier},...this.sessionId&&{[h0]:this.sessionId},...window.warmly_fingerprint&&{[p0]:window.warmly_fingerprint},[g0]:Pl})});y(this,"recordSessionState",qe.recordSessionState);y(this,"updateHubspotUserTokenState",qe.updateHubspotUserTokenState);y(this,"sessionId",qe.sessionId);y(this,"sessionSource",qe.sessionSource);y(this,"createdSession",qe.createdSession);y(this,"agent",qe.agent);y(this,"prompts",qe.prompts);y(this,"roomSize",qe.roomSize);y(this,"currentActivityTimer",qe.currentActivityTimer);y(this,"inboundSettings",qe.inboundSettings);y(this,"agentHasTurnedOnAudioOrVideo",qe.agentHasTurnedOnAudioOrVideo);y(this,"sessionTerminated",qe.sessionTerminated);y(this,"recreatingSession",qe.recreatingSession);y(this,"reconnectionState",qe.reconnectionState);y(this,"inactivityTimeout",qe.inactivityTimeout);y(this,"hideVisitorsReplay",qe.hideVisitorsReplay);y(this,"widgetRootUrl",WT());y(this,"workflowId",qe.workflowId);y(this,"isWorkflowCompleted",qe.isWorkflowCompleted);y(this,"isCviEnabled",qe.isCviEnabled);y(this,"cviAgentId",qe.cviAgentId);y(this,"cviGreetingVideoUrl",qe.cviGreetingVideoUrl);y(this,"isVideoGreetingCollapsed",qe.isVideoGreetingCollapsed);y(this,"isQueueSystemInitialized",!1);y(this,"queueSystemInitPromise",null);y(this,"queuedActivitiesCount",0);y(this,"recentlyProcessedPageVisits",new Set);y(this,"keepAliveManager");y(this,"lastKeepAliveEvent");y(this,"lastKeepAliveSentTime");y(this,"getMessages",Vd(n=>Be.chat.getMessages.query(n,{context:{target:"session-server"}}),{getState:()=>this.getMessagesState,onSuccess:n=>this.processChatMessages(n||[])}));y(this,"checkWorkflowCompleted",async n=>{try{(await Be.chat.isWorkflowCompleted.query({sessionId:n},{context:{target:"session-server"}})).isCompleted&&(this.isWorkflowCompleted=!0,this.setIsLastMessageQuestion(!0))}catch(i){$.error("widget_init","Failed to check workflow completion status",{sessionId:n,error:i})}});y(this,"loadedFonts",new Set);y(this,"systemFonts",new Set(["Arial","Helvetica","Helvetica Neue","Times New Roman","Georgia","Verdana","Tahoma","Trebuchet MS","Courier New","Lucida Console","Impact","Comic Sans MS","Palatino Linotype","Book Antiqua","Garamond","Century Gothic","Segoe UI","system-ui"]));y(this,"loadGoogleFont",n=>{if(!n||this.loadedFonts.has(n)||this.systemFonts.has(n))return;const i=document.createElement("link");i.rel="stylesheet",i.href=`https://fonts.googleapis.com/css2?family=${n.replace(/ /g,"+")}:wght@400;500;600;700&display=swap`,document.head.appendChild(i),this.loadedFonts.add(n)});y(this,"collapseVideoGreeting",()=>{this.isVideoGreetingCollapsed=!0});y(this,"setVideoGreetingCollapsed",n=>{this.isVideoGreetingCollapsed=n});y(this,"teardownCvi",()=>{const n=pn.isActive||pn.isConnecting,i=pn.conversationId,o=pn.sessionId;this.isCviEnabled=!1,this.cviAgentId=null,this.cviGreetingVideoUrl=null,this.isVideoGreetingCollapsed=!1,pn.reset(),n&&i&&o&&Be.cvi.endConversation.mutate({conversationId:i,sessionId:o}).catch(()=>{})});y(this,"setAgent",n=>this.agent=n);y(this,"setPrompts",n=>this.prompts={...this.prompts,...n});y(this,"setAgentHasTurnedOnAudioOrVideo",n=>this.agentHasTurnedOnAudioOrVideo=n);y(this,"onSessionTerminated",()=>{this.sessionTerminated=!0,this.keepAliveManager&&this.keepAliveManager.stop(),this.teardownCvi()});y(this,"initializeQueueSystem",async()=>{if(!this.isQueueSystemInitialized)return this.queueSystemInitPromise?this.queueSystemInitPromise:(this.queueSystemInitPromise=(async()=>{try{await Vr.initialize(),await Vr.cleanupOldActivities(),this.isQueueSystemInitialized=!0,$.info("widget_init","Activity queue system initialized successfully")}catch(n){throw $.error("widget_init","Failed to initialize activity queue system",{error:n}),this.queueSystemInitPromise=null,n}})(),this.queueSystemInitPromise)});y(this,"queueActivity",async n=>{var i,o;try{await Vr.enqueueActivity({type:n.type,timestamp:n.timestamp,data:n.data,sessionUserId:this.userIdentifier,organizationId:((o=(i=this.createdSession)==null?void 0:i.config)==null?void 0:o.clientId)??void 0}),this.queuedActivitiesCount++,$.info("widget_init",`Queued activity: ${n.type}`,{queuedCount:this.queuedActivitiesCount,activityType:n.type})}catch(l){$.error("widget_init","Failed to queue activity",{error:l,activity:n})}});y(this,"processQueuedActivitiesForSession",M(async n=>{try{const i=await Vr.getQueueStats();if(!i||i.totalActivities===0){$.info("widget_init","No queued activities to process",{sessionId:n});return}$.info("widget_init",`Processing ${i.totalActivities} queued activities for session ${n}`,{sessionId:n,totalActivities:i.totalActivities});const l=(await Vr.getAllActivities()).filter(f=>f.type==="page_visit").map(f=>f.data.url).filter(f=>f),c=await QT.processQueuedActivities(n);c.processed>0&&($.info("widget_init",`Successfully processed ${c.processed} activities (${c.totalActiveSeconds}s active time)`,{sessionId:n,processed:c.processed,totalActiveSeconds:c.totalActiveSeconds}),this.queuedActivitiesCount=0,l.forEach(f=>{f&&(this.recentlyProcessedPageVisits.add(f),setTimeout(M(()=>{this.recentlyProcessedPageVisits.delete(f)}),1e4))})),c.failed>0&&$.warn("widget_init",`Failed to process ${c.failed} activities`,{sessionId:n,failed:c.failed,errors:c.errors})}catch(i){$.error("widget_init","Error processing queued activities",{sessionId:n,error:i})}}));y(this,"refreshSessionState",M(async n=>{try{this.receivedMessages=[],this.sentMessages=[],this.initialMessagesCount=void 0,this.sessionIdEngagedInConversation!==n&&(this.sessionIdEngagedInConversation=void 0),this.sessionIdEngagedByWorkflow!==n&&(this.sessionIdEngagedByWorkflow=void 0),this.isLastMessageQuestion=!1,this.isWorkflowCompleted=!1,this.callType=void 0,this.remoteIsTyping=!1,this.remoteUser=void 0,this.webRtcStore.closeWebRtcConnection(),await this.checkWorkflowCompleted(n),await this.getMessages({sessionId:n}),ve.setSessionId(n),$.info("widget_init","refreshSessionState: Reset widget state",{sessionId:n,lightweightPanelDismissed:ve.sessionState.lightweightPanelDismissed,panelShown:ve.sessionState.panelShown,isEngagedByWorkflow:this.isEngagedByWorkflow,sessionIdEngagedByWorkflow:this.sessionIdEngagedByWorkflow,dismissedMessagesCount:ve.dismissedMessages.length,dismissedWorkflowStepsCount:ve.dismissedWorkflowSteps.length,location:"refreshSessionState"});const i=window.location.href;if(!this.recentlyProcessedPageVisits.has(i))try{await Be.sessions.trackPageVisit.mutate({sessionId:n,url:i},{context:{target:"session-server"}})}catch(l){$.error("widget_init",`Failed to track immediate page visit for ${n}`,{sessionId:n,error:l,url:i});try{await this.queueActivity({type:"page_visit",timestamp:Date.now(),data:{url:i,reason:"session_refresh_fallback"}})}catch(c){$.error("widget_init",`Failed to queue page visit fallback for ${n}`,{sessionId:n,error:c,url:i})}}}catch(i){$.error("widget_init","Error refreshing session state",{sessionId:n,error:i})}}));y(this,"processEvent",n=>{var c;if(new URLSearchParams(window.location.search).get("log_events")&&$.info("widget_init","processing event",{event:n,sessionId:this.sessionId}),this.isQueueSystemInitialized||this.initializeQueueSystem().catch(f=>{$.error("widget_init","Failed to initialize queue system in processEvent",{error:f,sessionId:this.sessionId})}),this.recordSessionState.loading||this.recreatingSession||this.sessionTerminated){(async()=>{if(this.queueSystemInitPromise)try{await this.queueSystemInitPromise}catch(p){$.error("widget_init","Queue system initialization failed, attempting to queue anyway",{error:p,sessionId:this.sessionId})}await this.queueActivity({type:"user_interaction",timestamp:Date.now(),data:{event:n,reason:this.sessionTerminated?"session_terminated":"session_unavailable"}}),this.sessionTerminated&&!this.recreatingSession&&($.info("widget_init",`Session terminated, recreating session ${this.sessionId}`,{sessionId:this.sessionId,event:JSON.stringify(n)}),this.recreatingSession=!0,this.recordSession())})().catch(p=>{$.error("widget_init","Failed to queue activity in processEvent",{error:p,sessionId:this.sessionId})});return}this.roomSize>0&&qE(n)&&!this.hideVisitorsReplay&&((c=be.socket)==null||c.emit("screen-event",n)),n.type===uP.IncrementalSnapshot&&cP.includes(n.data.source)&&(this.lastKeepAliveEvent=n)});y(this,"sendWorkflowReply",(n,i,o)=>{var l;$.logWorkflowTrigger("Workflow reply sent",{workflowStepId:n,answer:i,messageId:o,sessionId:this.sessionId}),(l=be.socket)==null||l.emit("inbound-workflow-reply",{workflowStepId:n,answer:i,messageId:o})});y(this,"onBookMeeting",n=>{ve.openBookingView(n)});y(this,"sendChatMessage",(n,i)=>{var c;if(!this.sessionId)return;const o=i||"text",l=new Date;return this.isVideoGreetingCollapsed||this.collapseVideoGreeting(),$.logChatMessages("sent",1,{messageLength:n.length,messageType:o,sessionId:this.sessionId}),pn.isActive?(pn.sendTextToConversation(n),this.sendMessage({content:n,createdAt:l,type:o,sessionId:this.sessionId,agentType:"human"})):((c=be.socket)==null||c.emit("chat-message-sent",{content:n,sessionId:this.sessionId,type:o,agentType:"human",messageOrigin:"visitor"}),this.sendMessage({content:n,createdAt:l,type:o,sessionId:this.sessionId,agentType:"human"}))});y(this,"updateHubspotUserToken",Vd(Be.sessions.updateHubspotUserToken.mutate,{getState:()=>this.updateHubspotUserTokenState}));y(this,"recordSession",Vd(()=>{const n=new URLSearchParams(window.location.search);return $.info("session_creation","Session creation starting",{phase:"starting",clientId:ve.clientId,recreatingSession:this.recreatingSession,debug:n.get("debug")==="true"}),Be.sessions.createSession.mutate({clientId:ve.clientId,utmIdentifier:n.get("w_id")||void 0,utmEmail:n.get("w_email")||void 0,recreatingSession:this.recreatingSession,debug:n.get("debug")==="true"||void 0},{context:{target:"session-server",headers:{[cf]:this.userIdentifier}}})},{getState:()=>this.recordSessionState,onError:n=>{$.logSessionCreation(!1,{phase:"failed",error:n.message,clientId:ve.clientId}),$.error("session_creation","Session creation error",{error:n.message,clientId:ve.clientId})},onSuccess:async n=>{var x;const i=n;let o;if(!i){$.logSessionCreation(!1,{phase:"null_session_returned",reason:"bot_traffic_or_duplicate",clientId:ve.clientId}),$.error("session_creation","No Session Created",{clientId:ve.clientId});return}$.logSessionCreation(!0,{phase:"session_created",sessionId:i.sessionId,sessionUserId:i.sessionUserId,source:i.source,type:i.type,clientId:ve.clientId}),$.setSessionId(i.sessionId);const{trackContactPixel:l}=i.config;i.config.injectRb2bOemApiScript&&i.config.clientId&&i.config.rb2bOemApiScriptId?sP(i.sessionId,i.config.clientId,i.config.rb2bOemApiScriptId,l):i.config.rb2bScriptId&&iP(i.sessionId,i.config.rb2bScriptId,l),i.config.vectorOrgId&&aP(i.sessionId,i.config.vectorOrgId,l),i.config.addContactScript&&XT(i.sessionId,l),i.config.addLiveIntentScript&&nP(i.sessionId,l),this.createdSession=i;const{sessionId:c,sessionUserId:f,config:p,inboundSettings:g}=i,v=this.sessionId,S=v!==c;if(this.sessionId=c,this.sessionSource=i.source,this.sessionIdEngagedByWorkflow!==c&&(this.sessionIdEngagedByWorkflow=void 0),this.sessionIdEngagedInConversation!==c&&(this.sessionIdEngagedInConversation=void 0),$.info("widget_init","Setting widget session ID",{previousSessionId:v,newSessionId:c,isNewSession:S,wasPanelShown:ve.sessionState.panelShown,location:"ClientSessionStore.recordSession.onSuccess"}),ve.setSessionId(c),this.userIdentifier=f,this.inboundSettings=g,this.sessionTerminated=!1,this.recreatingSession=!1,this.hideVisitorsReplay=p.hideVisitorsReplay,(x=g.chatBrandingSettings)!=null&&x.fontFamily&&this.loadGoogleFont(g.chatBrandingSettings.fontFamily),this.keepAliveManager||($.info("widget_init","Initializing KeepAliveManager",{sessionId:c}),this.keepAliveManager=new tP({onActivity:T=>{var Q;const E=(Q=this.createdSession)==null?void 0:Q.createdAt,V=E?new Date>=new Date(new Date(E).getTime()+60*60*1e3):!1;if(T===0)this.lastKeepAliveSentTime=Date.now(),this.emitKeepAlive({activeSeconds:T});else{const G=Date.now(),Y={activeSeconds:T};V&&this.lastKeepAliveEvent&&(Y.event=this.lastKeepAliveEvent,this.lastKeepAliveEvent=void 0),!this.sessionId||this.recordSessionState.loading||this.recreatingSession||this.sessionTerminated?((async()=>{this.isQueueSystemInitialized||await this.initializeQueueSystem(),await this.queueActivity({type:"keep_alive",timestamp:Date.now(),data:{activeSeconds:T,opts:Y,reason:this.sessionTerminated?"session_terminated":"session_unavailable"}})})().catch(Se=>{$.error("widget_init","Failed to queue keep-alive in KeepAliveManager callback",{error:Se,sessionId:this.sessionId})}),this.trackActivityTimestamp()):(this.emitKeepAlive(Y),this.lastKeepAliveSentTime=G)}}})),$.info("widget_init","Resetting KeepAliveManager",{sessionId:c}),this.keepAliveManager.reset(),this.isQueueSystemInitialized||await this.initializeQueueSystem(),this.queuedActivitiesCount>0&&($.info("widget_init",`Found ${this.queuedActivitiesCount} queued activities, processing...`,{sessionId:c,queuedCount:this.queuedActivitiesCount}),await this.processQueuedActivitiesForSession(c)),S)await this.refreshSessionState(c);else{const T=this.receivedMessages.length>0,E=this.isEngagedByWorkflow||this.isEngagedInConversation;(!T||!E)&&(await this.checkWorkflowCompleted(c),await this.getMessages({sessionId:c}))}const _={onSessionEnded:this.onSessionEnded,onClientP2pNegotiation:this.onClientP2pNegotiation,onChatMessagesEnriched:this.onChatMessagesEnriched,onRemoteTypingStateChanged:this.onRemoteTypingStateChanged,onPeerConnectionEstablished:this.onPeerConnectionEstablished,onPeerConnectionEnded:this.onPeerConnectionEnded,onAgentPrompt:this.onAgentPrompt,onSetRoomSize:this.onSetRoomSize,onConversationRequest:this.onConversationRequest,onEndConversation:this.onEndConversation,onTestEvent:()=>null,onServerReady:async({roomSize:T})=>{this.onSetRoomSize(T),be.setServerReady(!0),o==null||o.emit("client-socket-connected"),T>0&&await At.startRecording(p,this.processEvent)},onShowPopup:this.onShowPopup,onWorkflowCompleted:this.onWorkflowCompleted,onCviConversationEnded:this.onCviConversationEnded};this.isLightweightSession?(await At.startRecording(p,this.processEvent),$.info("widget_init","Starting KeepAliveManager for lightweight session",{sessionId:c}),this.keepAliveManager.start()):(o=await lP({createdSession:i,eventHandlers:_,config:p,processEvent:this.processEvent}),be.socket&&be.socket.emit("expire-socket"),be.setSocket(o),$.info("widget_init","Starting KeepAliveManager after socket connection",{sessionId:c}),this.keepAliveManager.start()),this.trackActivityTimestamp()}}));y(this,"keepSessionAlive",M(async n=>{const i=(n==null?void 0:n.activeSeconds)!==void 0?n.activeSeconds:(()=>{var f;const l=((f=this.keepAliveManager)==null?void 0:f.getActivityTimer())??this.currentActivityTimer,c=l?Math.round((Date.now()-l)/1e3):0;return Math.max(0,c)})();!this.sessionId||this.recordSessionState.loading||this.recreatingSession||this.sessionTerminated?(this.isQueueSystemInitialized||await this.initializeQueueSystem(),await this.queueActivity({type:"keep_alive",timestamp:Date.now(),data:{activeSeconds:i,opts:n,reason:this.sessionTerminated?"session_terminated":"session_unavailable"}})):this.emitKeepAlive({...n,activeSeconds:i}),this.currentActivityTimer=0}));y(this,"emitKeepAlive",n=>{var o;const i=(n==null?void 0:n.activeSeconds)??0;$.logKeepAlive({sessionId:this.sessionId,activeSeconds:i}),this.isLightweightSession?this.sessionId&&Be.sessions.keepAlive.mutate({sessionId:this.sessionId,activeSeconds:i},{context:{target:"session-server"}}):(o=be.socket)==null||o.emit("keep-alive",{...n,activeSeconds:i}),this.trackActivityTimestamp()});y(this,"trackActivityTimestamp",()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout);const n=setTimeout(()=>{var i,o;(i=this.createdSession)!=null&&i.sessionId&&($.info("widget_init",`No activity recorded for ${xx(iv/1e3)}, terminating session`,{sessionId:this.createdSession.sessionId}),Be.sessions.endSession.mutate({sessionId:(o=this.createdSession)==null?void 0:o.sessionId},{context:{target:"session-server"}}),this.onSessionTerminated())},iv);this.inactivityTimeout=n});y(this,"onRemoteTypingStateChanged",({isTyping:n,origin:i})=>{$.logUIStateChange(`Remote typing: ${n?"started":"stopped"}`,{origin:i,sessionId:this.sessionId}),this.setRemoteIsTyping(n),this.setTypingOrigin(i),pn.isActive&&pn.setProcessing(n)});y(this,"onSetRoomSize",n=>{this.roomSize=n,At.setRoomSize(n)});y(this,"onPeerConnectionEstablished",n=>this.setAgent(n));y(this,"onAgentPrompt",n=>this.setPrompts(n));y(this,"onPeerConnectionEnded",()=>this.webRtcStore.closeWebRtcConnection());y(this,"onChatMessagesEnriched",n=>this.processChatMessages(n));y(this,"onSessionEnded",()=>this.onSessionTerminated());y(this,"onClientP2pNegotiation",n=>this.webRtcStore.handleP2PNegotiation({message:n,userIdentifier:this.userIdentifier}));y(this,"onEndConversation",()=>{$.logUIStateChange("Conversation ended",{wasEngaged:this.isEngagedInConversation,sessionId:this.sessionId}),this.setSessionIdEngagedInConversation(void 0),this.setRemoteUser(void 0)});y(this,"onConversationRequest",({remoteUser:n,reconnectionState:i})=>{var o;$.logUIStateChange("Conversation request received",{agentId:n.id,agentName:n.name,reconnectionState:i,sessionId:this.sessionId}),(o=be.socket)==null||o.emit("conversation-request-received",{agentId:n.id}),this.setSessionIdEngagedInConversation(this.sessionId),this.setRemoteUser(n),this.reconnectionState=i,this.isWorkflowCompleted&&(this.isWorkflowCompleted=!1,this.setIsLastMessageQuestion(!1))});y(this,"onShowPopup",({popupId:n})=>{oP(n)});y(this,"onWorkflowCompleted",({workflowId:n})=>{$.info("widget_init","Workflow completed",{workflowId:n,sessionId:this.sessionId}),this.isWorkflowCompleted=!0,this.setIsLastMessageQuestion(!0),this.teardownCvi()});y(this,"onCviConversationEnded",()=>{pn.handleConversationEnded()});y(this,"getContrastRgba",(n,i)=>wE(n,i));y(this,"getContrastTextColor",n=>w0(n));y(this,"handleHydrationComplete",()=>{const n=this.sessionId,i=this.userIdentifier,o=this.sessionSource,l=this.sessionIdEngagedByWorkflow;$.info("widget_init","ClientSessionStore hydration complete",{isHydrated:!0,persistedSessionId:n,persistedUserIdentifier:i,persistedSessionSource:o,persistedSessionIdEngagedByWorkflow:l,location:"ClientSessionStore.handleHydrationComplete"})});zr(this,{recordSessionState:q,updateHubspotUserTokenState:q,sessionId:q,createdSession:q,agent:q,prompts:q,roomSize:q,currentActivityTimer:q,inboundSettings:q,agentHasTurnedOnAudioOrVideo:q,sessionTerminated:q,recreatingSession:q,reconnectionState:q,inactivityTimeout:q,widgetRootUrl:q,isWorkflowCompleted:q,isCviEnabled:q,cviAgentId:q,cviGreetingVideoUrl:q,isVideoGreetingCollapsed:q,collapseVideoGreeting:M,setVideoGreetingCollapsed:M,teardownCvi:M,setAgent:M,setPrompts:M,setAgentHasTurnedOnAudioOrVideo:M,onSessionTerminated:M,processEvent:M,sendChatMessage:M,updateHubspotUserToken:M,recordSession:M,keepSessionAlive:M,emitKeepAlive:M,trackActivityTimestamp:M,onRemoteTypingStateChanged:M,onSetRoomSize:M,onPeerConnectionEstablished:M,onAgentPrompt:M,onPeerConnectionEnded:M,onChatMessagesEnriched:M,onSessionEnded:M,onClientP2pNegotiation:M,onEndConversation:M,onConversationRequest:M,onShowPopup:M,onWorkflowCompleted:M,onCviConversationEnded:M,checkWorkflowCompleted:M,queueActivity:M,config:oe,shouldDisplayFab:oe,hasInteractedWithAgent:oe,videoGreetingUrl:oe,videoGreetingType:oe,isAgentOnline:oe,isLightweightSession:oe,recentMessages:oe,chatBrandingV2Settings:oe,inboundCustomSettings:oe,inboundVideoGreetingEnabled:oe,customBackgroundStyle:oe,customOutlinedStyle:oe,customBorderStyle:oe,customForegroundStyle:oe,v2BackgroundColor:oe,v2MessageBubbleStyle:oe,v2MessageBubblePairedStyle:oe,v2SuggestedMessageButtonStyle:oe,v2ButtonColor:oe,v2HeaderStyle:oe,v2FontFamily:oe,v2WidgetPosition:oe,v2WidgetPositionStyles:oe,v2ButtonAlignment:oe,v2CornerRadius:oe,v2LauncherStyle:oe,v2LauncherUrl:oe,v2LauncherButtonColor:oe,v2VideoGreetingUrl:oe,v2GenericTeamUser:oe,v2PrivacyPolicy:oe,v2GreetingMessageBubbleStyle:oe,v2GreetingCornerRadius:oe,v2GreetingCardStyle:oe,v2GreetingButtonColor:oe,v2GreetingButtonStyle:oe,v2GreetingButtonAlignment:oe,v2GreetingSenderAvatarEnabled:oe,v2GreetingImageHeader:oe,v2GreetingButtonStyles:oe,v2ContentStyles:oe,v2CustomOutlinedStyle:oe,v2ChatStyleType:oe,v2IsAiChatStyle:oe,v2AiChatBarGlowColor:oe,v2AiChatBarCallToAction:oe,v2CalendarOpenMode:oe,isEngagedByWorkflow:co,isEngagedInConversation:co,receiveMessage:co,processChatMessages:co,resetState:co}),nh(this,{name:"ClientSessionStore",properties:["sessionId","userIdentifier","sessionSource","sessionIdEngagedByWorkflow"],storage:window.localStorage}),Ke(()=>this.isHydrated,i=>{i?this.handleHydrationComplete():$.info("widget_init","ClientSessionStore not yet hydrated",{isHydrated:!1,persistedSessionId:this.sessionId,persistedUserIdentifier:this.userIdentifier,persistedSessionSource:this.sessionSource,persistedSessionIdEngagedByWorkflow:this.sessionIdEngagedByWorkflow,location:"ClientSessionStore.constructor.reaction"})},{fireImmediately:!0}),document.addEventListener("visibilitychange",()=>{var o;const i=document.visibilityState==="visible";(o=be.socket)==null||o.emit("tab-active-change",{isActive:i}),i&&this.sessionTerminated&&(this.recreatingSession||($.info("widget_init",`Tab became visible after session termination, recreating session for: ${window.location.href}`,{url:window.location.href}),M(()=>{this.recreatingSession=!0})(),this.recordSession()),(async()=>{try{this.isQueueSystemInitialized||await this.initializeQueueSystem(),await this.queueActivity({type:"page_visit",timestamp:Date.now(),data:{url:window.location.href,reason:"tab_return_after_termination"}})}catch(l){$.error("widget_init","Failed to queue page visit after visibility change",{error:l,url:window.location.href})}})())}),window.addEventListener("beforeunload",()=>{if(!this.isLightweightSession)return;const i=new Blob([JSON.stringify({sessionId:this.sessionId})],{type:"application/json; charset=UTF-8"});this.sessionId&&navigator.sendBeacon(aE+oE.END_SESSION,i)})}get isHydrated(){return R0(this)}get config(){var n;return(n=this.createdSession)==null?void 0:n.config}get isEngagedByWorkflow(){return!!this.sessionId&&this.sessionIdEngagedByWorkflow===this.sessionId}get isEngagedInConversation(){return!!this.sessionId&&this.sessionIdEngagedInConversation===this.sessionId}get shouldDisplayFab(){return this.isEngagedInConversation||this.isEngagedByWorkflow}get hasInteractedWithAgent(){const n=typeof this.initialMessagesCount<"u"&&this.sortedReceivedMessages.length;return this.agentHasTurnedOnAudioOrVideo||n}get videoGreetingUrl(){var n;return((n=this.agent)==null?void 0:n.videoGreetingPersonalUrl)||this.inboundSettings.videoGreetingDefaultUrl}get videoGreetingType(){var n;return(n=this.agent)!=null&&n.videoGreetingPersonalUrl?"personal":"default"}get isAgentOnline(){return!!this.agent}get isLightweightSession(){var n;return((n=this.createdSession)==null?void 0:n.type)==="lightweight"}get recentMessages(){return[...this.receivedMessages.map(n=>({...n,origin:"other"}))].filter(n=>n.sessionId===this.sessionId).sort((n,i)=>new Date(n.createdAt).getTime()-new Date(i.createdAt).getTime()).slice(-3)}get privacyPolicyUrl(){return this.inboundSettings.customPrivacyPolicyEnabled&&this.inboundSettings.privacyPolicyUrl||ev.PRIVACY_POLICY}get customPrivacyPolicyEnabled(){return this.inboundSettings.customPrivacyPolicyEnabled}get initialPrivacyPolicyMessage(){return this.inboundSettings.initialPrivacyPolicyMessage||"Privacy Policy"}get shortenedPrivacyPolicyMessage(){return this.inboundSettings.shortenedPrivacyPolicyMessage||"Privacy Policy"}transformChatBrandingToLegacyFormat(n){let i;n.suggestedMessages&&(mE(n.suggestedMessages)?i=n.suggestedMessages:$.warn("ui_state_change","Invalid suggestedMessages format in chatBrandingSettings, returning undefined",{receivedType:typeof n.suggestedMessages,isArray:Array.isArray(n.suggestedMessages)}));const o=n.messageBubbleColor||n.buttonColor;return{colors:o?[{type:"primary",color:o,opacity:n.legacyPrimaryColorOpacity??1}]:void 0,customIconUrl:n.widgetLauncherUrl||void 0,suggestedMessages:i}}get inboundCustomSettings(){return this.inboundSettings.chatBrandingSettings?this.transformChatBrandingToLegacyFormat(this.inboundSettings.chatBrandingSettings):this.inboundSettings.inboundCustomSettings}get inboundVideoGreetingEnabled(){return this.inboundSettings.inboundVideoGreetingEnabled}get chatBrandingV2Settings(){return this.inboundSettings.chatBrandingSettings?vE(this.inboundSettings.chatBrandingSettings):null}get customBackgroundStyle(){var i,o;if(this.chatBrandingV2Settings){const l=this.chatBrandingV2Settings.messageBubbleColor||Pd;return{background:l,color:this.getContrastTextColor(l),"&:hover":{background:l}}}const n=(o=(i=this.inboundCustomSettings)==null?void 0:i.colors)==null?void 0:o.find(l=>l.type==="primary");return n?{backgroundColor:n.color,color:this.getContrastTextColor(n.color),opacity:n.opacity,"&:hover":{backgroundColor:n.color}}:{}}get customOutlinedStyle(){var f,p;if(this.chatBrandingV2Settings){const g=this.chatBrandingV2Settings,v=Tn(g,!1),S=kt(v);if(hf(g,!1)===jl.STROKED){const x=v.includes("gradient"),{r:T,g:E,b:V}=Vo(S),Q=`rgba(${T}, ${E}, ${V}, 0.1)`;if(x){const G=kt(Ao(g,!1)||ff),Y=`linear-gradient(${Q}, ${Q}) padding-box, ${v} border-box`;return{color:"#374151",background:`linear-gradient(${G}, ${G}) padding-box, ${v} border-box`,border:"1px solid transparent",borderRadius:`${g.cornerRadius}px`,fontFamily:g.fontFamily,"&:hover":{color:"#374151",background:Y,backgroundColor:"transparent"}}}return{color:"#374151",borderColor:S,borderRadius:`${g.cornerRadius}px`,fontFamily:g.fontFamily,"&:hover":{color:"#374151",background:Q,backgroundColor:Q,borderColor:S}}}return{background:v,color:this.getContrastTextColor(S),borderRadius:`${g.cornerRadius}px`,fontFamily:g.fontFamily,"&:hover":{background:v,opacity:.85}}}const n=(p=(f=this.inboundCustomSettings)==null?void 0:f.colors)==null?void 0:p.find(g=>g.type==="primary");if(!n)return{};const{r:i,g:o,b:l}=Vo(n==null?void 0:n.color),c=`rgba(${i}, ${o}, ${l}, 0.1)`;return{color:n.color,borderColor:n.color,"&:hover":{color:n.color,backgroundColor:c,borderColor:n.color}}}get customBorderStyle(){var i,o;if(this.chatBrandingV2Settings){const l=this.chatBrandingV2Settings,c=Tn(l,!1);return{borderColor:c,borderRadius:`${gl(l)}px`,"&:hover":{borderColor:c}}}const n=(o=(i=this.inboundCustomSettings)==null?void 0:i.colors)==null?void 0:o.find(l=>l.type==="primary");return n?{borderColor:n.color,"&:hover":{borderColor:n.color}}:{}}get customForegroundStyle(){var i,o;if(this.chatBrandingV2Settings){const l=Tn(this.chatBrandingV2Settings,!1);return{color:l,"&:hover":{color:l}}}const n=(o=(i=this.inboundCustomSettings)==null?void 0:i.colors)==null?void 0:o.find(l=>l.type==="primary");return n?{color:n.color,"&:hover":{color:n.color}}:{}}get v2BackgroundColor(){return this.chatBrandingV2Settings?Ao(this.chatBrandingV2Settings,!1):ff}get v2MessageBubbleStyle(){if(!this.chatBrandingV2Settings)return;const n=this.chatBrandingV2Settings,i=n.messageBubbleColor||Pd,o=kt(i);return{background:i,borderRadius:`${gl(n)}px`,fontFamily:n.fontFamily,padding:"6px 10px",fontSize:"14px",lineHeight:1.4,wordBreak:"break-word",whiteSpace:"pre-wrap",overflow:"hidden",color:this.getContrastTextColor(o)}}get v2MessageBubblePairedStyle(){if(!this.chatBrandingV2Settings)return;const n=this.chatBrandingV2Settings,i=n.messageBubbleColorPaired||"#f3f4f6",o=kt(i);return{background:i,borderRadius:`${gl(n)}px`,fontFamily:n.fontFamily,padding:"6px 10px",fontSize:"14px",lineHeight:1.4,wordBreak:"break-word",whiteSpace:"pre-wrap",overflow:"hidden",color:this.getContrastTextColor(o)}}get v2SuggestedMessageButtonStyle(){if(this.chatBrandingV2Settings)return ov({settings:this.chatBrandingV2Settings,isGreeting:!1,getContrastText:n=>this.getContrastTextColor(n)})}get v2ButtonColor(){return this.chatBrandingV2Settings?Tn(this.chatBrandingV2Settings,!1):Mr}get v2HeaderStyle(){if(!this.chatBrandingV2Settings)return null;const n=this.chatBrandingV2Settings,i=n.headerColor||Mr;return{background:i,fontFamily:n.fontFamily,color:this.getContrastTextColor(kt(i))}}get v2FontFamily(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.fontFamily:"inherit"}get v2WidgetPosition(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.widgetPosition:So.BOTTOM_RIGHT}get v2WidgetPositionStyles(){const n=this.v2WidgetPosition,i=16;switch(n){case So.BOTTOM_LEFT:return{bottom:i,left:16,right:"auto"};case So.BOTTOM_CENTER:return{bottom:i,left:"50%",right:"auto",transform:"translateX(-50%)"};case So.BOTTOM_RIGHT:default:return{bottom:i,right:16,left:"auto"}}}get v2ButtonAlignment(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.buttonAlignment:wn.RIGHT}get v2CornerRadius(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.cornerRadius:10}get v2LauncherStyle(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.widgetLauncherStyle:v0.LOGO}get v2LauncherUrl(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.widgetLauncherUrl:null}get v2LauncherButtonColor(){return this.chatBrandingV2Settings?Tn(this.chatBrandingV2Settings,!1):null}get v2VideoGreetingUrl(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.videoGreetingDefaultUrl:null}get v2GenericTeamUser(){return this.chatBrandingV2Settings?{name:this.chatBrandingV2Settings.genericTeamUserName,tagline:this.chatBrandingV2Settings.genericTeamUserTagline,avatarUrl:this.chatBrandingV2Settings.genericTeamUserAvatarUrl}:{name:null,tagline:null,avatarUrl:null}}get v2PrivacyPolicy(){return this.chatBrandingV2Settings?{enabled:this.chatBrandingV2Settings.customPrivacyPolicyEnabled,url:this.chatBrandingV2Settings.customPrivacyPolicyUrl}:{enabled:!1,url:null}}get v2GreetingMessageBubbleStyle(){if(!this.chatBrandingV2Settings)return;const n=this.chatBrandingV2Settings,i=n.messageBubbleColor||Pd,o=kt(i),l=n.greetingCornerRadius??n.cornerRadius,c=Math.min(l,12);return{background:i,borderRadius:`${c}px`,fontFamily:n.fontFamily,fontSize:"14px",lineHeight:1.4,wordBreak:"break-word",whiteSpace:"pre-wrap",overflow:"hidden",color:this.getContrastTextColor(o)}}get v2GreetingCornerRadius(){if(!this.chatBrandingV2Settings)return 10;const n=this.chatBrandingV2Settings.greetingCornerRadius??this.chatBrandingV2Settings.cornerRadius;return Math.min(n,12)}get v2GreetingCardStyle(){if(!this.chatBrandingV2Settings)return;const n=this.chatBrandingV2Settings,i=n.greetingBackgroundColor||n.headerColor||Mr,o=kt(i);return{background:i,fontFamily:n.fontFamily,textColor:this.getContrastTextColor(o),subtitleColor:this.getContrastRgba(o,.5)}}get v2GreetingButtonColor(){return this.chatBrandingV2Settings?Tn(this.chatBrandingV2Settings,!0):Mr}get v2GreetingButtonStyle(){return this.chatBrandingV2Settings?hf(this.chatBrandingV2Settings,!0):jl.STROKED}get v2GreetingButtonAlignment(){return this.chatBrandingV2Settings?S0(this.chatBrandingV2Settings,!0):wn.FULL}get v2GreetingSenderAvatarEnabled(){return this.chatBrandingV2Settings?this.chatBrandingV2Settings.greetingSenderAvatarEnabled:!0}get v2GreetingImageHeader(){return this.chatBrandingV2Settings?{enabled:this.chatBrandingV2Settings.greetingImageHeaderEnabled,url:this.chatBrandingV2Settings.greetingImageHeaderUrl}:{enabled:!1,url:null}}get v2GreetingButtonStyles(){if(this.chatBrandingV2Settings)return ov({settings:this.chatBrandingV2Settings,isGreeting:!0,getContrastText:n=>this.getContrastTextColor(n)})}get v2ContentStyles(){if(!this.chatBrandingV2Settings)return;const n=this.v2BackgroundColor,i=kt(n),o=Tn(this.chatBrandingV2Settings,!1),l=kt(o);return{background:n,fontFamily:this.v2FontFamily,dividerColor:this.getContrastRgba(i,.1),inputBorderColor:this.getContrastRgba(i,.2),inputHoverBorderColor:l,inputTextColor:this.getContrastRgba(i,1),placeholderColor:this.getContrastRgba(i,.4),privacyPolicyColor:this.getContrastRgba(i,.4),timeStampColor:this.getContrastRgba(i,.4),nameColor:this.getContrastRgba(i,1),iconColor:this.getContrastRgba(i,1),inputPlaceholder:"Send a message...."}}get v2CustomOutlinedStyle(){if(!this.chatBrandingV2Settings)return;const n=this.chatBrandingV2Settings,i=Tn(n,!1),o=kt(i),l=Ao(n,!1),c=gl(n);return{borderColor:o,borderRadius:`${c}px`,borderOpacity:.2,background:l,"&:hover":{borderColor:o}}}get v2ChatStyleType(){var n;return this.chatBrandingV2Settings&&((n=this.inboundSettings.chatBrandingSettings)==null?void 0:n.chatStyleType)||Ol.WIDGET}get v2IsAiChatStyle(){return this.v2ChatStyleType===Ol.AI_CHAT}get v2AiChatBarGlowColor(){var n;return this.chatBrandingV2Settings&&((n=this.inboundSettings.chatBrandingSettings)==null?void 0:n.aiChatBarGlowColor)||sv}get v2AiChatBarCallToAction(){var n;return this.chatBrandingV2Settings&&((n=this.inboundSettings.chatBrandingSettings)==null?void 0:n.aiChatBarCallToAction)||"Chat with us..."}get v2CalendarOpenMode(){return this.chatBrandingV2Settings&&this.chatBrandingV2Settings.calendarOpenMode||df.EMBED}receiveMessage(n){const i=ve.dismissedMessages.includes(n.id||"");let o=!1;if(n.agentType==="workflow")try{const c=JSON.parse(n.content||"{}");c.workflowStepId&&(o=ve.dismissedWorkflowSteps.includes(c.workflowStepId))}catch{}!i&&!o&&ve.setLightweightPanelDismissed(!1),super.receiveMessage(n)}processChatMessages(n){if(n.length===0&&this.sessionId&&(this.receivedMessages.length>0||this.isEngagedByWorkflow||this.isEngagedInConversation||this.remoteIsTyping||this.getMessagesState.loading)){$.info("widget_init","Ignoring empty chat-messages-enriched to prevent flicker",{sessionId:this.sessionId,existingMessagesCount:this.receivedMessages.length,isEngaged:this.isEngagedByWorkflow||this.isEngagedInConversation,isTyping:this.remoteIsTyping,location:"ClientSessionStore.processChatMessages"});return}super.processChatMessages(n),this.extractCviState(n)}extractCviState(n){if(this.isWorkflowCompleted)return;const i=n.filter(l=>l.type==="workflow_step"&&l.messageOrigin==="agent");if(i.length===0)return;if(i[i.length-1].workflowStepComponent!=="ai_chat"){this.teardownCvi();return}for(let l=i.length-1;l>=0;l--){const c=i[l];if(c.workflowStepComponent!=="ai_chat")break;const f=Wl(c.content);if(f&&typeof f=="object"&&"cviEnabled"in f){!!f.cviEnabled?(this.isCviEnabled=!0,this.cviAgentId=f.cviAgentId??null,"cviGreetingVideoUrl"in f&&(this.cviGreetingVideoUrl=f.cviGreetingVideoUrl??null)):this.teardownCvi();return}}}resetState(){this.inactivityTimeout&&(clearTimeout(this.inactivityTimeout),this.inactivityTimeout=void 0),this.keepAliveManager&&(this.keepAliveManager.stop(),this.keepAliveManager=void 0),this.lastKeepAliveEvent=void 0,this.lastKeepAliveSentTime=void 0,At.reset(),pn.reset(),Object.entries(qe).forEach(([n,i])=>this[n]=i),this.isQueueSystemInitialized&&(Vr.clearQueue().catch(n=>{$.error("widget_init","Failed to clear activity queue during reset",{error:n})}),this.queuedActivitiesCount=0,this.isQueueSystemInitialized=!1),this.recentlyProcessedPageVisits.clear(),super.resetState()}}const N=new dP;Ke(()=>N.webRtcStore.mediaStore.remoteVideoOn||N.webRtcStore.mediaStore.remoteMicOn,e=>{if(!e){ve.setVideoAudioDismissed(!1);return}N.setAgentHasTurnedOnAudioOrVideo(!0),ve.newlyReceivedMessages.length>0&&ve.setLightweightPanelDismissed(!1)});Ke(()=>N.webRtcStore.mediaStore.videoOn,e=>e&&N.setPrompts({promptForVideo:!1}));Ke(()=>({isEngagedInConversation:N.isEngagedInConversation,reconnectionState:N.reconnectionState,isP2PConnected:N.webRtcStore.isP2PConnected}),async({isEngagedInConversation:e,reconnectionState:t,isP2PConnected:n})=>{!e||!t||!n||setTimeout(async()=>{const{videoOn:i,micOn:o}=N.webRtcStore.mediaStore,{videoOn:l,micOn:c}=t;l&&!i&&await N.toggleVideo(),c&&!o&&await N.toggleAudio()},1500)});Ke(()=>N.isEngagedInConversation,e=>{e?ve.setIsConnecting(!1):(N.setAgent(void 0),N.setPrompts(qe.prompts))});Ke(()=>({messages:N.sortedReceivedMessages,lastMessageId:N.webRtcStore.mediaStore.lastPlayedMessageId}),({messages:e,lastMessageId:t})=>{const n=e.filter(f=>f.sessionId===N.sessionId);if(n.length<1)return;const i=n[n.length-1];if(!i.id||i.id===t){const f=Wl(i.content),p=!!(f!=null&&f.questionData&&!(f!=null&&f.existingAnswer));N.isWorkflowCompleted&&i.agentType!=="workflow"?(N.isWorkflowCompleted=!1,N.setIsLastMessageQuestion(!1)):!N.isWorkflowCompleted&&N.isLastMessageQuestion!==p&&N.setIsLastMessageQuestion(p);return}if(i.from===N.userIdentifier)return;i.id&&i.id!==t&&N.webRtcStore.mediaStore.setLastPlayedMessageId(i.id),n.some(f=>f.sessionId===N.sessionId&&f.agentType==="workflow")&&N.sessionId&&N.sessionIdEngagedByWorkflow!==N.sessionId&&N.setSessionIdEngagedByWorkflow(N.sessionId);let l=!1;if(i.agentType==="workflow"){const f=Wl(i.content);l=!!(f!=null&&f.questionData)}N.isWorkflowCompleted&&i.agentType!=="workflow"?(N.isWorkflowCompleted=!1,N.setIsLastMessageQuestion(!1)):!N.isWorkflowCompleted&&N.isLastMessageQuestion!==l&&N.setIsLastMessageQuestion(l);let c=!0;if(i.agentType==="workflow")try{const f=JSON.parse(i.content||"{}");f.workflowStepId&&ve.dismissedWorkflowSteps.includes(f.workflowStepId)&&(c=!1)}catch{}c&&new Audio(HT(GT,N.widgetRootUrl)).play().catch(p=>$.error("widget_init","Error playing boop",{error:p,sessionId:N.sessionId}))});Ke(()=>({messages:N.sortedReceivedMessages}),({messages:e})=>{const t=e.filter(c=>c.sessionId===N.sessionId),n=t[t.length-1];if(!(n!=null&&n.id)||n.from===N.userIdentifier)return;t.some(c=>c.sessionId===N.sessionId&&c.agentType==="workflow")&&N.sessionId&&N.sessionIdEngagedByWorkflow!==N.sessionId&&N.setSessionIdEngagedByWorkflow(N.sessionId);const o=Wl(n.content),l=n.agentType==="workflow"&&(o==null?void 0:o.questionData)&&!(o!=null&&o.existingAnswer);N.isWorkflowCompleted&&n.agentType!=="workflow"?(N.isWorkflowCompleted=!1,N.setIsLastMessageQuestion(!1)):!N.isWorkflowCompleted&&N.isLastMessageQuestion!==l&&N.setIsLastMessageQuestion(l)});let xf=[],yl;const Ql=e=>{const t=e;if(!t.target)return;const{type:n,name:i,value:o,className:l,id:c}=t.target,f=N.sessionId;if(!f){ie.warn("Form fill captured, no sessionId");return}Be.sessions.formFill.mutate({sessionId:f,type:n,name:i,value:o,class:l,elementId:c,page:window.location.href},{context:{target:"session-server"}})},Xv=()=>{document.querySelectorAll("iframe").forEach(e=>{var t,n;(n=(t=e==null?void 0:e.contentDocument)==null?void 0:t.querySelectorAll("input:not([type=password])"))==null||n.forEach(i=>{xf.includes(e.src)||(xf.push(e.src),i.addEventListener("change",Ql))})})},fP=()=>{document.querySelectorAll("input:not([type=password])").forEach(e=>e.addEventListener("change",Ql)),Xv(),yl||(yl=setInterval(Xv,1e3)),setTimeout(()=>{clearInterval(yl),yl=void 0},2e4)},FP=()=>{document.querySelectorAll("input:not([type=password])").forEach(e=>e.removeEventListener("change",Ql)),document.querySelectorAll("iframe").forEach(e=>{var t,n;(n=(t=e==null?void 0:e.contentDocument)==null?void 0:t.querySelectorAll("input:not([type=password])"))==null||n.forEach(i=>i.removeEventListener("change",Ql))}),xf=[]},hP=()=>{const e=window.history.pushState;window.history.pushState=function(...t){Su(),e.apply(this,t)}},pP=()=>{const e=window.history.replaceState;window.history.replaceState=function(...t){Su(),e.apply(this,t)}},Su=()=>{setTimeout(()=>ve.setPage(window.location.pathname))},gP=()=>{hP(),pP(),window.addEventListener("popstate",Su)},$P=()=>{window.removeEventListener("popstate",Su)};var Sl={},Jv;function mP(){if(Jv)return Sl;Jv=1;var e=ab();return Sl.createRoot=e.createRoot,Sl.hydrateRoot=e.hydrateRoot,Sl}var vP=mP();const yP=ps.lazy(()=>_0(()=>import("./WidgetApp-BuQT9PRV.js").then(e=>e.W),[])),SP=()=>{const e=document.createElement("div");e.id=ey,e.style.zIndex="2147483647",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="0",e.style.height="0";const t=document.createElement("div");t.style.display="none";const n=e.attachShadow({mode:"open"}),i=document.createElement("div");return i.id="widget-root",n.appendChild(i),e.appendChild(t),document.body.append(e),{shadowRootElement:i,shadowContainer:n}},wP=({shadowRootElement:e,shadowContainer:t})=>{const n=document.createElement("style");n.innerHTML=".calendly-overlay { z-index: 1000002; }",document.head.append(n),vP.createRoot(e).render(Sm.jsx(ps.Suspense,{children:Sm.jsx(yP,{shadowContainer:t})}));const o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("async","true"),o.setAttribute("defer","true"),o.src="https://widget.cloudinary.com/v2.0/global/all.js",document.head.append(o)},xl={sessionId:void 0,panelShown:!1,isFullScreen:!1,isFullScreenClosing:!1,lightweightPanelDismissed:!1,videoAudioDismissed:!1,bookingUrl:null},mt={appRendered:!1,isConnecting:!1,outgoingMessage:"",messages:[],dismissedMessages:[],dismissedWorkflowSteps:[],theme:ly,shadowDom:{shadowRootElement:document.createElement("div"),shadowContainer:{}},sessionJoinedMessage:"",shouldRecord:!0,clientId:"",hubspotCookie:"",currentPage:window.location.pathname,sessionState:xl};class _P{constructor(){y(this,"appRendered",mt.appRendered);y(this,"isConnecting",mt.isConnecting);y(this,"outgoingMessage",mt.outgoingMessage);y(this,"shouldRecord",mt.shouldRecord);y(this,"messages",mt.messages);y(this,"dismissedMessages",mt.dismissedMessages);y(this,"dismissedWorkflowSteps",mt.dismissedWorkflowSteps);y(this,"theme",mt.theme);y(this,"shadowDom",mt.shadowDom);y(this,"sessionJoinedMessage",mt.sessionJoinedMessage);y(this,"clientId",mt.clientId);y(this,"hubspotCookie",mt.hubspotCookie);y(this,"currentPage",mt.currentPage);y(this,"sessionState",mt.sessionState);y(this,"hydrationHandled",!1);y(this,"initialize",(t,n=!0)=>{$.logWidgetInit({clientId:t,shouldRecord:n,url:window.location.href,userAgent:navigator.userAgent,debugMode:$.isDebugEnabled()}),this.clientId=t;const i=this.shadowDom.shadowRootElement;this.getHubspotCookie();const o={components:{MuiPopper:{defaultProps:{container:i}},MuiMenu:{defaultProps:{container:i}},MuiModal:{defaultProps:{container:i}}}};this.theme=Uf(vx(ly,o)),this.shouldRecord=n,fP(),gP(),n?($.logUIStateChange("Starting session recording",{clientId:t}),N.recordSession()):$.logUIStateChange("Session recording disabled",{clientId:t})});y(this,"renderApp",()=>{this.appRendered||($.logUIStateChange("Rendering React app",{firstRender:!0,shadowDomReady:!!this.shadowDom.shadowContainer}),wP(this.shadowDom),this.appRendered=!0)});y(this,"hide",()=>{this.closePanel()});y(this,"show",()=>{this.sessionState.panelShown=!0});y(this,"setOutgoingMessage",t=>this.outgoingMessage=t);y(this,"sendOutgoingMessage",()=>{this.outgoingMessage&&(jo.emit("sendMessageFromWidget",this.outgoingMessage),this.outgoingMessage="")});y(this,"toggleFullScreen",()=>this.sessionState.isFullScreen=!this.sessionState.isFullScreen);y(this,"addMessage",t=>{this.messages=this.messages.concat(t);const n=this.sessionState.sessionId===N.sessionId;n&&!this.sessionState.panelShown?(this.sessionState.panelShown=!0,$.logUIStateChange("Panel auto-opened by addMessage for existing session",{sessionId:N.sessionId,location:"addMessage"})):n||$.logUIStateChange("addMessage called for new session, not auto-opening panel",{sessionId:N.sessionId,sessionStateSessionId:this.sessionState.sessionId,location:"addMessage"})});y(this,"onSessionJoined",t=>{this.sessionState.sessionId===N.sessionId?this.sessionState.panelShown&&$.logUIStateChange("onSessionJoined called for existing open session, keeping panel open",{sessionId:N.sessionId,location:"onSessionJoined"}):$.logUIStateChange("onSessionJoined called for new session, not auto-opening panel",{sessionId:N.sessionId,sessionStateSessionId:this.sessionState.sessionId,currentPanelShown:this.sessionState.panelShown,location:"onSessionJoined"}),this.sessionJoinedMessage=t,setTimeout(M(()=>this.sessionJoinedMessage=""),2500)});y(this,"openPanel",()=>{const t=this.showLightweightPanel,n=this.sessionState.panelShown,i=this.sessionState.lightweightPanelDismissed,o=N.sessionId;this.syncSessionIdIfNeeded("openPanel"),$.logUIStateChange("Panel opened",{trigger:"manual",wasLightweightPanelShown:t,previousPanelShown:n,previousLightweightPanelDismissed:i,sessionStateSessionId:this.sessionState.sessionId,currentSessionId:o,location:"openPanel"}),this.sessionState.panelShown=!0,this.sessionState.lightweightPanelDismissed||(this.sessionState.lightweightPanelDismissed=!0,$.logUIStateChange("Lightweight panel dismissed due to panel open",{location:"openPanel"})),this.sessionState.videoAudioDismissed&&(this.sessionState.videoAudioDismissed=!1,$.logUIStateChange("Video/audio dismissal reset when full panel opened",{location:"openPanel",reason:"full_panel_always_shows_video"}))});y(this,"closePanel",()=>{const t=this.sessionState.panelShown,n=this.sessionState.lightweightPanelDismissed,i=N.sessionId;this.syncSessionIdIfNeeded("closePanel"),$.logUIStateChange("Panel closed",{wasFullScreen:this.sessionState.isFullScreen,previousPanelShown:t,previousLightweightPanelDismissed:n,sessionStateSessionId:this.sessionState.sessionId,currentSessionId:i,location:"closePanel"}),this.sessionState.panelShown=!1,this.sessionState.bookingUrl=null,this.dismissVideoAudioIfShown(),this.dismissMessagesAndLightweightPanel(),this.sessionState.isFullScreen&&(this.sessionState.isFullScreenClosing=!0),setTimeout(M(()=>{this.sessionState.isFullScreen=!1,this.sessionState.isFullScreenClosing=!1}),750)});y(this,"togglePanelOpen",()=>{this.widgetSessionState.panelShown?this.closePanel():this.openPanel()});y(this,"setIsConnecting",t=>{t!==this.isConnecting&&$.logUIStateChange(`Connection state: ${t?"connecting":"idle"}`,{previousState:this.isConnecting,newState:t}),this.isConnecting=t});y(this,"connectWithAgent",t=>{var n;this.isConnecting||($.logUserInteraction("Connect with agent requested",{callType:t,currentlyConnecting:this.isConnecting}),N.setCallType(t),this.setIsConnecting(!0),(n=be.socket)==null||n.emit("connect-with-agent",{type:t}))});y(this,"setLightweightPanelDismissed",t=>{if(!t){const n=N.sessionId,i=this.sessionState.sessionId;this.sessionState.panelShown&&i!==n&&(this.sessionState.panelShown=!1,$.logUIStateChange("Closed stale panel state when showing greeting",{stateSessionId:i,currentSessionId:n,reason:"session_id_mismatch",location:"setLightweightPanelDismissed"}))}if(!t&&this.widgetSessionState.panelShown){$.logUIStateChange("Prevented setting lightweightPanelDismissed=false because full panel is shown",{currentPanelShown:this.widgetSessionState.panelShown,attemptedValue:t,currentLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,location:"setLightweightPanelDismissed"});return}t!==this.sessionState.lightweightPanelDismissed&&$.logUIStateChange(`Lightweight panel ${t?"dismissed":"shown"}`,{previousState:this.sessionState.lightweightPanelDismissed,newState:t,messagesCount:this.receivedMessages.length,currentPanelShown:this.widgetSessionState.panelShown}),this.sessionState.lightweightPanelDismissed=t});y(this,"setVideoAudioDismissed",t=>{t!==this.sessionState.videoAudioDismissed&&$.logUIStateChange(`Video/audio ${t?"dismissed":"shown"}`,{previousState:this.sessionState.videoAudioDismissed,newState:t,remoteVideoOn:N.webRtcStore.mediaStore.remoteVideoOn,remoteMicOn:N.webRtcStore.mediaStore.remoteMicOn}),this.sessionState.videoAudioDismissed=t});y(this,"openBookingView",t=>{this.syncSessionIdIfNeeded("openBookingView"),this.sessionState.bookingUrl=t,this.sessionState.panelShown||(this.sessionState.panelShown=!0,this.sessionState.lightweightPanelDismissed=!0),$.logUIStateChange("Booking view opened",{url:t,location:"openBookingView"})});y(this,"closeBookingView",()=>{this.sessionState.bookingUrl=null,$.logUIStateChange("Booking view closed",{location:"closeBookingView"})});y(this,"dismissMessages",()=>{const t=N.recentMessages.length;$.logUserInteraction("Messages dismissed",{messageCount:t,messageIds:N.recentMessages.map(i=>i.id)}),this.dismissedMessages=[...N.recentMessages.map(i=>i.id||"")];const n=N.recentMessages.map(i=>{try{return JSON.parse(i.content||"{}").workflowStepId}catch{return null}}).filter(Boolean);this.dismissedWorkflowSteps=[...new Set([...this.dismissedWorkflowSteps,...n])]});y(this,"dismissLightweightPanel",()=>{this.syncSessionIdIfNeeded("dismissLightweightPanel");const t=N.webRtcStore.mediaStore.remoteMicOn||N.webRtcStore.mediaStore.remoteVideoOn;t&&this.setVideoAudioDismissed(!0),$.logUserInteraction("Lightweight panel dismissed",{messagesCount:this.receivedMessages.length,showVideoOrAudio:t}),this.dismissMessagesAndLightweightPanel()});y(this,"getHubspotCookie",()=>{if(!this.hubspotCookie){let t=0;const n=setInterval(M(()=>{var l,c;const i=(l=document==null?void 0:document.cookie)==null?void 0:l.split("; ").find(f=>f.startsWith("hubspotutk=")),o=(c=i==null?void 0:i.split("="))==null?void 0:c[1];o&&(this.hubspotCookie=o,clearInterval(n)),t++,t>=3&&clearInterval(n)}),2e3)}});y(this,"setSessionId",t=>{const n=this.sessionState.sessionId;if(n===t){$.logUIStateChange("setSessionId called with same sessionId, no reset",{sessionId:t,currentPanelShown:this.sessionState.panelShown,currentLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,dismissedMessagesCount:this.dismissedMessages.length,dismissedWorkflowStepsCount:this.dismissedWorkflowSteps.length,location:"setSessionId"});return}const i={...this.sessionState},o=[...this.dismissedMessages],l=[...this.dismissedWorkflowSteps];this.resetSessionState(t),$.logUIStateChange("Session ID set, sessionState reset to defaults",{previousSessionId:n,newSessionId:t,previousPanelShown:i.panelShown,previousLightweightPanelDismissed:i.lightweightPanelDismissed,newPanelShown:this.sessionState.panelShown,newLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,previousDismissedMessagesCount:o.length,previousDismissedWorkflowStepsCount:l.length,newDismissedMessagesCount:this.dismissedMessages.length,newDismissedWorkflowStepsCount:this.dismissedWorkflowSteps.length,newVideoAudioDismissed:this.sessionState.videoAudioDismissed,location:"setSessionId"})});y(this,"resetSessionState",t=>{this.sessionState={...xl,...t!==void 0&&{sessionId:t}},this.dismissedMessages=[],this.dismissedWorkflowSteps=[],$.logUIStateChange("Session state reset",{sessionId:t,newPanelShown:this.sessionState.panelShown,newLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,newDismissedMessagesCount:this.dismissedMessages.length,newDismissedWorkflowStepsCount:this.dismissedWorkflowSteps.length,location:"resetSessionState"})});y(this,"syncSessionIdIfNeeded",M(t=>{const n=N.sessionId;if(n&&this.sessionState.sessionId!==n){const i=this.sessionState.sessionId;$.logUIStateChange(`Syncing session ID in ${t}`,{previousSessionId:i,newSessionId:n,location:t}),this.sessionState={...xl,sessionId:n},$.logUIStateChange("Session state reset after session ID sync",{previousSessionId:i,newSessionId:n,resetPanelShown:this.sessionState.panelShown,resetLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,location:`${t}.syncSessionIdIfNeeded`})}}));y(this,"dismissVideoAudioIfShown",()=>N.webRtcStore.mediaStore.remoteMicOn||N.webRtcStore.mediaStore.remoteVideoOn?(this.setVideoAudioDismissed(!0),!0):!1);y(this,"dismissMessagesAndLightweightPanel",()=>{this.dismissMessages(),this.sessionState.lightweightPanelDismissed=!0});y(this,"handleHydrationComplete",()=>{const t=this.sessionState.sessionId,n=N.sessionId,i=t&&n&&t===n;$.logUIStateChange("Both stores hydrated, running handleHydrationComplete",{persistedSessionId:t,currentSessionId:n,sessionMatches:i,persistedPanelShown:this.sessionState.panelShown,persistedLightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,location:"WidgetStore.handleHydrationComplete"}),t&&!i?($.logUIStateChange("Clearing persisted state from previous session after hydration",{persistedSessionId:t,currentSessionId:n,reason:n?"session_id_mismatch":"no_current_session",location:"WidgetStore.handleHydrationComplete"}),this.sessionState={...xl,sessionId:void 0},this.dismissedMessages=[],this.dismissedWorkflowSteps=[]):i&&this.sessionState.panelShown&&!this.sessionState.lightweightPanelDismissed?(this.sessionState.lightweightPanelDismissed=!0,$.logUIStateChange("Ensured lightweightPanelDismissed consistency after hydration",{persistedSessionId:t,panelShown:this.sessionState.panelShown,location:"WidgetStore.handleHydrationComplete"})):i&&this.sessionState.panelShown&&$.logUIStateChange("Hydration complete: preserving full panel state",{persistedSessionId:t,panelShown:this.sessionState.panelShown,lightweightPanelDismissed:this.sessionState.lightweightPanelDismissed,location:"WidgetStore.handleHydrationComplete"})});y(this,"resetState",()=>{Object.entries(mt).forEach(([t,n])=>this[t]=n),V0(this)});o0(this,{hydrationHandled:!1}),nh(this,{name:"WidgetStore",properties:["sessionState","dismissedMessages","dismissedWorkflowSteps"],storage:window.localStorage}),Ke(()=>({widgetHydrated:this.isHydrated,clientHydrated:N.isHydrated}),({widgetHydrated:t,clientHydrated:n})=>{t&&n?this.hydrationHandled||(this.hydrationHandled=!0,this.handleHydrationComplete()):$.logUIStateChange("Stores not yet fully hydrated",{widgetHydrated:t,clientHydrated:n,persistedSessionId:this.sessionState.sessionId,persistedPanelShown:this.sessionState.panelShown,currentSessionId:N.sessionId,location:"WidgetStore.constructor.reaction"})},{fireImmediately:!0}),this.shadowDom=SP(),N.shouldDisplayFab&&N.isHydrated&&this.isHydrated&&!this.appRendered&&this.renderApp()}setPage(t){const{sessionId:n,sessionTerminated:i,recreatingSession:o}=N;this.currentPage!==t&&(this.currentPage=t,n&&!i?Be.sessions.trackPageVisit.mutate({sessionId:n,url:window.location.href}):i&&!o?(ie.info(`Page navigation detected after session termination, recreating session for: ${window.location.href}`),M(()=>{N.recreatingSession=!0})(),N.recordSession(),N.queueActivity({type:"page_visit",timestamp:Date.now(),data:{url:window.location.href,reason:"navigation_after_termination"}})):!n&&!o&&(ie.info(`Page navigation detected without session, creating session for: ${window.location.href}`),M(()=>{N.recreatingSession=!0})(),N.recordSession(),N.queueActivity({type:"page_visit",timestamp:Date.now(),data:{url:window.location.href,reason:"navigation_without_session"}})))}get showLightweightPanel(){const t=this.widgetSessionState;return t.panelShown?!1:!t.lightweightPanelDismissed&&!t.panelShown&&(N.isEngagedInConversation||N.isEngagedByWorkflow)}get receivedMessages(){return N.recentMessages}get newlyReceivedMessages(){return this.receivedMessages.filter(t=>{if(this.dismissedMessages.includes(t.id||""))return!1;try{const n=JSON.parse(t.content||"{}");if(n.workflowStepId&&this.dismissedWorkflowSteps.includes(n.workflowStepId))return!1}catch{}return!0})}get widgetSessionState(){const t=this.sessionState.sessionId,n=N.sessionId;return n?N.recordSessionState.loading&&this.sessionState.panelShown?{...this.sessionState,panelShown:!1,isFullScreen:!1}:t&&t===n?this.sessionState:mt.sessionState:mt.sessionState}get isHydrated(){return R0(this)}}const ve=new _P;Ke(()=>({hubspotCookie:ve.hubspotCookie,recordingSession:N.recordSessionState.loading||N.recreatingSession}),({hubspotCookie:e,recordingSession:t})=>{!N.sessionId||!e||t||N.updateHubspotUserToken({sessionId:N.sessionId,hubspotCookie:e},{context:{target:"session-server"}})});Ke(()=>N.shouldDisplayFab||ve.sessionState.panelShown,e=>{var i,o;const t=(o=(i=N.recordSessionState.value)==null?void 0:i.config)==null?void 0:o.hideElementsOnShow;if(!t)return;t.split(",").forEach(l=>{const c=document.querySelector(l);c&&(c.style.setProperty("display",e?"none":"block",e?"important":void 0),c.style.setProperty("visibility",e?"hidden":"visible",e?"important":void 0))})});Ke(()=>ve.receivedMessages,()=>{ve.receivedMessages.length&&($.logUIStateChange("Received messages reaction triggered",{messageCount:ve.receivedMessages.length,currentPanelShown:ve.sessionState.panelShown,currentLightweightPanelDismissed:ve.sessionState.lightweightPanelDismissed,sessionStateSessionId:ve.sessionState.sessionId,currentSessionId:N.sessionId,location:"receivedMessages.reaction"}),ve.setLightweightPanelDismissed(!1))});Ke(()=>({shouldDisplayFab:N.shouldDisplayFab,clientHydrated:N.isHydrated,widgetHydrated:ve.isHydrated}),({shouldDisplayFab:e,clientHydrated:t,widgetHydrated:n})=>{e&&t&&n&&!ve.appRendered&&($.logUIStateChange("Rendering app after both stores hydrated",{shouldDisplayFab:e,clientHydrated:t,widgetHydrated:n,sessionId:N.sessionId,widgetSessionId:ve.sessionState.sessionId,panelShown:ve.sessionState.panelShown,location:"shouldDisplayFab.reaction"}),ve.renderApp())});const Oo=new Map,bP=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`listener_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,AP=e=>{Oo.forEach((t,n)=>{try{t(e),Oo.delete(n)}catch(i){ie.error(`Error invoking session ID listener ${n}`,i),Oo.delete(n)}})},CP=e=>{if(typeof e!="function")throw ie.error("addSessionIdListener requires a callback function"),new Error("addSessionIdListener requires a callback function");const t=bP(),n=N.sessionId;return n?queueMicrotask(()=>{try{e(n)}catch(i){ie.error(`Error immediately invoking session ID listener ${t}`,i)}}):Oo.set(t,e),t},EP=e=>{if(!e)throw ie.error("removeSessionIdListener requires a listener ID"),new Error("removeSessionIdListener requires a listener ID");Oo.delete(e)||ie.warn(`Attempted to remove non-existent session ID listener: ${e}`)},ai=k_,_h=`${ai}-config`,kP={logs:!1,record:!0};let Tl;function OP(e){if(xP(),!e[ai]){const n=document.getElementById(ai);if(!n)throw Error("Cannot find script tag with id {$widgetName}-Script");let i=n.getAttribute("data-config");i=i==null?void 0:i.replace(/'/g,'"');const o=JSON.parse(i);e[ai]=o.name;const l={};(l.q=[]).push(["init",o.config]),e[e[ai]]=l}const t=e[e[ai]];if(e[e[ai]]=Zv,e[_h]=kP,t){const n=t.q;if(n)for(const i of n)Zv(i[0],i[1])}}const IP=()=>{let e=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?n:n&3|8).toString(16)})},xP=()=>{if(window.warmly_fingerprint)return;const t=localStorage.getItem("warmly_fingerprint");if(t){window.warmly_fingerprint=t;return}const n=IP();localStorage.setItem("warmly_fingerprint",n),window.warmly_fingerprint=n},TP=e=>{const t=e==null?void 0:e.clientId;if(!t){ie.error("No Client ID provided");return}Tl=Object.assign({},Tl,e),window[_h]=Tl;const n=typeof(e==null?void 0:e.record)>"u"?!0:e.record;ve.initialize(t,n)},Zv=(e,t)=>{if(!e)throw Error("API method required");switch(Tl=window[_h],e){case"init":TP(t);break;case"sendMessage":ve.addMessage(t);break;case"hide":ve.hide();break;case"show":ve.show();break;case"onSessionJoined":ve.onSessionJoined(t);break;case"makeWidgetFullScreen":ve.toggleFullScreen();break;case"addSessionIdListener":return CP(t);case"removeSessionIdListener":EP(t);break;default:throw Error(`Method ${e} is not supported`)}};OP(window);Ke(()=>N.sessionId,e=>{e&&AP(e)});export{le as $,DP as A,rr as B,R_ as C,N as D,ve as E,kt as F,o0 as G,LP as H,df as I,ey as J,aE as K,ie as L,jo as M,UP as N,So as O,ly as P,Be as Q,VP as R,pn as S,wn as T,Mr as U,w0 as V,v0 as W,$ as X,FP as Y,$P as Z,_0 as _,P_ as a,rh as a0,Ln as a1,Un as a2,M as a3,Mt as a4,BP as a5,iE as a6,NP as a7,oE as a8,Ke as a9,I1 as b,iy as c,Jn as d,N_ as e,k1 as f,hs as g,ut as h,ts as i,Sm as j,Df as k,Uf as l,ny as m,V1 as n,ty as o,ab as p,Z1 as q,ps as r,Nf as s,Hd as t,E1 as u,Tf as v,ci as w,Yl as x,zr as y,MP as z};
